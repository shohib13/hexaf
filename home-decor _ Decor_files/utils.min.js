define("utils/util/stringUtils",["lodash"],function(a){"use strict";return{capitalize:function(b,c){return a.capitalize(c?b.toLowerCase():b)},startsWith:function(b,c,d){return b?d?this.startsWith(b.toLowerCase(),c.toLowerCase(),!1):a.startsWith(b,c):!1},endsWith:function(b,c,d){return b?d?this.endsWith(b.toLowerCase(),c.toLowerCase(),!1):a.endsWith(b,c):!1},isNullOrEmpty:function(a){return!a||!a.trim()},isTrue:function(a){return"true"===a}}}),define("utils/util/urlUtils",["lodash","utils/util/stringUtils"],function(a,b){"use strict";function c(a){var b=/^(ftps|ftp|http|https):.*$/.test(a),c=/^\/\//.test(a);return b?a:c?"http:"+a:"http://"+a}function d(b,c){return a.map(b,function(a,b){return e(b,a,c)}).sort().join("&")}function e(b,c,d){return a.includes([void 0,null,""],c)?encodeURIComponent(b):a.isArray(c)?c.map(function(a){return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&"):(d&&"boolean"==typeof c&&(c=c?"1":"0"),encodeURIComponent(b)+"="+encodeURIComponent(c))}function f(a){var b=m(a);return b.protocol+"//"+b.host}function g(a){var b=m(a);return b.path}function h(b,c){var d=b.path||b.pathname||"",e=d.split("/"),f=a.compact(e.slice(0,(c||0)+1)),g=b.protocol+"//"+b.hostname;return a.isEmpty(f)||(g+="/"+f.join("/")),g}function j(){return(new Date).getTime().toString()+i++}function k(){i=0}function m(a){if(!a)return{};var b=a.match(l),c=b[5]||"",d=b[8]?"?"+b[8]:"",e={full:a,protocol:b[2]||"http:",host:b[3]+(c?":"+c:""),hostname:b[3],port:c,path:b[6]||"/",search:d,hash:b[9]||""};return"#"!==e.hash&&"#!"!==e.hash||(e.hash=""),e.query=n(b[8]),e}function n(b){for(var d,c=/([^&=]+)=([^&]*)/g,e={};null!==(d=c.exec(b));){var f=decodeURIComponent(d[1]),g=decodeURIComponent(d[2]);e[f]?a.isArray(e[f])?e[f].push(g):e[f]=[e[f],g]:e[f]=g}return e}function o(c,d,e){var f=c.split("?"),g=[],h=!1;if(f.length>1){g=f[1].split("&");var i=a.findIndex(g,function(a){return b.startsWith(a,d+"=")});-1!==i&&(g[i]=d+"="+String(e),h=!0)}return h||g.push(d+"="+String(e)),f[1]=g.join("&"),c=f.join("?")}function p(a,b){var c=m(a);return delete c.search,c.query&&delete c.query[b],r(c)}function q(b,c){var d=b;return a.forEach(c,function(a,b){d=o(d,b,a)}),d}function r(b,c){var e=c?null:b.search;e&&(e=e.replace(/^[?]/,""));var f=e||d(b.query||{});if(f){var g=a.includes(b.path,"?")?"&":"?";f=g+f}return t(b.full)?b.full:b.protocol+"//"+b.hostname+(b.port?":"+b.port:"")+b.path+(f||"")+b.hash}function s(a){return/(^https?)|(^data)|(^blob)/.test(a)}function t(a){return/(^data)|(^blob)/.test(a)}function u(a){return!a||!a.trim()||"none"===a.toLowerCase()}function v(a,b){function c(a){return a&&a.replace(/[?&#\/]+$/,"").toLowerCase()}return c(a)===c(b)}function w(){for(var a=arguments[0],b=1;b<arguments.length;++b)a=a.replace(/\/$/,"")+"/"+arguments[b].replace(/^\//,"");return a}function x(a){window.history&&window.history.replaceState?window.history.replaceState({},"",a):console.error("window.history is not supported in this OLD browser!")}function y(a,b,c){if(s(a))return a;var d=b+"/";return a&&(/^micons\//.test(a)?d=c:"ico"===/[^.]+$/.exec(a)[0]&&(d=d.replace("media","ficons"))),d+a}function z(b,c){return a.has(b.query,c)&&"false"!==b.query[c]}function A(){if(window.location.origin)return window.location.origin;var a=window.location.port?":"+window.location.port:"";return window.location.protocol+"//"+window.location.hostname+a}var i=0,l=/((https?\:)\/\/)?([^\?\:\/#]+)(\:([0-9]+))?(\/[^\?\#]*)?(\?([^#]*))?(#.*)?/i;return{addProtocolIfMissing:c,toQueryString:d,toQueryParam:e,baseUrl:f,getPath:g,cacheKiller:j,resetCacheKiller:k,removeUrlParam:p,setUrlParam:o,setUrlParams:q,isExternalUrl:s,isUrlEmptyOrNone:u,updateUrl:x,parseUrl:m,parseUrlParams:n,buildFullUrl:r,isQueryParamOn:z,isSame:v,joinURL:w,getMediaUrlByContext:y,origin:A,getBaseUrlWithPath:h}}),define("utils/bi/services/wixBI",["lodash","utils/util/urlUtils"],function(a,b){"use strict";function h(b,c){var e=d&&"editor"===c.adapter?window.parent.mainLoaded:0;return e=e||b.wixBiSession.initialTimestamp||b.wixBiSession.mainLoaded,a.now()-e}function i(c,d){var f;a.defaults(d,e),f="string"==typeof d.queryString?d.queryString:b.toQueryString(a.defaults(d.params,{ts:h(c,d)})),g(d.biUrl,d.adapter,f)}var c="undefined"!=typeof window,d=c&&window.queryUtil&&window.queryUtil.isParameterTrue("isEdited"),e={biUrl:"http://frog.wixpress.com",adapter:"",params:{}},f=function(){if(!c)return!0;for(var a=[/bot/i,/Google Web Preview/i,/^Mozilla\/4\.0$/],b=window.navigator.userAgent,d=0;d<a.length;++d)if(a[d].test(b))return!0;return!1}(),g=f?function(){}:function(a,b,c){var d=new window.Image;"/"!==a.substr(-1)&&(a+="/"),d.src=a+b+"?"+c};return{report:i}}),define("utils/siteUtils/siteConstants",[],function(){"use strict";return{GLOBAL_IMAGE_QUALITY:"IMAGE_QUALITY",GLOBAL_IMAGE_QUALITY_PROPERTIES:["quality","unsharpMask"],MASTER_PAGE_ID:"masterPage",HEADER_ID:"SITE_HEADER",FOOTER_ID:"SITE_FOOTER",PAGES_CONTAINER_ID:"PAGES_CONTAINER",SITE_PAGES_ID:"SITE_PAGES",COMP_SIZE:{MIN_WIDTH:5,MIN_HEIGHT:5,MAX_WIDTH:2500,MAX_HEIGHT:15e3},COMP_MODES_TYPES:{HOVER:"HOVER",SCROLL:"SCROLL",DEFAULT:"DEFAULT"},URL_FORMATS:{SLASH:"slash",HASH_BANG:"hashBang"},DEFAULT_PAGE_URI_SEO:"untitled",BRIGHTNESS_DIFF_THRESHOLD:20,FREE_DOMAIN:{WIXSITE:"wixsite.com",WIX:"wix.com"}}}),define("utils/bi/services/googleAnalytics",["lodash","utils/siteUtils/siteConstants"],function(a,b){"use strict";function d(b,c,d){function e(){var e=window._gaq||[];window._gaq=e,a.forEach(c,function(a,c){var f=0===c?"":"t"+c+".";e.push([f+"_setAccount",a],[f+"_setAllowAnchor",!0]),d&&e.push([f+"_setCustomVar",1,"version",d.ver,1],[f+"_setCustomVar",2,"language",d.lng,1],[f+"_setCustomVar",3,"userType",d.userType,1]),e.push([f+"_trackPageview",b])})}window._gaq?e():requirejs(["https://stats.g.doubleclick.net/dc.js"],e,a.noop)}function e(b,c){function d(){window.ga.q=window.ga.q||[],a.forEach(c,function(a){window.ga("create",a,"auto"),window.ga("send","pageview",{page:b})})}window.ga?d():requirejs(["//www.google-analytics.com/analytics.js"],function(){window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=a.now(),d()},a.noop)}var c=200;return{reportPageEvent:function(a,f,g,h){"undefined"!=typeof window&&setTimeout(function(){a.isUsingUrlFormat(b.URL_FORMATS.SLASH)?e(f,g):d(f,g,h)},c)}}}),define("utils/bi/services/facebookRemarketing",["lodash","experiment!sv_NewFacebookConversionPixel"],function(a,b){"use strict";function c(a){if(e(a)){var b=window._fbq||(window._fbq=[]);if(!b.loaded){var c=document.createElement("script");c.async=!0,c.src="//connect.facebook.net/en_US/fbds.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d),b.loaded=!0}b.push(["addPixelId",a[0]]),window._fbq.push(["track","PixelInitialized",{}])}}function d(a){var b,c,d;!window.fbq&&e(a)&&(b=window.fbq=function(){b.callMethod?b.callMethod.apply(b,arguments):b.queue.push(arguments)},window._fbq||(window._fbq=b),b.push=b,b.loaded=!0,b.version="2.0",b.queue=[],c=document.createElement("script"),c.async=!0,c.src="//connect.facebook.net/en_US/fbevents.js",d=document.getElementsByTagName("script")[0],d.parentNode.insertBefore(c,d),window.fbq("init",a[0]),window.fbq("track","PageView"))}function e(b){return Number(b[0])&&a.isString(b[0])&&1===b.length}return{initRemarketingPixel:b?d:c}}),define("utils/bi/services/googleRemarketing",["lodash"],function(a){"use strict";function d(d){!b&&e(d)&&(a.assign(c,{google_conversion_id:d[0]}),f(),b=!0)}function e(b){return a.isArray(b)&&1===b.length&&Number(b[0])}function f(){var a=document.createElement("script");a.type="text/javascript",a.src="//www.googleadservices.com/pagead/conversion_async.js",a.async=!0,a.setAttribute("onload","google_trackConversion("+JSON.stringify(c)+")");var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}function g(){b&&window.google_trackConversion&&window.google_trackConversion(c)}var b=!1,c={google_custom_params:{},google_remarketing_only:!0};return{initRemarketingPixel:d,fireRemarketingPixel:g}}),define("utils/bi/services/yandexMetrika",["lodash"],function(a){"use strict";function e(b){return a.isArray(b)&&a.isFinite(parseInt(b[0],10))}function f(a){d="yaCounter"+a}function g(a){(window[b]=window[b]||[]).push(function(){try{window[d]=new window.Ya.Metrika(i(a))}catch(b){}})}function h(){if(!c){var a=document.getElementsByTagName("script")[0],b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src="https://mc.yandex.ru/metrika/watch.js",b.addEventListener("load",function(){c=!0}),a.parentNode.insertBefore(b,a)}}function i(a){return{id:parseInt(a,10),clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0}}var d,b="yandex_metrika_callbacks",c=!1;return{initialize:function(a){e(a)&&(f(a[0]),g(a[0]),h())},reportPageHit:function(b){c&&window[d]&&a.isFunction(window[d].hit)&&window[d].hit(b)}}}),define("utils/bi/bi",["utils/bi/services/wixBI","utils/bi/services/googleAnalytics","utils/bi/services/facebookRemarketing","utils/bi/services/googleRemarketing","utils/bi/services/yandexMetrika"],function(a,b,c,d,e){"use strict";return{wixBI:a,googleAnalytics:b,facebookRemarketing:c,googleRemarketing:d,yandexMetrika:e}}),define("utils/util/cookieUtils",[],function(){"use strict";function a(a){for(var b={},c=a.split(/;\s*/),d=0,e=c.length;e>d;d++){var f=c[d].split("=");b[f[0]]=f[1]}return b}function b(b){if("undefined"!=typeof document){var c=a(document.cookie);return c[b]}}function c(a,b,c,d,e,f){if("undefined"!=typeof document){var g=a+"="+b;c&&(g+=";expires=",g+="number"==typeof c?new Date((new Date).getTime()+c).toGMTString():new Date(c).toGMTString()),g+=";path="+(e||"/"),d&&(g+=";domain="+d),f&&(g+=";secure"),document.cookie=g}}function d(a,b,d){"undefined"!=typeof document&&(b=b||(document?document.location.host:""),c(a,"","Thu, 01-Jan-1970 00:00:01",b,d||"/"))}return{parseCookieString:a,setCookie:c,getCookie:b,deleteCookie:d}}),define("utils/util/guidUtils",["lodash","experiment"],function(a,b){"use strict";function f(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)}function g(){return String.fromCharCode(97+Math.floor(26*Math.random()))}var c,d=0,e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",h={getUniqueId:function(a,b){a=a||"",b=b||"";var e=Date.now();return e===c?d++:(c=e,d=0),a+b+Number(c).toString(36)+(d?d:"")},getGUID:function(){return e.replace(/[xy]/g,f)},generateNewPageId:function(b){var c=g()+new Array(4).join().replace(/(.|$)/g,function(){return(36*Math.random()|0).toString(36)});return a.includes(b,c)?this.generateNewPageId(b):c}};return b.isOpen("sv_popups")&&a.assign(h,{generateNewPopupId:function(b,c){function f(b,c){c=a.isUndefined(c)?b.length-1:c;var d=b.charCodeAt(c);return d>121?(b=f(b,c-1),d=47):d>56&&96>d&&(d=96),b.substr(0,c)+String.fromCharCode(d+1)+b.substr(c+1)}var e,d=a(c).sortBy().last();if(d){e=d;do e=f(e);while(a.includes(b,e));return e}return this.generateNewPageId(b)}}),h}),define("utils/logger/newrelic",["lodash"],function(a){"use strict";if(!("undefined"==typeof window||window.queryUtil&&window.queryUtil.isParameterTrue("suppressbi"))){var b;try{b=window.parent.newrelic}catch(c){b=window.newrelic}if(b){var d=window.performance&&window.performance.now?function(){return Math.round(window.performance.now())}:function(){return 0};return{setCustomAttribute:b.setCustomAttribute.bind(b),addPageAction:function(c,e){var f=d();return e=a.assign({},e,{timeSinceNavigate:f}),b.addPageAction(c,e)},finished:function(){var a=d();return a&&this.setCustomAttribute("timeSinceNavigate",d()),b.finished.apply(b,arguments)}}}}return{setCustomAttribute:a.noop,addPageAction:a.noop,finished:a.noop}}),define("utils/logger/performance",["lodash","utils/logger/newrelic"],function(a,b){"use strict";var c="undefined"!=typeof window&&window.queryUtil;if(!c||c.isParameterTrue("suppressperformance"))return{mark:a.noop,measure:a.noop,start:a.noop,finish:a.noop,time:function(a,b){return b.apply(this,Array.prototype.slice.call(arguments,2))},getMark:a.noop,getMeasure:a.noop,clearMarks:a.noop,clearMeasures:a.noop,now:a.now};var d,e=window.performance;if(e&&e.now)d=e.now.bind(e);else{var f=window.wixBiSession&&window.wixBiSession.initialTimestamp||0;d=function(){return a.now()-f}}var h,g=c.getParameterByName("debug")&&"force"!==c.getParameterByName("sampleratio")?a.noop:function(c,d){c&&(d=a.defaults({measureName:c.name,startTime:Math.round(c.startTime),duration:Math.round(c.duration)},d),b.addPageAction("measure",d))};if(e&&e.measure){var i=function(b,c){return a.find(e.getEntriesByName(c),{entryType:b})};h={mark:e.mark.bind(e),measure:function(a,b,c,d,f){try{e.measure(a,b,c),d&&g(h.getMeasure(a),f)}catch(i){}},getMark:i.bind(this,"mark"),getMeasure:i.bind(this,"measure"),clearMarks:e.clearMarks.bind(e),clearMeasures:e.clearMeasures.bind(e)}}else{var j={domLoading:{name:"domLoading",startTime:0}},k={},l=function(a,b){b?delete a[b]:a={}};h={mark:function(a){j[a]={name:a,startTime:d()}},measure:function(a,b,c,d,e){var f=h.getMark(b),i=h.getMark(c);if(f&&i){var j={name:a,startTime:f.startTime,duration:i.startTime-f.startTime};isNaN(j.duration)||(k[a]=j,d&&g(j,e))}},getMark:function(a){return j[a]},getMeasure:function(a){return k[a]},clearMarks:l.bind(this,j),clearMeasures:l.bind(this,k)}}return h.start=function(a){h.mark(a+" start")},h.finish=function(a,b,c){var d=a+" start",e=a+" finish";h.mark(e),h.measure(a,d,e,b,c),h.clearMarks(d),h.clearMarks(e)},h.time=function(a,b,c,d){try{return h.start(a),b.apply(this,Array.prototype.slice.call(arguments,4))}finally{h.finish(a,c,d)}},h.now=d,h}),define("utils/logger/beat",["lodash","utils/bi/bi","utils/util/cookieUtils","utils/util/urlUtils","utils/util/guidUtils","utils/util/stringUtils","utils/logger/performance"],function(a,b,c,d,e,f,g){"use strict";function u(b){var c=d.toQueryString(a.omit(b,q),!0);return a.reduce(q,function(a,c){return a+"&"+d.toQueryParam(c,b[c],!0)},c)}function v(b,c,d,e){var f=w(b),g=x(b,d,e),h={et:C(d)};return a.merge({},c,f,g,h)}function w(a){return{vuuid:z(),vid:m,dc:a.serviceTopology.serverName,vsi:j[a.siteId].viewerSessionId,uuid:a.siteHeader.userId,sid:a.siteId,msid:a.getMetaSiteId()}}function x(b,c,d){return{pid:d,pn:A(b,c),st:y(b),sr:E(),wr:F(),isjp:t?"1":"0",isp:b.isPremiumDomain(),url:D(b.currentUrl.full),ref:document.referrer,ts:B(b,c),c:a.now(),v:b.baseVersion||"unknown"}}function y(b){var c=b.rendererModel.siteInfo.documentType,d=a.indexOf(k,c);return-1!==d?d:c}function z(){var b=c.getCookie("_wixUIDX")||"";return b=b.slice(a.lastIndexOf(b,"|")+1),b=b.replace(/^(null-user-id|null)$/g,"")}function A(a,b){return"start"===b&&j[a.siteId].pageNumber++,j[a.siteId].pageNumber}function B(b,c){return"start"===c?(j[b.siteId].lastTimeStamp=a.now(),0):a.now()-j[b.siteId].lastTimeStamp}function C(b){return H(b)?b:a.indexOf(l,b)}function D(a){return a.replace(/^http(s)?:\/\/(www\.)?/,"").substring(0,256)}function E(){var a=window.screen&&window.screen.width||0,b=window.screen&&window.screen.height||0;return a+"x"+b}function F(){var a=0,b=0;return window.innerWidth?(a=window.innerWidth,b=window.innerHeight):window.document&&(document.documentElement&&document.documentElement.clientWidth?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):document.body&&document.body.clientWidth&&(a=document.body.clientWidth,b=document.body.clientHeight)),a+"x"+b}function G(a,b){i.et=b.et,a.wixBiSession.et=b.et}function H(a){return a>3}function I(a){var b=h[a];return h[a]=!0,b}function J(a,b){return a&&a.wixBiSession.viewerSessionId&&"preview"!==a.viewMode&&!f.isTrue(a.currentUrl.query.suppressbi)&&-1!==C(b)&&(!H(b)||!I(b))}function K(a){j[a.siteId]=j[a.siteId]||{pageNumber:1,lastTimeStamp:a.wixBiSession.initialTimestamp||0,viewerSessionId:a.wixBiSession.viewerSessionId||e.getGUID()}}function L(a,b){return{queryString:u(b),adapter:o.adapter,biUrl:a.getServiceTopologyProperty("biServerUrl")||o.biUrl}}function M(a,c){var d=L(a,c);b.wixBI.report(a,d)}function N(a,b,c){var d=setTimeout(function(){d=0,c(b)},n);a.subSvSession(function(a){d&&(clearTimeout(d),b.vid=a||m,c(b))})}function P(a,b,c){K(a);var d=v(a,p,b,c);G(a,d),J(a,b)&&N(a,d,M.bind(null,a));var e=a.viewMode;e="site"===e?"":" "+e,O||(g.measure("main-r started"+e,"domLoading","beat 4",!0),g.measure("utils loaded"+e,"beat 4","beat 5",!0),O="beat 5");var f="beat "+b;g.mark(f);var h=r[b]||b;g.measure(h+e,O,f,!0),O=f}var h=[],i={};"undefined"!=typeof window&&window.wixBiSession&&(i=window.wixBiSession,i.beat(5));var j={},k=["No Site Type","WixSite","UGC","Template"],l=["No Event Type","start","reset","finish"],m="NO_SV",n=2e3,o={adapter:"bt",biUrl:"http://frog.wix.com/"},p={src:29,evid:3},q=["url","ref"],r={6:"packages loaded",7:"load data",8:"render",finish:"layout"},s=!1,t=!1;"undefined"!=typeof window&&(s=/bot|google|crawler|spider|robot|crawling|^Mozilla\/4\.0$/i.test(window.navigator.userAgent),t=s||!/na[t]ive/.test(Function.prototype.bind));var O;return{reportBeatEvent:P}}),define("utils/logger/logger",["lodash","utils/bi/bi","utils/logger/beat","utils/util/cookieUtils","utils/util/guidUtils","utils/util/stringUtils"],function(a,b,c,d,e,f){"use strict";function n(a){return"string"==typeof a?k[a]:a}function o(a){return{errn:a.errorName,evid:10,sev:n(a.severity),cat:g?1:2,iss:1,ut:d.getCookie("userType")}}function p(b,c){var d={};return a.merge(d,x(b,j)),a.merge(d,o(b)),a.merge(d,w(b,c)),c&&c.description&&(d.desc=JSON.stringify(c.description).slice(0,512)),a.defaults(d,{src:44,sev:30,errn:"error_name_not_found"}),d}function q(b,c){var d={};return a.merge(d,x(b,l)),a.merge(d,w(b,c)),a.defaults(d,{src:42}),d}function r(b,c,d){var e={},f=c.reportType||(c.errorCode||c.errc?"error":"event");switch(f){case"error":a.merge(e,p(c,d));break;case"event":a.merge(e,q(c,d))}return a.merge(e,u(b)),e}function s(a,b,c){return{biUrl:a.serviceTopology.biServerUrl,adapter:b.adapter||b.endpoint,params:r(a,b,c)}}function t(a){var b=a.santaBase&&a.santaBase.match(/([\d\.]+)\/?$/);return b&&b[1]||""}function u(b){m[b.siteId]=m[b.siteId]||b.wixBiSession.viewerSessionId||e.getGUID();var c=b.serviceTopology.serverName?a.first(b.serviceTopology.serverName.split(".")):"",d={did:b.siteId,msid:b.getMetaSiteId(),majorVer:h,ver:t(b),server:c,viewMode:b.viewMode};return g||(d.vsi=m[b.siteId]),d}function v(a){return"string"==typeof a?encodeURIComponent(a):a}function w(b,c){var d={},e=b.params;return d=a.isArray(e)?a.pick(c,e):a.isObject(e)?a.mapValues(e,function(a){return v(c[a])}):a.mapValues(c,v)}function x(b,c){return a.transform(b,function(a,b,d){var e=c[d];e&&(a[e]=b)},{})}function y(a){return f.isTrue(a.currentUrl.query.suppressbi)}function z(a){return a?(a.callCount=a.callCount||0,a.callCount++,a.callLimit&&a.callCount>a.callLimit):!1}function A(a,b){return 0===Math.floor(a.wixBiSession.random*b)}function B(a,b){if(a.forceBI)return!0;var c=i;if(b&&(a.isWixSite()&&"wixSiteSampleRatio"in b?c=b.wixSiteSampleRatio:"sampleRatio"in b?c=b.sampleRatio:("errorCode"in b||"editor"===b.endpoint)&&(c=0)),c&&c>=1){var d=a.currentUrl.query.sampleratio;return a.isDebugMode()&&"force"!==d||"none"===d||A(a,c)}return!0}function C(a,b){return!y(a)&&!z(b)&&B(a,b)}function D(c,d,e){if(c&&a.isObject(d)&&C(c,d)){var f=s(c,d,e);b.wixBI.report(c,f)}}function E(a,b){var c=[],d=a.isPremiumDomain();switch(b){case"googleAnalytics":F(a,b)&&c.push(a.googleAnalytics);break;case"facebookRemarketing":F(a,b)&&d&&c.push(a.facebookRemarketing);break;case"googleRemarketing":F(a,b)&&d&&c.push(a.googleRemarketing);break;case"yandexMetrika":F(a,b)&&d&&c.push(a.yandexMetrika)}return c}function F(b,c){return!a.isEmpty(b[c])}function G(a){g||y(a)||b.facebookRemarketing.initRemarketingPixel(E(a,"facebookRemarketing"))}function H(a){g||y(a)||b.googleRemarketing.initRemarketingPixel(E(a,"googleRemarketing"))}function I(){b.googleRemarketing.fireRemarketingPixel()}function J(a){g||y(a)||b.yandexMetrika.initialize(E(a,"yandexMetrika"))}function K(a){b.yandexMetrika.reportPageHit(a)}function L(c,d){c&&a.isString(d)&&!g&&!y(c)&&b.googleAnalytics.reportPageEvent(c,d,E(c,"googleAnalytics"))}function N(b,c,d){a.forOwn(d,function(a){a.packageName=b,a.reportType=c,"error"===c&&(a.adapter="trg")}),M[c][b]=d}var g="undefined"!=typeof window&&window.queryUtil&&window.queryUtil.isParameterTrue("isEdited"),h="undefined"==typeof window||window.clientSideRender?3:4,i=10,j={errorName:"errn",errorCode:"errc",errc:"errc",src:"src",severity:"sev",sev:"sev",packageName:"errscp"},k={recoverable:10,warning:20,error:30,fatal:40},l={eventId:"evid",evid:"evid",src:"src"},m={},M={event:{},error:{}};return{reportBI:D,reportPageEvent:L,register:N,reportBeatEvent:c.reportBeatEvent,initFacebookRemarketingPixel:G,initGoogleRemarketingPixel:H,fireGoogleRemarketingPixel:I,initYandexMetrika:J,reportYandexPageHit:K,shouldSendReport:C}}),define("utils/log/log",["lodash","utils/util/urlUtils"],function(a,b){"use strict";var c=console.log.bind(console),d="undefined"==typeof window?!0:"all"===b.parseUrl(a.get(window,["location","href"],"")).query.debug,e=d?c:a.noop;return{verbose:e,info:c,warn:console.warn.bind(console),error:console.error.bind(console)}}),define("utils/util/htmlParser",[],function(){"use strict";function j(a,b){return b=b.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1"),this.chars&&this.chars(b),""}function l(a){for(var b={},c=a.split(","),d=0;d<c.length;d++)b[c[d]]=!0;return b}var a=/^<([-A-Za-z0-9_?:]+)((?:\s+(?:x:)?[-A-Za-z0-9_]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,b=/^<\/([-A-Za-z0-9_?:]+)[^>]*>/,c=/((?:x:)?[-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,d=l("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),e=l("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),f=l("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),g=l("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),h=l("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),i=l("script,style"),k=function(k,l){function s(a,b,i,j){if(b=b.toLowerCase(),e[b])for(;p.last()&&f[p.last()];)t("",p.last());if(g[b]&&p.last()===b&&t("",b),j=d[b]||!!j,j||p.push(b),l.start){var k=[];i.replace(c,function(a,b){for(var c=null,d=2;5>d;d++)if(null===c&&arguments[d]){c=arguments[d];break}null===c&&h[b]&&(c=b),null===c&&(c=""),k.push({name:b,value:c,escaped:c.replace(/(^|[^\\])"/g,'$1\\"')})}),l.start&&l.start(b,k,j,a)}}function t(a,b){var c;if(b)for(c=p.length-1;c>=0&&p[c]!==b;c--);else c=0;if(c>=0){for(var d=p.length-1;d>=c;d--)l.end&&l.end(p[d]);p.length=c}}var m,n,o,p=[],q=k;for(p.last=function(){return this[this.length-1]};k;){if(n=!0,p.last()&&i[p.last()])k=k.replace(new RegExp("(.*)</"+p.last()+"[^>]*>","i"),j.bind(l)),t("",p.last());else if(0===k.indexOf("<!--")?(m=k.indexOf("-->"),m>=0&&(l.comment&&l.comment(k.substring(4,m)),k=k.substring(m+3),n=!1)):0===k.indexOf("</")?(o=k.match(b),o&&(k=k.substring(o[0].length),o[0].replace(b,t),n=!1)):0===k.indexOf("<")&&(o=k.match(a),o&&(k=k.substring(o[0].length),o[0].replace(a,s),n=!1)),n){m=k.indexOf("<");var r=0>m?k:k.substring(0,m);k=0>m?"":k.substring(m),l.chars&&l.chars(r)}if(k===q)throw"Parse Error: "+k;q=k}t()};return k}),define("utils/dataFixer/helpers/CompsMigrationHelper",["lodash","utils/util/guidUtils"],function(a,b){"use strict";function c(a){this.migrationMap=a}return c.prototype.getComponentData=function(a,b){return b.dataQuery&&a.data.document_data[b.dataQuery.replace("#","")]},c.prototype.setComponentData=function(c,d,e,f){var g=d.dataQuery||a.get(f,[d.id,"dataQuery"])||b.getUniqueId("dataItem","-");g=g.replace("#",""),d.dataQuery="#"+g,e.id=g,c.data.document_data[g]=e,a.set(f,[d.id,"dataQuery"],g)},c.prototype.deleteComponentData=function(a,b){var c=b.dataQuery&&b.dataQuery.replace("#","");c&&a.data.document_data[c]&&delete a.data.document_data[c]},c.prototype.getComponentDesignData=function(a,b){return b.designQuery&&a.data.design_data[b.designQuery.replace("#","")]},c.prototype.deleteComponentDesignData=function(a,b){var c=b.designQuery&&b.designQuery.replace("#","");c&&a.data.design_data[c]&&delete a.data.design_data[c]},c.prototype.getComponentProperties=function(a,b){return b.propertyQuery&&a.data.component_properties[b.propertyQuery.replace("#","")]},c.prototype.deleteComponentProperties=function(a,b){var c=b.propertyQuery&&b.propertyQuery.replace("#","");c&&a.data.component_properties[c]&&delete a.data.component_properties[c],b.propertyQuery&&delete b.propertyQuery},c.prototype.setComponentDesignData=function(c,d,e,f){var g=d.designQuery||a.get(f,[d.id,"designQuery"])||b.getUniqueId("dataItem","-");if(g=g.replace("#",""),d.designQuery="#"+g,e.id=g,a.isObject(e.background)){var h=a.clone(e.background);h.id=(h.id||b.getUniqueId("dataItem","-")).replace("#",""),e.background="#"+h.id,c.data.design_data[h.id]=h}c.data.design_data[g]=e,a.set(f,[d.id,"designQuery"],d.designQuery)},c.prototype.setComponentProperties=function(c,d,e,f){var g=d.propertyQuery||a.get(f,[d.id,"propertyQuery"])||b.getUniqueId("propItem","-");g=g.replace("#",""),d.propertyQuery=g,e.id=g,c.data.component_properties[g]=e,a.set(f,[d.id,"propertyQuery"],g)},c.prototype.migrateComps=function(b,c,d,e){a.forEach(e,function(a){this.migrationMap[a.componentType]&&this.migrationMap[a.componentType].call(this,b,c,d,a),this.migrateComps(b,c,d,a.components)},this)},c.prototype.migratePage=function(a){var b=a.structure;if(b){var c={},d=b.components||b.children,e=b.mobileComponents;d&&this.migrateComps(a,c,!1,d),e&&this.migrateComps(a,c,!0,e)}},c}),define("utils/dataFixer/maps/galleryTypes",[],function(){"use strict";return{"wysiwyg.viewer.components.MatrixGallery":{propType:"MatrixGalleryProperties"},"wysiwyg.viewer.components.PaginatedGridGallery":{propType:"PaginatedGridGalleryProperties"},"wysiwyg.viewer.components.SliderGallery":{propType:"SliderGalleryProperties"},"wysiwyg.viewer.components.SlideShowGallery":{propType:"SlideShowGalleryProperties"},"tpa.viewer.components.Masonry":{propType:"MasonryProperties"},"tpa.viewer.components.Accordion":{propType:"AccordionProperties"},"tpa.viewer.components.Impress":{propType:"ImpressProperties"},"tpa.viewer.components.Freestyle":{propType:"FreestyleProperties"},"tpa.viewer.components.Collage":{propType:"CollageProperties"},"tpa.viewer.components.Honeycomb":{propType:"HoneycombProperties"},"tpa.viewer.components.StripShowcase":{propType:"StripShowcaseProperties"},"tpa.viewer.components.StripSlideshow":{propType:"StripSlideshowProperties"},"tpa.viewer.components.Thumbnails":{propType:"ThumbnailsProperties"},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{propType:"SlideShowGalleryProperties"},"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{propType:"SlideShowGalleryProperties"}}}),define("utils/dataFixer/plugins/galleriesMobileTypeFixer",["lodash","utils/dataFixer/helpers/CompsMigrationHelper","utils/dataFixer/maps/galleryTypes"],function(a,b,c){"use strict";function d(a,b,d,e){if(!d)return void(b[e.id]=e);var f=b[e.id];if(f.componentType!==e.componentType){var g=f.componentType;e.componentType=g;var h=this.getComponentProperties(a,e),i=c[g].propType;!g||h&&h.type===i||(e.propertyQuery=f.propertyQuery)}}return{exec:function(e){var f=a.mapValues(c,function(){return d}),g=new b(f);g.migratePage(e)}}}),define("utils/dataFixer/plugins/pageTopFixer",[],function(){"use strict";return{exec:function(a){a.structure=a.structure||{},a.structure.layout=a.structure.layout||{},a.structure.layout.y=0}}}),define("utils/dataFixer/plugins/masterPageFixer",["lodash"],function(a){"use strict";function b(a){a.masterPage||(a.masterPage={})}function c(a){var b=a.children,c=a.mobileComponents;e(b),e(c)}function e(b){a.forEach(d,function(c){var d=a.find(b,"id",c.id);if(!d){var e=a.find(b,"componentType",c.componentType);e&&(e.id=c.id)}})}var d=[{componentType:"wysiwyg.viewer.components.PagesContainer",id:"PAGES_CONTAINER"},{componentType:"wysiwyg.viewer.components.FooterContainer",id:"SITE_FOOTER"},{componentType:"wysiwyg.viewer.components.HeaderContainer",id:"SITE_HEADER"}],f={exec:function(a){return a.structure&&"Document"===a.structure.type&&(b(a.data.document_data),c(a.structure),a.structure.id="SITE_STRUCTURE"),a}};return f}),define("utils/dataFixer/plugins/menuFixer",["lodash"],function(a){"use strict";function b(b){var c=b.MAIN_MENU,d=[];return a.forEach(c.items,function(a){if(d.push(a.refId),a.items&&a.items.length>0)for(var b=0;b<a.items.length;b++)d.push(a.items[b].refId)}),d}function c(b,c){var d=b.items[c];d.items&&d.items.length>0&&a.forEach(d.items,function(a,c){b.items.push(a),delete d.items[c]}),d.items=[],b.items.splice(c,1)}function d(b,c){var d={};return a.find(b.items,function(b,e){return d.topIndex=e,a.find(b.items,function(a,b){return a.refId===c?(d.subIndex=b,!0):void 0})}),d}function e(b,e){var f=a.findIndex(b.items,{refId:e});if(f>=0)c(b,f);else{var g=d(b,e);b.items[g.topIndex].items.splice(g.subIndex,1)}}function f(b,c){var d=b.MAIN_MENU;a.forEach(c,function(a){a||e(d,a)}),a.pull(c,"",void 0)}function g(b,c,d){a.forEach(c,function(c){a.includes(d,c.slice(1))||e(b.MAIN_MENU,c)})}function h(b,c,d){var e=b.MAIN_MENU,f=0===e.items.length,g=!!b.CUSTOM_MAIN_MENU;if(g){if(f)return;delete b.CUSTOM_MAIN_MENU,delete b.CUSTOM_MENUS}a.forEach(d,function(b){if(!a.includes(c,"#"+b)){c.push("#"+b);var d={items:[],refId:"#"+b};e.items.push(d)}})}function i(b,c){b&&b.mainPage&&!a.includes(c,b.mainPage.slice(1))&&(b.mainPage="#"+c[0])}function j(a){var b=!!a.CUSTOM_MAIN_MENU;if(b)for(var c=a.CUSTOM_MAIN_MENU.items,d=0;d<c.length;d++)if(!a[c[d].replace("#","")])return delete a.CUSTOM_MAIN_MENU,void delete a.CUSTOM_MENUS}function k(b){return"Document"===a.get(b,"structure.type")}var l={exec:function(a,c){var d=a.data.document_data;if(k(a)&&!a.data.document_data.MAIN_MENU&&(a.data.document_data.MAIN_MENU={items:[],type:"Menu",id:"MAIN_MENU",metaData:{}}),d.MAIN_MENU&&c){var e=b(d);j(d),f(d,e),g(d,e,c),h(d,e,c);var l=d.SITE_STRUCTURE;i(l,c)}}};return l}),define("utils/util/verticalMenuCalculations",["lodash"],function(a){"use strict";function b(a,b,c,d,e){return a+(d?1:e)*b+(c?2:0)}function c(a,b,c,d){var e=d&&d.borderNotIncludedInLineHeight,f=d&&d.separatorNotIncludedInLineHeight,g=e?2*c:0,h=f?b:0,i=a-g-h;return i+2}function d(a,b,c,d){var e=d&&d.borderNotIncludedInLineHeight,f=d&&d.separatorNotIncludedInLineHeight;return Math.floor((a-b*(e?0:c-1)-(f?2:0))/c)}function e(b){return a.filter(b,"isVisible").length}return{getFixedHeight:b,getLineHeight:c,getItemHeight:d,getVisibleItemsCount:e}}),define("utils/dataFixer/plugins/verticalMenuFixer",["lodash","utils/util/verticalMenuCalculations","utils/log/log"],function(a,b,c){"use strict";function j(a){return!!a.data.theme_data.THEME_DATA}function k(a){e=a.data.theme_data}function l(b){var c=b.data.document_data,d=c.CUSTOM_MAIN_MENU||{items:[]};f=a.filter(d.items,function(a){return c[a.replace("#","")].isVisible}).length}function m(a,b,c,d){var e=p(a,b);b.layout.height=d,e.originalHeight=c}function n(b,c){var d=p(b,c);return!a.isUndefined(d.originalHeight)}function o(a,b){return"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu"===b.componentType&&!n(a,b)}function p(a,b){return a.data.component_properties[b.propertyQuery.replace("#","")]}function q(a,b){return a.data.theme_data[b.styleId]||e[b.styleId]}function r(d,e){var g=q(d,e);g||c.error("cannot find style");var j=parseInt(g.style.properties.sepw||g.style.properties.separatorHeight||0,10),k=a.includes(h,g.skin),l=a.includes(i,g.skin),n=e.layout.height,o=b.getFixedHeight(n,j,k,l,f);m(d,e,n,o)}function s(b,c){a.forEach(c,function(a){o(b,a)&&r(b,a),a.components&&s(b,a.components)})}function t(a){var b=a.structure;b&&(b.components&&s(a,b.components),b.mobileComponents&&s(a,b.mobileComponents),
b.children&&s(a,b.children))}var d=!1,e={},f=0,g=[],h=["wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSeparatedButtonFixedWidthSkin","wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSeparatedButtonSkin","wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSolidColorSkin"],i=["wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSeparatedButtonFixedWidthSkin","wysiwyg.common.components.verticalmenu.viewer.skins.VerticalMenuSeparatedButtonSkin"],u={exec:function(a){if(j(a))for(k(a),l(a),d=!0;g.length>0;)t(g.pop());else d?t(a):g.push(a)}};return u}),define("utils/dataFixer/plugins/skinFixer",["lodash","experiment"],function(a,b){"use strict";function d(a){a.skin&&c[a.skin]&&(a.skin=c[a.skin])}function e(a,b){var c,g,f=a[b]||a.components;if(f)for(c=0;c<f.length;c++)g=f[c],d(g),e(g,b)}var c={"mobile.core.skins.InlineSkin":"skins.core.VerySimpleSkin","mobile.core.skins.TwitterTweetSkin":"skins.core.TwitterTweetSkin","mobile.core.skins.ButtonSkin":"skins.core.ButtonSkin","mobile.core.skins.ContactItemSkin":"skins.core.ContactItemSkin","mobile.core.skins.ContactListSkin":"skins.core.ContactListSkin","mobile.core.skins.FacebookCommentSkin":"skins.core.FacebookCommentSkin","mobile.core.skins.GlobalMenuSkin":"skins.core.GlobalMenuSkin","mobile.core.skins.GooglePlusOneSkin":"skins.core.GooglePlusOneSkin","mobile.core.skins.HeaderSkin":"skins.core.HeaderSkin","mobile.core.skins.HomeButtonSkin":"skins.core.HomeButtonSkin","mobile.core.skins.ImageNewSkin":"skins.core.ImageNewSkin","mobile.core.skins.ImageSkin":"skins.core.ImageSkin","mobile.core.skins.MenuButtonSkin":"skins.core.MenuButtonSkin","mobile.core.skins.NetworkItemSkin":"skins.core.NetworkItemSkin","mobile.core.skins.NetworkListSkin":"skins.core.NetworkListSkin","mobile.core.skins.PageTitleSkin":"skins.core.PageTitleSkin","mobile.core.skins.PhotoFullScreenSkin":"skins.core.PhotoFullScreenSkin","mobile.core.skins.PhotoGalleryFullScreenDefaultSkin":"skins.core.PhotoGalleryFullScreenDefaultSkin","mobile.core.skins.PhotoGalleryGridDefaultSkin":"skins.core.PhotoGalleryGridDefaultSkin","mobile.core.skins.PhotoSkin":"skins.core.PhotoSkin","mobile.core.skins.RichTextImageSkin":"skins.core.RichTextImageSkin","mobile.core.skins.RichTextSkin":"skins.core.RichTextSkin","mobile.core.skins.ServiceItemSkin":"skins.core.ServiceItemSkin","mobile.core.skins.ServiceListSkin":"skins.core.ServiceListSkin","mobile.core.skins.SimpleButtonSkin":"skins.core.SimpleButtonSkin","mobile.core.skins.SiteNavigationMenuSkin":"skins.core.SiteNavigationMenuSkin","mobile.core.skins.TwitterFollowSkin":"skins.core.TwitterFollowSkin","mobile.core.skins.FacebookLikeSkin":"skins.core.FacebookLikeSkin","skins.viewer.gallerymatrix.PolaroidCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.PolaroidCustomHeightSkin","skins.viewer.gallerymatrix.PolaroidDisplayerCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.PolaroidDisplayerCustomHeightSkin","skins.viewer.gallerymatrix.TextBottomCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin","skins.viewer.gallerymatrix.TextBottomDisplayerCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.TextBottomDisplayerCustomHeightSkin","skins.viewer.galleryslider.SliderGalleryScotchTapeSkin":"wysiwyg.viewer.skins.galleryslider.SliderGalleryScotchTapeSkin","skins.viewer.galleryslider.SliderGalleryIronSkin":"wysiwyg.viewer.skins.galleryslider.SliderGalleryIronSkin","skins.viewer.galleryslider.SliderDisplayerIronSkin":"wysiwyg.viewer.skins.galleryslider.SliderDisplayerIronSkin","skins.viewer.galleryslider.SliderDisplayerScotchTapeSkin":"wysiwyg.viewer.skins.galleryslider.SliderDisplayerScotchTapeSkin","wysiwyg.viewer.skins.gallerymatrix.MatrixGallerySeparateTextBoxSkin":"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGallerySeparateTextBoxSkin","wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextOnCenterSkin":"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGalleryTextOnCenterSkin","wysiwyg.viewer.skins.dropmenu.TextOnlyMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextOnlyMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.TextSeparatorsMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextSeparatorsMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SolidColorMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SolidColorMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.ShinyMenuINSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIButtonSkin","wysiwyg.viewer.skins.dropmenu.ShinyMenuIINSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIIButtonSkin","wysiwyg.viewer.skins.dropmenu.OverlineMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateBasicMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateBasicMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateShinyIMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateShinyIIMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIIMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.LinesMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.LinesMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateLinesMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateLinesMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.PointerMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.PointerMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.RibbonsMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.RibbonsMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.VerticalRibbonsMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.VerticalRibbonsMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.IndentedMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.IndentedMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateIndentedMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateIndentedMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.ArrowRightMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ArrowRightMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SloppyBorderMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SloppyBorderMenuButtonSkin","wysiwyg.viewer.skins.menu.ShinyMenuISkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIIButtonSkin","wysiwyg.viewer.skins.menu.ShinyMenuIISkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIIButtonSkin","wysiwyg.viewer.skins.menu.TextOnlyMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextOnlyMenuButtonBgFixSkin","wysiwyg.viewer.skins.menu.TextSeparatorsMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextSeparatorsMenuButtonSkin","wysiwyg.viewer.skins.menu.SolidColorMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SolidColorMenuButtonSkin","wysiwyg.viewer.skins.menu.OverlineMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonHorizontalMenuAdaptationSkin","wysiwyg.viewer.skins.menu.SeparateBasicMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateBasicMenuButtonSkin","wysiwyg.viewer.skins.menu.SeparateShinyIMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIMenuButtonSkin","wysiwyg.viewer.skins.menu.SeparateShinyIIMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIIMenuButtonBorderRadiusFixSkin","wysiwyg.viewer.skins.menu.LinesMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.LinesMenuButtonBorderRadiusFixSkin","wysiwyg.viewer.skins.menu.SeparateLinesMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateLinesMenuButtonHorizontalMenuAdaptationSkin","wysiwyg.viewer.skins.menu.PointerMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.PointerMenuButtonHorizontalMenuAdaptationSkin","wysiwyg.viewer.skins.menu.RibbonsMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.RibbonsMenuButtonSkin","wysiwyg.viewer.skins.menu.IndentedMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.IndentedMenuButtonSkin","wysiwyg.viewer.skins.menu.SeparateIndentedMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateIndentedMenuButtonSkin","wysiwyg.viewer.skins.menu.ArrowRightMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ArrowRightMenuButtonSkin","wysiwyg.viewer.skins.menu.SloppyBorderMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SloppyBorderMenuButtonSkin","tpa.viewer.skins.TPAMasonrySkin":"wysiwyg.viewer.skins.TPAMasonrySkin","tpa.viewer.skins.TPA3DCarouselSkin":"wysiwyg.viewer.skins.TPA3DCarouselSkin","tpa.viewer.skins.TPA3DGallerySkin":"wysiwyg.viewer.skins.TPA3DGallerySkin","tpa.viewer.skins.TPAAccordionSkin":"wysiwyg.viewer.skins.TPAAccordionSkin","tpa.viewer.skins.TPACollageSkin":"wysiwyg.viewer.skins.TPACollageSkin","tpa.viewer.skins.TPAEcomGallerySkin":"wysiwyg.viewer.skins.TPAEcomGallerySkin","tpa.viewer.skins.TPAFreestyleSkin":"wysiwyg.viewer.skins.TPAFreestyleSkin","tpa.viewer.skins.TPAHoneycombSkin":"wysiwyg.viewer.skins.TPAHoneycombSkin","tpa.viewer.skins.TPAImpressSkin":"wysiwyg.viewer.skins.TPAImpressSkin","tpa.viewer.skins.TPAStripShowcaseSkin":"wysiwyg.viewer.skins.TPAStripShowcaseSkin","tpa.viewer.skins.TPAStripSlideshowSkin":"wysiwyg.viewer.skins.TPAStripSlideshowSkin","tpa.viewer.skins.TPAThumbnailsSkin":"wysiwyg.viewer.skins.TPAThumbnailsSkin","tpa.common.skins.TPAPreloaderSkin":"wysiwyg.viewer.skins.TPAPreloaderSkin","tpa.common.skins.TPAUnavailableMessageOverlaySkin":"wysiwyg.viewer.skins.TPAUnavailableMessageOverlaySkin"};b.isOpen("migrateTextStyle")&&(c["wysiwyg.viewer.skins.WRichTextSkin"]="wysiwyg.viewer.skins.WRichTextNewSkin");var f={exec:function(b){var f,c=b.structure;c&&(e(c,"children"),e(c,"mobileComponents"),d(c)),f=b.data&&b.data.theme_data,f&&a.forEach(f,function(a){d(a)})}};return f}),define("utils/dataFixer/plugins/stylesFixer",["lodash","experiment"],function(a,b){"use strict";function d(a,b,c){return a[c.replace("llt_","llf_")]=b,a}function g(b){b.style&&b.style.properties&&a.forEach(b.style.properties,function(a,c){"string"==typeof a&&(b.style.properties[c]=a.replace(/\dx/g,function(a){return a.replace("x","px")}))})}function h(){var a={type:"TopLevelStyle",id:"v2",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{brd:"color_15",brw:"0px",rd:"0px",shd:"0 1px 4px rgba(0, 0, 0, 0.6);"},propertiesSource:{brd:"theme",brw:"value",rd:"value",shd:"value"},groups:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.video.VideoDefault"};return a}function i(){return{type:"TopLevelStyle",id:"txtNew",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},styleType:"system",skin:"wysiwyg.viewer.skins.WRichTextNewSkin",style:{properties:{},propertiesSource:{},groups:{}}}}function j(b){if(!b.v2){var c=h();b.v2=a.cloneDeep(b.vl)||c}b.txtNew||(b.txtNew=i())}function k(b){a.forOwn(b,function(a){f["*"](a),f[a.skin]&&f[a.skin](a)}),c&&"wysiwyg.viewer.skins.WRichTextSkin"===b.txtNew.skin&&(b.txtNew.skin="wysiwyg.viewer.skins.WRichTextNewSkin")}var c=b.isOpen("migrateTextStyle"),e=function(b){b.style.properties=a.reduce(b.style.properties,d,{}),b.style.propertiesSource=a.reduce(b.style.propertiesSource,d,{})},f={"*":function(a){"THEME_DATA"!==a.id&&(a.style||(a.style={properties:{},propertiesSource:{},groups:{}}))},"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormLineLayoutFlat":e,"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormLineLayoutTransparentWithIcon":e},l={exec:function(b){var c=b.data&&b.data.theme_data;a.isEmpty(c)||(j(c),k(c),a.forEach(c,function(a){g(a)}))}};return l}),define("utils/dataFixer/plugins/bgImageStripDataFixer",["lodash"],function(a){"use strict";function c(a){return a&&"wysiwyg.viewer.components.BgImageStrip"===a.componentType}function d(a){return a&&a.dataQuery&&a.dataQuery.replace("#","")}function e(a){return a.uri.slice(0-b.length)===b}function f(a,b,f){if(c(f)){var g=d(f),h=g&&b[g];h&&(h.title=h.title||"",e(h)||(a[f.id]=g))}}function g(a,b,d){if(c(d)){var e=a[d.id];e?d.dataQuery="#"+e:delete d.dataQuery}}function h(b,c){a.forEach(b,function(a){c(a),h(a.components,c)})}var b="add_image_thumb.png";return{exec:function(a){var b=a.structure,c=b&&(b.components||b.children),d=b&&b.mobileComponents;if(c){var e={};h(c,f.bind(null,e,a.data.document_data)),h(c,g.bind(null,e,a.data.document_data)),h(d,g.bind(null,e,a.data.document_data))}}}}),define("utils/dataFixer/plugins/compFixer",["lodash","utils/util/guidUtils","experiment"],function(a,b,c){"use strict";function e(a,b){var c=b.componentType,e=d[c];e&&(b.componentType=e.comp,e.dataQuery&&(b.dataQuery=e.dataQuery),e.callback&&e.callback(a))}function f(a,b){"wysiwyg.viewer.components.ItunesButton"===b.componentType&&(b.layout.height=Math.round(b.layout.width/2.75))}function g(a,b){return a.data.component_properties[b.propertyQuery]}function h(a,b){return b.dataQuery&&a.data.document_data[b.dataQuery.replace("#","")]}function i(a,b,c){a.data.component_properties[b.propertyQuery]=c}function j(a,c,d){var e=b.getUniqueId("dataItem","-");c.dataQuery="#"+e,d.id=e,a.data.document_data[e]=d}function k(b){if(b.components.length>0){var c=a.map(b.components,function(a){return a.layout.y+a.layout.height});return a.max(c)}return 0}function l(b){var c=a.find(b.structure.children,{id:"PAGES_CONTAINER"});return c.layout.y+c.layout.height}function m(a,b){"SITE_FOOTER"!==b.id||b.layout||(b.layout={anchors:[],fixedPosition:!1,height:k(b),rotationInDegrees:0,scale:1,width:320,x:0,y:l(a)})}function n(a,b){if(!h(a,b))switch(b.componentType){case"wysiwyg.viewer.components.svgshape.SvgShape":j(a,b,{link:null,type:"SvgShape"});break;case"wysiwyg.viewer.components.WFacebookComment":return void j(a,b,{type:"WFacebookComment",urlFormat:"hashBang"});case"wysiwyg.viewer.components.WFacebookLike":return void j(a,b,{type:"WFacebookLike",urlFormat:"hashBang"})}}function o(a,b){var c=h(a,b);if(c)switch(b.componentType){case"wysiwyg.viewer.components.ClipArt":return void(c.title="");case"wysiwyg.viewer.components.FacebookShare":return void(c.urlFormat=c.urlFormat||"hashBang");case"wysiwyg.viewer.components.VKShareButton":return void(c.urlFormat=c.urlFormat||"hashBang");case"wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":return void(c.urlFormat=c.urlFormat||"hashBang");case"wysiwyg.viewer.components.WTwitterTweet":return void(c.urlFormat=c.urlFormat||"hashBang");case"wysiwyg.viewer.components.WFacebookComment":return void(c.urlFormat=c.urlFormat||"hashBang");case"wysiwyg.viewer.components.WFacebookLike":return void(c.urlFormat=c.urlFormat||"hashBang")}}function p(a,b){if(!g(a,b))switch(b.componentType){case"wysiwyg.viewer.components.menus.DropDownMenu":i(a,b,{alignButtons:"center",alignText:"center",sameWidthButtons:!1,moreButtonLabel:"More",moreItemHeight:15,stretchButtonsToMenuWidth:!0,type:"HorizontalMenuProperties"});break;case"wysiwyg.viewer.components.mobile.TinyMenu":var c="TINY_MENU";b.propertyQuery=c,i(a,b,{direction:"left",type:"TinyMenuProperties",id:c,metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}})}}function q(a,b,c){a.properties[c.id]=g(b,c)}function r(a,b,c){!g(b,c)&&a.properties[c.id]&&i(b,c,a.properties[c.id])}function s(a,b){var d=g(a,b);if(b.propertyQuery&&d)switch(b.componentType){case"wysiwyg.viewer.components.WFacebookLike":d.language||(d.language="en");break;case"wysiwyg.viewer.components.PayPalButton":d.language||(d.language="en");break;case"wysiwyg.viewer.components.GoogleMap":d.language||(d.language="en");break;case"wysiwyg.viewer.components.WRichText":"WRichTextProperties"!==d.type?delete b.propertyQuery:!c.isOpen("sv_packText")&&d&&d.packed&&(d.packed=!1,i(a,b,d))}}function t(b,c,d){a.forEach(c,function(c){a.forEach(d,function(a){a(b,c)}),c.components&&t(b,c.components,d)})}function u(b,c,d){t(b,d,[e,f,n,p,s,o,a.partial(q,c)])}function v(b,c,d){t(b,d,[e,f,n,p,s,o,m,a.partial(r,c)])}var d={"wysiwyg.viewer.components.HorizontalMenu":{comp:"wysiwyg.viewer.components.menus.DropDownMenu",dataQuery:"#MAIN_MENU"}},w={exec:function(a){var b=a.structure;if(b){var c={properties:{}},d=b.components||b.children,e=b.mobileComponents;d&&u(a,c,d),e&&v(a,c,e)}}};return w}),define("utils/dataFixer/plugins/galleryFixer",["lodash"],function(a){"use strict";var b=["GalleryExpandProperties","MatrixGalleryProperties","PaginatedGridGalleryProperties","SliderGalleryProperties","SlideShowGalleryProperties"],c=function(b){return(a.isUndefined(b.galleryImageOnClickAction)||"unset"===b.galleryImageOnClickAction)&&(b.expandEnabled===!1?b.galleryImageOnClickAction="disabled":b.galleryImageOnClickAction="zoomMode"),b},d=function(b,c,d){return a(b).pick(function(b){return a.includes(c,b.type)}).mapValues(d).value()},e={exec:function(a){d(a.data.component_properties,b,c)}};return e}),define("utils/util/dataUtils",["lodash"],function(a){"use strict";function b(a,b){var c=b?a.mobileComponents:a.children;return c||a.components||[]}function c(b){return b.structure.mobileComponents&&!a.isEmpty(b.structure.mobileComponents)}function d(c,e,f){if(f.id===c)return[f];var g=b(f,e);if(a.isEmpty(g))return[];var h=[];return a.forEach(g,function(b){var g=d(c,e,b);return a.isEmpty(g)?void 0:(h=[f].concat(g),!1)}),h}function e(c,d){for(var e="SITE_STRUCTURE"===c.id?a.clone(b(c,d)):[c],f=0;f<e.length;f++){var g=b(e[f],d);g.length&&e.push.apply(e,g)}return e}function f(a,c,d){for(var e={},f=[a];f.length>0;){var g=f.shift();d&&!d(g)||(e[g.id]=g);var h=b(g,c);h.length&&f.push.apply(f,h)}return e}return{getChildrenData:b,isMobileStructureExist:c,findHierarchyInStructure:d,getAllCompsInStructure:e,getAllCompsInStructureMap:f}}),define("utils/dataFixer/helpers/behaviorsMigrationHelper",["utils/util/guidUtils"],function(a){"use strict";function b(b){var c={id:a.getUniqueId("behavior","-"),type:"ObsoleteBehaviorsList",items:b};return c}return{createBehaviorsDataItem:b}}),define("utils/dataFixer/plugins/behaviorsDataFixer",["lodash","utils/util/dataUtils","utils/dataFixer/helpers/behaviorsMigrationHelper","experiment"],function(a,b,c,d){"use strict";function e(c){var d=b.getAllCompsInStructureMap(c,!1);return a.pick(d,function(a){return a.behaviors})}function f(c,d){var e=b.getAllCompsInStructureMap(c,!0);return a.pick(e,function(a){return d[a.id]})}function g(a,b,c){a.behaviorQuery=b.id,c&&(c.behaviorQuery=a.behaviorQuery)}function h(b){if(d.isOpen("behaviorsData")){var h=a.get(b,"data"),i=a.get(b,"structure");h.behaviors_data=h.behaviors_data||{};var j=e(i),k=f(i,j);a.forEach(j,function(b){var d=c.createBehaviorsDataItem(b.behaviors);g(b,d,k[b.id]),delete b.behaviors,a.set(h,["behaviors_data",d.id],d)})}}return{exec:h}}),define("utils/dataFixer/plugins/behaviorsFixer",["lodash","utils/dataFixer/plugins/behaviorsDataFixer"],function(a,b){"use strict";function c(a){return["behaviors_data",a.behaviorQuery,"items"]}function d(b){return a.has(b,"behaviors_data")}function e(b,e,f){var g=JSON.stringify(b);d(f)?a.set(f,c(e),g):e.behaviors=g}function f(b,e){return d(e)?a.get(e,c(b),"[]"):b.behaviors||"[]"}function g(b,c){var g=[],h=f(b,c),i=JSON.parse(h);return a.isEmpty(i)?void(d(c)?delete b.behaviorQuery:delete b.behaviors):void(a.isArray(i)||(a.forEach(i,function(b,c){a.forEach(b,function(b,d){a.forEach(b,function(b){var e=a.assign({targetId:d,action:c},b);"screenIn"!==c&&"pageIn"!==c||(e.targetId=""),g.push(e)})})}),e(g,b,c)))}function h(b,c){a.forEach(b,function(a){g(a,c),a.components&&h(a.components,c)})}var i={exec:function(a){b.exec(a);var c=a.structure;c&&(c.components&&h(c.components,a.data),c.mobileComponents&&h(c.mobileComponents,a.data),c.children&&h(c.children,a.data))}};return i}),define("utils/dataFixer/plugins/fiveGridLineLayoutFixer",["lodash"],function(a){"use strict";function c(d){a.forEach(d,function(d){if(a.has(b,d.skin)){var e=b[d.skin];d.layout=a.mapValues(d.layout,function(a,b){return e[b]?Math.max(a,e[b]):a})}d.components&&c(d.components)})}var b={"wysiwyg.viewer.skins.line.FadeLine":{width:90},"wysiwyg.viewer.skins.line.FadeNotchBottomLine":{width:60},"wysiwyg.viewer.skins.line.FadeNotchTopLine":{width:60},"wysiwyg.viewer.skins.line.ShadowBottomLine":{width:200},"wysiwyg.viewer.skins.line.ShadowTopLine":{width:200}},d={exec:function(a){var b=a.structure;b&&(b.components&&c(b.components),b.children&&c(b.children),b.mobileComponents&&c(b.mobileComponents))}};return d}),define("utils/dataFixer/plugins/toPageAnchorsFixer",["lodash"],function(a){"use strict";function b(a){return!(a.length&&a[0].layout&&a[0].layout.anchors)}var c={exec:function(c){var d=c.structure;if(d&&d.components&&!a.isEmpty(d.components)&&!b(d.components)){var f,e=a.max(d.components,function(b){var c=-1*Number.MAX_VALUE;return b.layout&&a.isNumber(b.layout.y)&&a.isNumber(b.layout.height)&&(c=b.layout.y+b.layout.height),c});e.layout&&e.layout.anchors&&(f=a.find(e.layout.anchors,{type:"BOTTOM_PARENT"})),f||(e.layout=e.layout||{},e.layout.anchors=e.layout.anchors||[],e.layout.anchors.push({distance:0,type:"BOTTOM_PARENT",targetComponent:c.structure.id,locked:!0,originalValue:c.structure.layout.height,topToTop:e.layout.y}))}}};return c}),define("utils/dataFixer/helpers/anchorCyclesHelper",["lodash"],function(a){"use strict";function c(a){return a&&a.layout&&a.layout.y+a.layout.height}function d(a){return a.layout&&a.layout.anchors||[]}function e(d,e,f){var g;switch(d.type){case b.BOTTOM_BOTTOM:g=c(f);break;case b.BOTTOM_TOP:g=a.get(f,"layout.y");break;default:return!1}return a.isUndefined(g)?!1:g-c(e)<0}function f(a){return a.type===b.BOTTOM_BOTTOM||a.type===b.BOTTOM_TOP}function g(b,c,e,h){if(h[c.id])return!1;h[c.id]=!0;var i=d(c);return i=a.filter(i,f),a.some(i,function(a){return a.targetComponent===b.id||g(b,e[a.targetComponent],e,h)})}function h(b){if(!a.isEmpty(b)){var c=a.indexBy(b,"id");a.forEach(b,function(b){var i=d(b);a.remove(i,function(a){return f(a)&&e(a,b,c[a.targetComponent])&&g(b,c[a.targetComponent],c,{})}),h(b.components)})}}var b={BOTTOM_BOTTOM:"BOTTOM_BOTTOM",BOTTOM_TOP:"BOTTOM_TOP"};return{fixBottomTopBottomBottomCycles:h}}),define("utils/dataFixer/plugins/wrongAnchorsFixer",["lodash","utils/dataFixer/helpers/anchorCyclesHelper"],function(a,b){"use strict";function e(a){d[a.componentType]&&(a.layout.anchors=[])}function f(a){"TOP_TOP"===a.type&&(a.locked=!0)}function g(a,b,c){var d=(c||0)*Math.PI/180;return parseInt(Math.abs(b*Math.sin(d))+Math.abs(a*Math.cos(d)),10)}function h(a,b,c){return parseInt(a-(c-b)/2,10)}function i(a){return a.layout&&a.layout.y+a.layout.height}function j(a){return a.layout&&a.layout.anchors||[]}function k(b,c,d,e,f){if(!(f[b.id]||i(b)>d)){f[b.id]=!0;var g=j(b);a.remove(g,function(a){if(a.targetComponent===c.id)return!0;if("BOTTOM_PARENT"!==a.type){if(!e[a.targetComponent])return!0;k(e[a.targetComponent],c,d,e,f)}return!1})}}function l(b,c,d){if("BOTTOM_TOP"===b.type){var e=d[b.targetComponent],f=j(e);a.remove(f,{targetComponent:c.id});var g=a.filter(f,{type:"TOP_TOP"}),h=i(c)+10;a.forEach(g,function(a){d[a.targetComponent]&&k(d[a.targetComponent],c,h,d,{})})}}function m(b,c,d){c=a.reject(c,{type:"BOTTOM_PARENT"}),a.forEach(c,function(c){var e=d[c.targetComponent];if(e){var f=a.filter(j(e),{targetComponent:b.id,type:c.type});a.forEach(f,function(d){var f=b.layout.y<e.layout.y?e:b,g=b.layout.y<e.layout.y?d:c;a.remove(f.layout.anchors,function(a){return a===g})})}})}function n(b){a.forEach(b,function(c){var d=j(c);d=a.reject(d,{type:"BOTTOM_PARENT"}),a.remove(d,function(c){return!a.some(b,{id:c.targetComponent})})})}function o(b,e,f){var i=e.id,j=f[b.targetComponent];if("BOTTOM_PARENT"===b.type&&(j=b.targetComponent===i?e:null),!j)return!1;if("BOTTOM_BOTTOM"===b.type&&c[j.componentType])return!1;if("BOTTOM_PARENT"!==b.type&&(d[j.componentType]||"wysiwyg.viewer.components.HeaderContainer"===j.componentType&&j.layout&&j.layout.fixedPosition===!0))return!1;var k;if(j.layout&&a.isNumber(j.layout.height)&&a.isNumber(j.layout.y)){var l=j.layout,m=g(l.height,l.width,l.rotationInDegrees),n=h(l.y,l.height,m);k="BOTTOM_PARENT"===b.type||"BOTTOM_BOTTOM"===b.type?m:n}else k=0;return b.originalValue=Math.min(b.originalValue,k),!0}function p(b){a.remove(b,function(a){return null===a.distance||isNaN(a.distance)})}function q(a,b){var c=!!b;c&&e(a)}function r(a,b){return q(a,b),s(a,b)}function s(b,c){var d=c?b[c]:b.components;if(!a.isEmpty(d)){var g=a.transform(d,function(a,b){a[b.id]=b},{},this);n(d),a.forEach(d,function(c){var d=j(c);p(d),e(c),m(c,d,g),a.remove(d,function(a){f(a);var d=o(a,b,g);return d&&l(a,c,g),!d}),s(c)})}}function t(a){return!(a&&a.length&&a[0].layout&&a[0].layout.anchors)}var c={"wysiwyg.common.components.anchor.viewer.Anchor":!0,"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":!0,"wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":!0,"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":!0,"wixapps.integration.components.AppPart":!0,"wixapps.integration.components.AppPart2":!0,"wixapps.integration.components.common.minipart":!0,"wysiwyg.common.components.onlineclock.viewer.OnlineClock":!0,"wysiwyg.common.components.weather.viewer.Weather":!0,"wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":!0,"wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":!0,"wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":!0,"wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":!0,"wysiwyg.viewer.components.ContactForm":!0,"wysiwyg.viewer.components.FacebookShare":!0,"wysiwyg.viewer.components.FiveGridLine":!0,"wysiwyg.viewer.components.FlickrBadgeWidget":!0,"wysiwyg.viewer.components.ItunesButton":!0,"wysiwyg.viewer.components.LinkBar":!0,"wysiwyg.viewer.components.PayPalButton":!0,"wysiwyg.viewer.components.PinterestFollow":!0,"wysiwyg.viewer.components.VKShareButton":!0,"wysiwyg.viewer.components.WFacebookComment":!0,"wysiwyg.viewer.components.WGooglePlusOne":!0,"wysiwyg.viewer.components.mobile.TinyMenu":!0},d={"wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":!0,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":!0,"mobile.core.components.Page":!0,"wixapps.integration.components.AppPage":!0},u={exec:function(c){var d=c.structure,e="components";d&&("Document"===d.type&&(d=a.clone(c.structure),d.id="SITE_STRUCTURE",c.structure=d,e="children"),t(d[e])||r(d,e),t(d.mobileComponents)||(r(d,"mobileComponents"),b.fixBottomTopBottomBottomCycles(d.mobileComponents)))}};return u}),define("utils/dataFixer/plugins/addMissingAnchorsOfMasterPage",["lodash"],function(a){"use strict";function b(a){return a*Math.PI/180}function c(a){var c=b(a.rotationInDegrees);return parseInt(Math.abs(a.width*Math.sin(c))+Math.abs(a.height*Math.cos(c)),10)}function d(a){var b=c(a);return parseInt(a.y-(b-a.height)/2,10)}function e(b){return a.reduce(b,function(a,b){return!a||d(b.layout)>d(a.layout)?b:a})}function f(b){var c=a.find(b,{id:"PAGES_CONTAINER"}),d=a.find(b,{id:"SITE_HEADER"});c&&d&&(a.remove(c.layout.anchors,{targetComponent:"SITE_HEADER",type:"TOP_TOP"}),a.remove(d.layout.anchors,{targetComponent:"PAGES_CONTAINER",type:"TOP_TOP"}))}function g(b){var f=a.find(b,{id:"SITE_FOOTER"}),g=a.find(b,{id:"PAGES_CONTAINER"}),h=g&&g.components&&a.find(g.components,{id:"SITE_PAGES"});!h||!h.layout||h.layout.anchors&&0!==h.layout.anchors.length||(h.layout.anchors=[{distance:0,locked:!0,originalValue:0,targetComponent:"PAGES_CONTAINER",type:"BOTTOM_PARENT"}]),g&&g.layout&&(!g.layout.anchors||0===g.layout.anchors.length)&&f&&f.layout&&!f.layout.fixedPosition&&(g.layout.anchors=[{distance:10,locked:!0,originalValue:0,targetComponent:"SITE_FOOTER",type:"BOTTOM_TOP"}]);var i=a.find(b,function(b){return a.find(b.layout.anchors,{type:"BOTTOM_PARENT",targetComponent:"SITE_STRUCTURE"})}),j=a.find(b,{id:"SITE_HEADER"});if(j&&!i){var k=e(b);if(!k.layout.anchors)return;k.layout.anchors.push({distance:0,locked:!0,originalValue:d(k.layout)+c(k.layout)+(j?c(j.layout):0),targetComponent:"SITE_STRUCTURE",type:"BOTTOM_PARENT"})}}function h(a){return!(a.length&&a[0].layout&&a[0].layout.anchors)}var i={exec:function(b){var c=b.structure;if(c&&"Document"===c.type){var d=c&&c.children;!d||a.isEmpty(d)||h(d)||(f(d),g(d));var e=c&&c.mobileComponents;!e||a.isEmpty(e)||h(e)||(f(e),g(e))}}};return i}),define("utils/dataFixer/plugins/customSiteMenuFixer",["lodash"],function(a){"use strict";function f(b,c){return a.map(b,function(a){return g(c,a)})}function g(a,c){var e=d+b++,g=a[c.refId.replace("#","")];return a[e]={id:e,label:g.title,isVisible:!g.hidePage,isVisibleMobile:void 0!==g.mobileHidePage?!g.mobileHidePage:!g.hidePage,items:f(c.items,a),link:h(a,c.refId),type:"BasicMenuItem",metaData:{}},"#"+e}function h(a,b){var d=e+c++;return a[d]={id:d,type:"PageLink",pageId:b,metaData:{}},"#"+d}function i(a,b){return b&&a[b.replace("#","")]}function j(a,b){b.link="#CUSTOM_MENU_HEADER"}function k(a,b){var c=i(a,b.link);return c&&"PageLink"===c.type&&!i(a,c.pageId)}function l(b,c){a.forEach(c.items,function(a){var c=i(b,a);c.link&&!k(b,c)||j(a,c),l(b,c)})}function m(b){a(b.data.document_data).where({type:"Menu"}).pluck("id").forEach(function(a){delete b.data.document_data[a]}).value()}function n(a){return a&&a.structure&&"Page"===a.structure.type}function o(a){return a.replace("#","")}function p(b,c){var d=b.CUSTOM_MAIN_MENU.items,e=a(b).filter({type:"BasicMenuItem"}).map("link").compact().map(o).map(function(a){return b[a]}).map("pageId").compact().map(o).value(),f=a.difference(c,e);a.forEach(f,function(a){b[a].isPopup||d.push(q(b,a))})}function q(a,c){var e=d+b++,f=a[c];return a[e]={id:e,label:f.title,isVisible:!f.hidePage,isVisibleMobile:void 0!==f.mobileHidePage?!f.mobileHidePage:!f.hidePage,items:[],link:h(a,"#"+c),type:"BasicMenuItem",metaData:{}},"#"+e}function r(b,c){var d=a.filter(b,function(a){return a.id&&0===a.id.indexOf(c)}),e=-1;return a.forEach(d,function(a){var b=Number(a.id.replace(c,""));b>e&&(e=b)}),++e}var b=0,c=0,d="bmi",e="pglk",s={exec:function(g,h){if(n(g))return void m(g);var i=g.data.document_data;b=r(i,d),c=r(i,e),g.data.document_data.CUSTOM_MAIN_MENU||(g.data.document_data.CUSTOM_MAIN_MENU={id:"CUSTOM_MAIN_MENU",items:f(g.data.document_data.MAIN_MENU.items,g.data.document_data),name:"Custom Main Menu",type:"CustomMenu",metaData:{}}),g.data.document_data.CUSTOM_MENUS?a.includes(g.data.document_data.CUSTOM_MENUS.menus,"#CUSTOM_MAIN_MENU")||g.data.document_data.CUSTOM_MENUS.menus.push("#CUSTOM_MAIN_MENU"):g.data.document_data.CUSTOM_MENUS={id:"CUSTOM_MENUS",menus:["#CUSTOM_MAIN_MENU"],type:"CustomMenusCollection",metaData:{}},p(i,h),l(i,i.CUSTOM_MAIN_MENU),g.data.document_data.MAIN_MENU.items.length>0&&(g.data.document_data.MAIN_MENU.items=[])}};return s}),define("utils/dataFixer/plugins/sitePagesFixer",["lodash"],function(a){"use strict";function b(b){var c;if(b.structure.children){var d=a.find(b.structure.children,{id:"PAGES_CONTAINER"});d&&!a.isEmpty(d.components)&&(c=a.find(d.components,{id:"SITE_PAGES"}))}return c}function c(b){var c;if(b.structure.mobileComponents){var d=a.find(b.structure.mobileComponents,{id:"PAGES_CONTAINER"});d&&!a.isEmpty(d.components)&&(c=a.find(d.components,{id:"SITE_PAGES"}))}return c}function d(b){a.isEmpty(b.components)||(b.components=[])}function e(a){a.layout&&(a.layout.y=0)}var f={exec:function(a){if(a.structure&&"Document"===a.structure.type){var f=b(a),g=c(a);f&&(d(f),e(f)),g&&(d(g),e(g))}return a}};return f}),define("utils/dataFixer/plugins/linkRefDataFixer",["lodash","utils/util/stringUtils"],function(a,b){"use strict";var c={exec:function(c){var w,d={toFix:["FlashComponent","SiteButton","Image"],newNames:["LinkableFlashComponent","LinkableButton","Image"],originalLink:["TextLink","Link"]},e=["href","text","target","icon","linkType"],f={oldValues:["same","other"],newValues:["_self","_blank"]},g=function(b){return a.filter(b,function(b){var c=b.type===d.toFix[2],e=!c||"2.0"!==b.metaData.schemaVersion;
return!b.link&&a.includes(d.toFix,b.type)&&e},this)},h=function(b){return a.filter(b,function(b){return b.linkType&&a.includes(d.originalLink,b.type)},this)},i=function(b){var c=a.indexOf(d.toFix,b.type),f=d.newNames[c],g=a.defaults({type:f},a.omit(b,e)),h=j(b,!0);return h&&(g.link=p(h.id),v[h.id]=h),b.type===g.type&&(g.metaData.schemaVersion="2.0"),g},j=function(a,b){var c=a.linkType||"",d=c.toLowerCase(),e=b?s():a.id;switch(d){case"page":return l(e,a);case"website":return k(e,a);case"email":return n(e,a);case"document":return m(e,a);case"login":return o(e,a);case"admin_login":return null;case"free_link":return null;case"":return null;default:return null}},k=function(a,b){var c={};c.id=a,c.type="ExternalLink",c.target=q(b.target);var d=b.href;return d?(c.url=d,c):null},l=function(a,b){var c={};c.id=a,c.type="PageLink";var d=b.href;if(!d)return null;var e=d.lastIndexOf("/");return 0>e&&(e=d.lastIndexOf("|")),d=d.substr(e+1),c.pageId=p(d),c},m=function(a,b){var d,e,c={};c.type="DocumentLink",c.id=a;var f=b.href;return f?(d=f.substr(f.lastIndexOf("/")+1),e=d.indexOf("?dn="),-1!==e&&(d=d.substring(0,e)),c.docId=d,c.name=b.text,c):null},n=function(a,c){var d={};d.id=a,d.type="EmailLink";var e=c.href;if(!e||!e.toLowerCase)return null;b.startsWith(e,"mailto:",!0)&&(e=e.substr("mailto:".length));var f=e.split("?");if(d.recipient=f[0],f[1]){var g=r(f[1]);g.subject&&(d.subject=g.subject),g.body&&(d.body=g.body)}return d},o=function(a,c){var d={};d.id=a,d.type="LoginToWixLink";var e=c.text;return e&&b.startsWith(e,"{")&&(e=JSON.parse(e),d.postLoginUrl=e.postLoginUrl,d.postSignupUrl=e.postSignupUrl,d.dialog=e.type),d},p=function(a){return a?a&&b.startsWith(a,"#")?a:"#"+a:null},q=function(b){var c,d=a.indexOf(f.oldValues,b);return c=a.includes(f.newValues,b)?b:-1!==d?f.newValues[d]:f.newValues[1]},r=function(a){for(var d,b={},c=/([^&=]+)=([^&]*)/g;d=c.exec(a);)b[d[1]]=d[2];return b},s=function(){var d,b=a.keys(c.data.document_data);do d=(new Date).getTime().toString(36)+"_"+Math.round(99999*Math.random()).toString(36),d=d.replace(/\s/g,"_");while(b[d]);return d},t=c.data,u=t.document_data,v={};w=g(u),a.forEach(w,function(a){var b=i(a);b&&(u[a.id]=b)},this),w=h(u),a.forEach(w,function(a){var b=j(a);b&&(u[a.id]=b)},this),a.assign(u,v)}};return c}),define("utils/dataFixer/plugins/fromDocumentToThemeData",[],function(){"use strict";var a={exec:function(a){var b=a.data;b.document_data.THEME_DATA&&(b.theme_data.THEME_DATA||(b.theme_data.THEME_DATA=b.document_data.THEME_DATA),delete b.document_data.THEME_DATA)}};return a}),define("utils/dataFixer/plugins/tpaGluedWidgetDataFixer",["lodash"],function(a){"use strict";return{exec:function(b){a.forEach(b.structure.children,function(a){"wysiwyg.viewer.components.tpapps.TPAGluedWidget"===a.componentType&&(a.layout.fixedPosition=!0)})}}}),define("utils/imageService/imageTransformDataFixers",["lodash","imageClientApi"],function(a,b){"use strict";function k(a){return(a||"").toLowerCase().trim()}function l(a){var b=k(a.bgRepeat),c=k(a.bgSize),d=e[b];return f[c]&&f[c](d)}function m(a){return a=k(a),g[a]}function n(a){return h[a]||h[""]}function o(a){return i[a]||i[""]}function p(a){return j[a]||j[""]}function q(a){return a===c.TILE?c.LEGACY_STRIP_TILE:a===c.TILE_HORIZONTAL?c.LEGACY_STRIP_TILE_HORIZONTAL:a===c.TILE_VERTICAL?c.LEGACY_STRIP_TILE_VERTICAL:a===c.SCALE_TO_FILL?c.LEGACY_STRIP_SCALE_TO_FILL:a===c.SCALE_TO_FIT?c.LEGACY_STRIP_SCALE_TO_FIT:a===c.FIT_AND_TILE?c.LEGACY_STRIP_FIT_AND_TILE:a===c.LEGACY_ORIGINAL_SIZE?c.LEGACY_STRIP_ORIGINAL_SIZE:a}var c=b.fittingTypes,d=b.alignTypes,e={"repeat-x":c.TILE_HORIZONTAL,"repeat no_repeat":c.TILE_HORIZONTAL,"repeat no-repeat":c.TILE_HORIZONTAL,"repeat-y":c.TILE_VERTICAL,"no_repeat repeat":c.TILE_VERTICAL,"no-repeat repeat":c.TILE_VERTICAL,repeat:c.TILE,"repeat repeat":c.TILE,"":""},f={auto:function(a){return a?a:c.LEGACY_ORIGINAL_SIZE},cover:function(){return c.SCALE_TO_FILL},contain:function(a){return a?c.FIT_AND_TILE:c.SCALE_TO_FIT},"":function(){return c.SCALE_TO_FILL}},g={"center center":d.CENTER,center:d.CENTER,"50% 50%":d.CENTER,"top center":d.TOP,"center top":d.TOP,"50% 0%":d.TOP,"bottom center":d.BOTTOM,"center bottom":d.BOTTOM,"50% 100%":d.BOTTOM,"center right":d.RIGHT,"right center":d.RIGHT,"100% 50%":d.RIGHT,"center left":d.LEFT,"left center":d.LEFT,"0% 50%":d.LEFT,"left top":d.TOP_LEFT,"top left":d.TOP_LEFT,"0% 0%":d.TOP_LEFT,"right top":d.TOP_RIGHT,"top right":d.TOP_RIGHT,"100% 0%":d.TOP_RIGHT,"left bottom":d.BOTTOM_LEFT,"bottom left":d.BOTTOM_LEFT,"0% 100%":d.BOTTOM_LEFT,"right bottom":d.BOTTOM_RIGHT,"bottom right":d.BOTTOM_RIGHT,"100% 100%":d.BOTTOM_RIGHT,"":d.CENTER},h=function(){var a={};return a[c.LEGACY_STRIP_TILE_HORIZONTAL]="repeat-x",a[c.TILE_HORIZONTAL]="repeat-x",a[c.LEGACY_STRIP_TILE_VERTICAL]="repeat-y",a[c.TILE_VERTICAL]="repeat-y",a[c.LEGACY_STRIP_TILE]="repeat",a[c.TILE]="repeat",a[c.FIT_AND_TILE]="repeat",a[""]="no-repeat",a}(),i=function(){var a={};return a[c.LEGACY_ORIGINAL_SIZE]="auto",a[c.LEGACY_STRIP_ORIGINAL_SIZE]="auto",a[c.SCALE_TO_FILL]="cover",a[c.LEGACY_STRIP_SCALE_TO_FILL]="cover",a[c.SCALE_TO_FIT]="contain",a[c.LEGACY_STRIP_SCALE_TO_FIT]="contain",a[c.FIT_AND_TILE]="contain",a[c.LEGACY_STRIP_FIT_AND_TILE]="contain",a[""]="auto",a}(),j=function(){var a={};return a[d.TOP]="center top",a[d.CENTER]="center",a[d.BOTTOM]="center bottom",a[d.TOP_LEFT]="left top",a[d.LEFT]="left center",a[d.BOTTOM_LEFT]="left bottom",a[d.TOP_RIGHT]="right top",a[d.RIGHT]="right center",a[d.BOTTOM_RIGHT]="right bottom",a[""]="center",a}();return{cssToFittingType:l,cssToAlignType:m,fittingTypeToBgRepeat:n,fittingTypeToBgSize:o,alignTypeToBgPosition:p,migrateToLegacyFittings:q}}),define("utils/dataFixer/plugins/compsWithImagesDataFixer",["lodash","utils/imageService/imageTransformDataFixers"],function(a,b){"use strict";function d(b){a.forEach(b,function(a){var b=c[a.type];b&&b(a)})}function e(b){a.noop(b)}var c={BgImageStripProperties:function(a){a.fittingType=b.cssToFittingType({bgSize:a.bgSize,bgRepeat:a.bgRepeat}),a.fittingType=b.migrateToLegacyFittings(a.fittingType),a.alignType=b.cssToAlignType(a.bgPosition),a.type="BgImageStripUnifiedProperties",delete a.bgSize,delete a.bgRepeat,delete a.bgPosition,delete a.bgUrl}},f={exec:function(b){var c=b.data.component_properties,f=b.data.document_data;a.isEmpty(c)||d(c),a.isEmpty(f)||e(f)}};return f}),define("utils/dataFixer/plugins/appPartCustomizationsFixer",["lodash"],function(a){"use strict";function c(c){a(b).values().forEach(function(b){a(c.data.document_data).filter(b.filterAppPart).forEach(function(c){c.appLogicCustomizations=a(c.appLogicCustomizations).map(function(c){var d=a.find([c],b.filterAppLogicCustomization);return d?b.modify(c):c}).compact().value()}).value()}).value()}var b={faq:{filterAppPart:{appPartName:"f2c4fc13-e24d-4e99-aadf-4cff71092b88",viewName:"ExpandQuestions"},filterAppLogicCustomization:{type:"AppPartCustomization",forType:"Category",view:"ToggleMobile",key:"comp.initialState",fieldId:"toggle",format:"Mobile"},modify:function(b){return a.assign(b,{fieldId:"vars",key:"initialState"})}}};return{exec:c}}),define("utils/dataFixer/plugins/backgroundMediaConverter",["lodash","imageClientApi","utils/imageService/imageTransformDataFixers","utils/util/guidUtils"],function(a,b,c,d){"use strict";function j(b,c){var d=a.filter(b,function(a){return"Page"===a.type||"AppPage"===a.type}),e=a.map(d,"id"),f=a.some(d,function(a){return a.pageBackgrounds&&a.pageBackgrounds.desktop.ref});if(f)l(b);else{var g=c.siteBg,h=c.mobileBg&&"[siteBg]"!==c.mobileBg?c.mobileBg:c.siteBg;o(b,g,h,e)}}function k(a){l(a)}function l(b){var c=a.filter(b,{type:f});a.forEach(c,function(a){m(b,a)})}function m(a,b){var c=b.id,e=d.getUniqueId(g+i),f=r(b);n(a,f,c,e)}function n(b,c,d,e){b[d]=a.assign({id:d},c.bgItem),c.imageItem&&(b[d].mediaRef="#"+e,b[e]=a.assign({id:e},c.imageItem))}function o(b,c,e,f){var j=q(c),k=q(e);a.forEach(f,function(a){var c=d.getUniqueId(h,i),e=d.getUniqueId(h,i),f=c.replace(h,g),l=e.replace(h,g);p(b,j,a,c,f,"desktop"),p(b,k,a,e,l,"mobile")})}function p(a,b,c,d,e,f){a[c].pageBackgrounds=a[c].pageBackgrounds||{desktop:"",mobile:""},a[c].pageBackgrounds[f]={ref:"#"+d,custom:!0,isPreset:!1},n(a,b,d,e)}function q(b){var c=s.apply(this,a.compact(b.split(" ")));return t(c)}function r(a){var b=s.apply(this,[a.url,a.imagesizew,a.imagesizeh,a.positionx,a.positiony,a.width,a.repeatx,a.repeaty,a.attachment,a.color,a.metaData]);return t(b)}function s(a,b,c,d,e,f,g,h,i,j,k){return k=k||{},{imageId:a,imageW:b,imageH:c,x:d,y:e,width:f,repeatX:g,repeatY:h,attachment:i,color:j,metaData:{isPreset:k.isPreset||!1,schemaVersion:"2.0",isHidden:k.isHidden||!1}}}function t(a){var b={bgItem:{}},d="rgb(255,255,255)",e=c.cssToAlignType(a.x+" "+a.y),f=c.cssToFittingType({bgRepeat:a.repeatX+" "+a.repeatY,bgSize:a.width}),g="fixed"===a.attachment?"fixed":"scroll";return f=u(f),a.color&&"none"!==a.color&&(d=a.color),a.imageId&&"none"!==a.imageId&&(b.imageItem={type:"Image",uri:a.imageId,width:parseInt(a.imageW,10),height:parseInt(a.imageH,10),metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}}),b.bgItem={type:"BackgroundMedia",color:d,alignType:e,fittingType:f,scrollType:g,metaData:a.metaData},b}function u(a){var c={};return c[b.fittingTypes.TILE]=b.fittingTypes.LEGACY_BG_FIT_AND_TILE,c[b.fittingTypes.TILE_HORIZONTAL]=b.fittingTypes.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,c[b.fittingTypes.TILE_VERTICAL]=b.fittingTypes.LEGACY_BG_FIT_AND_TILE_VERTICAL,c[b.fittingTypes.LEGACY_ORIGINAL_SIZE]=b.fittingTypes.LEGACY_BG_NORMAL,c[a]||a}function v(a){a.siteBg=w(a.siteBg),a.mobileBg&&"[siteBg]"!==a.mobileBg&&(a.mobileBg=w(a.mobileBg))}function w(b){var c=a.compact(b.split(" ")),d=s.apply(this,c),e=d.color;return e&&(e=e.replace("[","{"),e=e.replace("]","}"),c[9]=e),c.join(" ")}var e="BackgroundMedia",f="BackgroundImage",g="bgImage",h="mediaBg",i="-",x={exec:function(b){if(b.structure){var c=b.data.theme_data&&b.data.theme_data.THEME_DATA,d=b.data.document_data,g=a.some(d,{type:e}),h=a.some(d,{type:f});g&&!h||("Document"===b.structure.type?(v(c),j(d,c)):k(d))}}};return x}),define("utils/dataFixer/plugins/backgroundMediaUndefinedFixer",["lodash","utils/util/guidUtils"],function(a,b){"use strict";function f(a,c){return b.getUniqueId(c.id,"_")+a}function g(b,c){c[b]=a.assign({id:b},d)}function h(b){var c=a.filter(b,function(a){return"Page"===a.type||"AppPage"===a.type});a.forEach(c,function(c){var d;a.defaults(c,e),c.pageBackgrounds.mobile.ref||(d=f("_mobile_bg",c),g(d,b),c.pageBackgrounds.mobile.ref="#"+d),c.pageBackgrounds.desktop.ref||(d=f("_desktop_bg",c),g(d,b),c.pageBackgrounds.desktop.ref="#"+d)})}var c="BackgroundMedia",d={alignType:"center",color:"{color_11}",fittingType:"fill",scrollType:"scroll",type:"BackgroundMedia"},e={pageBackgrounds:{desktop:{custom:!0,isPreset:!0,ref:null},mobile:{custom:!0,isPreset:!0,ref:null}}},i={exec:function(b){if(b.structure){var d=b.data.document_data,e=a.some(d,{type:c});e&&h(d)}}};return i}),define("utils/dataFixer/plugins/backgroundMediaRefDuplicationFixer",["lodash"],function(a){"use strict";function b(b,c,d){d[b]=a.assign({id:b},a.omit(c,"id"))}function c(a,b,c){return a+"_"+b+"_"+c}function d(d,e,f,g,h){if(0!==d[e].indexOf("#"+g)){var i=a.cloneDeep(h[d[e].replace("#","")]),j=c(g,f,e);b(j,i,h),d[e]="#"+j}}function e(a,b,c){var g,e=b.pageBackgrounds[a].ref.replace("#",""),f=c[e];f&&f.mediaRef&&(g=c[f.mediaRef.replace("#","")],"WixVideo"===g.type&&d(g,"posterImageRef",a,b.id,c),f.imageOverlay&&d(f,"imageOverlay",a,b.id,c),d(f,"mediaRef",a,b.id,c))}function f(a,b){a.pageBackgrounds&&(e("mobile",a,b),e("desktop",a,b))}var g={exec:function(b){if(b.structure){var c=b.data.document_data,d=a.filter(c,function(a){return"Page"===a.type||"AppPage"===a.type});a.forEach(d,function(a){f(a,c)})}}};return g}),define("utils/dataFixer/plugins/stripContainerBgEffectFixer",["lodash","utils/dataFixer/helpers/behaviorsMigrationHelper","experiment"],function(a,b,c){"use strict";function f(b,c){var d=a.get(c,[b.behaviorQuery,"items"],b.behaviors||"[]");return JSON.parse(d)}function g(a,b){var d,e;return e=c.isOpen("designData")?a.designQuery.replace("#",""):a.dataQuery.replace("#",""),d=b[e].background.replace("#",""),b[d]}function h(c,h,i){var j,k;if(a.includes(d,c.componentType)){var l=g(c,h);if(k=l.scrollType,l.scrollType="none","scroll"!==k&&"none"!==k){j=f(c,i),j=a.reject(j,{name:"ContainerFixedBg",action:"bgScrub"}),j.push(e[k]);var m=JSON.stringify(j);if(i)if(c.behaviorQuery)a.set(i,[c.behaviorQuery,"items"],m);else{var n=b.createBehaviorsDataItem(m);a.set(i,n.id,n),c.behaviorQuery=n.id}else c.behaviors=m}}}function i(b,c,e){var h;if(a.includes(d,b.componentType)){var i=g(b,c);i.scrollType="none",h=f(b,e),h=a.reject(h,{name:"ContainerFixedBg",action:"bgScrub"}),a.isEmpty(h)?(delete b.behaviors,delete b.behaviorQuery):b.behaviors?b.behaviors=JSON.stringify(h):b.behaviorQuery&&a.get(e,[b.behaviorQuery,"items"],JSON.stringify(h))}}function j(b,c,d){a.forEach(b,function(a){h(a,c,d),a.components&&j(a.components,c,d)})}function k(b,c,d){a.forEach(b,function(a){i(a,c,d),a.components&&k(a.components,c,d)})}var d=["wysiwyg.viewer.components.StripContainer","wysiwyg.viewer.components.StripContainerSlideShowSlide"],e={fixed:{action:"bgScrub",name:"BackgroundReveal",duration:1,delay:0},parallax:{action:"bgScrub",name:"BackgroundParallax",duration:1,delay:0}},l={exec:function(a){var d,b=a.structure;if(b){d=c.isOpen("designData")?a.data.design_data:a.data.document_data;var e=a.data.behaviors_data;b.components&&j(b.components,d,e),b.children&&j(b.children,d,e),b.mobileComponents&&k(b.mobileComponents,d,e)}}};return l}),define("utils/dataFixer/plugins/documentMediaFixer",["lodash"],function(a){"use strict";var b={exec:function(b){if("Page"===b.structure.type){var c=b.structure.components,d=b.data.document_data;a.forEach(c,function(b){if(a.includes(b.componentType,"DocumentMedia")){var c=b.dataQuery,e=d[c.replace("#","")];0===e.uri.indexOf("media/")&&(e.uri=e.uri.replace("media/",""))}})}return b}};return b}),define("utils/dataFixer/plugins/pinterestFollowFixer",["lodash"],function(a){"use strict";var b=function(b){var c="www.pinterest.com/";b.urlChoice=a.includes(b.urlChoice,"pinterest.com")?b.urlChoice:c+b.urlChoice},c={exec:function(c){return a(c.data.document_data).pick(function(a){return"PinterestFollow"===a.type}).mapValues(b).value()}};return c}),define("utils/dataFixer/plugins/blogPageMenuFixer",["lodash"],function(a){"use strict";function b(a){var b=c(a);b&&d(a,"#"+b)}function c(b){var c=a.findKey(b,function(a){return a.appPageId&&"7326bfbb-4b10-4a8e-84c1-73f776051e10"===a.appPageId});if(!c)return null;var d=a.findKey(b,function(a){return a.pageId&&a.pageId==="#"+c});return a.findKey(b,function(a){return a.link&&a.link==="#"+d})}function d(b,c){var d=b.CUSTOM_MAIN_MENU&&b.CUSTOM_MAIN_MENU.items;a.forEach(d,function(d){var e=b[d.replace("#","")].items,f=a.indexOf(e,c);return-1!==f?(e.splice(f,1),b.CUSTOM_MAIN_MENU.items.push(c),!1):void 0})}var e={exec:function(a){return a.structure&&"Document"===a.structure.type&&b(a.data.document_data),a}};return e}),define("utils/util/appPartMediaInnerViewNameUtils",["lodash"],function(a){"use strict";var b={getMediaInnerViewNames:function(){return["FeaturedInner","FeaturedInnerMobile","MediaInner","MediaInnerCustom","PostsListMediaInner","SinglePostMediaInner"]},isMediaInnerViewName:function(c){var d=b.getMediaInnerViewNames();return a.includes(d,c)}};return b}),define("utils/dataFixer/plugins/appPartMediaInnerCustomizationFormatFixer",["lodash","utils/util/appPartMediaInnerViewNameUtils"],function(a,b){"use strict";var c={exec:function(d){d.data&&d.data.document_data&&a(d.data.document_data).filter(function(a){return c.isAppPartType(a.type)}).forEach(function(c){a(c.appLogicCustomizations).compact().groupBy("view").filter(function(a,c){return b.isMediaInnerViewName(c)}).forEach(function(b){a(b).groupBy("fieldId").filter(function(b){return a.isEqual(a.pluck(b,"format"),[""])}).forEach(function(b){a.forEach(b,function(a){a.format="*"})}).value()}).value()}).value()},isAppPartType:function(a){return"AppPart"===a}};return c}),define("utils/util/blogAppPartNames",[],function(){"use strict";return{ARCHIVE:"56ab6fa4-95ac-4391-9337-6702b8a77011",AUTHOR:"c340212a-6e2e-45cd-9dc4-58d01a5b63a7",CATEGORIES:"categories",CUSTOM_FEED:"31c0cede-09db-4ec7-b760-d375d62101e6",FEATURED_POSTS:"c7f57b50-8940-4ff1-83c6-6756d6f0a1f4",FEED:"4de5abc5-6da2-4f97-acc3-94bb74285072",POSTS_GALLERY:"1b8c501f-ccc2-47e7-952a-47e264752614",POSTS_LIST:"f72fe377-8abc-40f2-8656-89cfe00f3a22",SINGLE_POST:"ea63bc0f-c09f-470c-ac9e-2a408b499f22",TAG_CLOUD:"e000b4bf-9ff1-4e66-a0d3-d4b365ba3af5",TICKER:"33a9f5e0-b083-4ccc-b55d-3ca5d241a6eb"}}),define("utils/dataFixer/plugins/appPartReadMoreValueCustomizationFormatFixer",["lodash","utils/util/blogAppPartNames"],function(a,b){"use strict";var c={exec:function(b){b.data&&a(b.data.document_data).filter(function(b){return b.type===c.getAppPartType()&&a.includes(c.getBlogFeedAppPartNames(),b.appPartName)}).forEach(function(b){var d=b.appLogicCustomizations;a(d).compact().filter(function(b){return b.fieldId===c.getReadMoreValueCustomizationFieldId()&&b.key===c.getReadMoreValueCustomizationKey()&&""===b.format&&a.includes(c.getAffectedReadMoreValueCustomizationViews(),b.view)}).forEach(function(b){a.remove(d,{fieldId:b.fieldId,format:"*",key:b.key,view:b.view}),b.format="*"}).value()}).value()},getAppPartType:function(){return"AppPart"},getBlogFeedAppPartNames:function(){return[b.FEED,b.CUSTOM_FEED]},getReadMoreValueCustomizationFieldId:function(){return"ReadMoreBtn"},getReadMoreValueCustomizationKey:function(){return"value"},getAffectedReadMoreValueCustomizationViews:function(){return["MediaLeft","MediaLeftPage","MediaRight","MediaRightPage","MediaZigzag","MediaZigzagPage","Masonry","MasonryPage"]}};return c}),define("utils/dataFixer/plugins/appPartTagsValueCustomizationFormatFixer",["lodash"],function(a){"use strict";return{exec:function(b){a(b.data.document_data).filter({type:"AppPart"}).forEach(function(b){a(b.appLogicCustomizations).filter({fieldId:"tagsValue",forType:"Post",format:"",key:"value",view:"SinglePostMediaTop"}).forEach(function(a){a.format="*"}).value()}).value()}}}),define("utils/dataFixer/plugins/appPartDuplicateCustomizationFixer",["lodash"],function(a){"use strict";function b(b){var c=a.omit(b,"value");return JSON.stringify(c)}return{exec:function(c){a(c.data.document_data).filter({type:"AppPart"}).forEach(function(a){for(var c=a.appLogicCustomizations,d=c.length,e={};d;){d-=1;var f=b(c[d]);e[f]?c.splice(d,1):e[f]=!0}}).value()}}}),define("utils/dataFixer/plugins/blogCustomFeedPostsPerPageCustomizationFixer",["lodash","utils/util/blogAppPartNames"],function(a,b){"use strict";function c(b){return"Array"===b.forType&&"comp.itemsPerPage"===b.key&&a.includes(["","*"],b.format)&&a.includes(["paginatedlist","columnBlog"],b.fieldId)&&a.includes(["MediaTop","MediaBottom","MediaLeft","MediaRight","MediaZigzag","Masonry"],b.view)}return{exec:function(d){a(d.data.document_data).filter({type:"AppPart",appPartName:b.CUSTOM_FEED}).forEach(function(b){a(b.appLogicCustomizations).filter(c).forEach(function(b){a.assign(b,{fieldId:"vars",format:"*",key:"itemsPerPage"})}).value()}).value()}}}),define("utils/dataFixer/plugins/blogDateAlignmentCustomizationFixer",["lodash","utils/util/blogAppPartNames"],function(a,b){"use strict";function c(b){return"Post"===b.forType&&"layout.spacerBefore"===b.key&&"date"===b.fieldId&&a.includes(["MediaTop","MediaBottom","MediaLeft","MediaRight","MediaZigzag","Masonry","MediaTopPage","MediaBottomPage","MediaLeftPage","MediaRightPage","MediaZigzagPage","MasonryPage","SinglePostMediaBottom","SinglePostMediaTop"],b.view)}return{exec:function(d){a(d.data.document_data).filter(function(c){return"AppPart"===c.type&&a.includes([b.CUSTOM_FEED,b.FEED,b.SINGLE_POST],c.appPartName)}).forEach(function(b){a(b.appLogicCustomizations).filter(c).forEach(function(b){a.assign(b,{fieldId:"vars",key:"dateAndAuthorPosition",value:"0"===b.value?"left":"right"})}).value()}).value()}}}),define("utils/dataFixer/plugins/appPartBrokenButtonStyleFixer",["lodash","utils/util/blogAppPartNames"],function(a,b){"use strict";var c=null;return{exec:function(d){a.isNull(c)&&(c=[],a.forEach(d.data.theme_data,function(b,d,e){var f=a.matches({componentClassName:"wysiwyg.viewer.components.SiteButton",skin:"wysiwyg.viewer.skins.AppPartSkin"})(b);f&&(c.push(d),delete e[d])}),setTimeout(function(){c=null})),a(d.data.document_data).filter(function(c){return"AppPart"===c.type&&a.includes(b,c.appPartName)}).forEach(function(b){a.remove(b.appLogicCustomizations,function(b){return"comp.style"===b.key&&a.includes(c,b.value)})}).value()}}}),define("utils/util/ajaxLibrary",["lodash","utils/util/urlUtils"],function(a,b){"use strict";function d(a){if("function"!=typeof a)throw"ajaxMethod must be a function";c=a}function g(){return"jsonpcallback"+ ++f}function i(c){var d=document.createElement("script"),f=g();e[f]=function(){c.complete.apply(c.context,arguments),delete e[f]},d.onerror=function(){a.isFunction(e[f])&&e[f](null,{success:!1})};var i=c.url+"?callback="+h+"."+f+"&accept=jsonp"+(c.data&&!a.isEmpty(c.data)?"&"+b.toQueryString(c.data):"");d.src=i,document.getElementsByTagName("head")[0].appendChild(d)}var e,c=function(){throw"must register ajax function: zepto $.ajax for clientSide, or request() for serverSide"},f=0,h="JSONPcallbacks_"+(new Date).getTime().toString(36);return{register:d,enableJsonpHack:function(){e=window[h]={}},ajax:function(b){return"POST"===b.type&&"json"===b.dataType&&a.isObject(b.data)&&(b.data=JSON.stringify(b.data),b.contentType=b.contentType||"application/json; charset=utf-8",b.processData=!1),c(b)},get:function(a,b,d,e){if("object"==typeof a)return c(a);var f={url:a};return b&&(f.data=b),d&&(f.success=d),e&&(f.dataType=e),c(f)},temp_jsonp:function(a){if(!e)throw"jsonp hack is not enabled!";i(a)}}}),define("utils/siteUtils/languages",[],function(){"use strict";return["de","en","es","fr","it","ja","ko","pl","ru","nl","tr","sv","pt","no","da","hi","zh"]}),define("utils/siteUtils/wixUserApi",["lodash","utils/util/cookieUtils","utils/util/ajaxLibrary","utils/siteUtils/languages"],function(a,b,c,d){"use strict";function g(a){var c=b.parseCookieString(a)[f];if(c){var d=c.split("|");return{userName:d[0],email:d[1],mailStatus:d[2],permissions:d[3],isSessionNew:d[4],isSessionValid:d[5],userID:d[6]}}return null}function h(a){return b.parseCookieString(a)[e]}var e="wixLanguage",f="wixClient",i={getUsername:function(a){var b=a.requestModel.cookie,c=g(b);return c?c.userName:null},getLanguage:function(b,c){var e=h(b),f=c.query&&c.query.lang,g=function(){var a=c.host.split(".");return 2===a[0].length?a[0]:null},i=function(){return"undefined"!=typeof window.navigator?window.navigator.language||window.navigator.browserLanguage:void 0},j=f||g()||e||i();return j&&(j=j.substring(0,2).toLowerCase()),a.includes(d,j)?j:"en"},isSessionValid:function(a){var b=a.requestModel.cookie;return!!g(b)},logout:function(a){var c=document?document.location.host:"";c=c.substring(c.indexOf(".")+1),b.deleteCookie(f,c),"undefined"!=typeof document&&(a.requestModel.cookie=document.cookie)},setLanguage:function(a,b,d){var e={url:"https://users.wix.com//wix-users//user/setLanguage?language="+a,dataType:"jsonp",data:{},complete:d};c.temp_jsonp(e)},getLanguages:function(){return d}};return i}),define("utils/translations/contactFormTranslations",[],{de:{errorMessage:"Bitte geben Sie eine gültige E-Mail-Adresse ein.",noOwner:"E-Mail-Adresse des Eigentümers nicht festgelegt.",via:"Über: ",error:"Ein Fehler ist aufgetreten.",phoneFieldLabel:"Telefon",subject:"Neue Nachricht über Ihre Website von ",subjectFieldLabel:"Betreff",thanks_premium:"Danke!",validationErrorMessage:"Bitte füllen Sie alle erforderlichen Felder aus.",subject_premium:"Neue Nachricht über Ihre Website von ",addressFieldLabel:"Adresse",title:"Sie haben eine neue Nachricht: ",thanks:"Danke, dass Sie Wix.com verwenden!",details:"Nachrichtendetails: ",emailFieldLabel:"E-Mail-Adresse",nameFieldLabel:"Name",successMessage:"Ihre Angaben wurden erfolgreich versandt.",messageFieldLabel:"Nachricht",sentOn:"Gesendet am:",firstNameFieldLabel:"Name",lastNameFieldLabel:"Nachname",contactFormTranslations_test_shmool:"test shmool"},en:{errorMessage:"Please provide a valid email",noOwner:"Owner email address not set",via:"Via: ",error:"an error has occurred",phoneFieldLabel:"Phone",subject:"New message via your Wix website, from ",subjectFieldLabel:"Subject",thanks_premium:"Thank you!",validationErrorMessage:"Please fill in all required fields.",subject_premium:"New message via your website, from ",addressFieldLabel:"Address",title:"You have a new message: ",thanks:"Thank you for using Wix.com!",details:"Message Details: ",emailFieldLabel:"Email",nameFieldLabel:"Name",successMessage:"Success! Message received.",messageFieldLabel:"Message",sentOn:"Sent on:",firstNameFieldLabel:"Name",lastNameFieldLabel:"Last Name",contactFormTranslations_test_shmool:"test shmool"},es:{errorMessage:"Por favor introduce un email válido",noOwner:"Email del propietario no está configurado",via:"Vía: ",error:"ha ocurrido un error",phoneFieldLabel:"Teléfono",subject:"New message via your Wix website, from ",subjectFieldLabel:"Asunto",thanks_premium:"Thank you!",validationErrorMessage:"Por favor rellena todos los campos obligatorios.",subject_premium:"New message via your website, from ",addressFieldLabel:"Dirección",title:"Tienes un mensaje nuevo: ",thanks:"¡Gracias por usar Wix.com!",details:"Detalles del Mensaje: ",emailFieldLabel:"Email",nameFieldLabel:"Nombre",successMessage:"¡Tus datos se enviaron con éxito!",messageFieldLabel:"Mensaje",sentOn:"Enviado:",firstNameFieldLabel:"Nombre",lastNameFieldLabel:"Apellido",contactFormTranslations_test_shmool:"test shmool"},fr:{errorMessage:"Veuillez saisir un email valide",noOwner:"Adresse email du propriétaire non définie",via:"Via : ",error:"une erreur s'est produite",phoneFieldLabel:"Téléphone",subject:"New message via your Wix website, from ",subjectFieldLabel:"Sujet",thanks_premium:"Thank you!",validationErrorMessage:"Veuillez remplir tous les champs requis.",subject_premium:"New message via your website, from ",addressFieldLabel:"Adresse",title:"Vous avez un nouveau message: ",thanks:"Merci d'avoir utilisé Wix.com!",details:"Détails du message: ",emailFieldLabel:"Email",nameFieldLabel:"Nom",successMessage:"Vos informations ont bien été envoyées !",messageFieldLabel:"Message",sentOn:"Envoyé le :",firstNameFieldLabel:"Prénom",lastNameFieldLabel:"Nom",contactFormTranslations_test_shmool:"test shmool"},it:{errorMessage:"Ti preghiamo di fornire un'email valida",noOwner:"Indirizzo email del proprietario non impostato",via:"Via: ",error:"si è verificato un errore",phoneFieldLabel:"Telefono",subject:"New message via your Wix website, from ",subjectFieldLabel:"Oggetto",thanks_premium:"Thank you!",validationErrorMessage:"Ti preghiamo di compilare tutti i campi obbligatori.",subject_premium:"New message via your website, from ",addressFieldLabel:"Indirizzo",title:"Hai un nuovo messaggio: ",thanks:"Grazie per aver utilizzato Wix.com!",details:"Dettagli del Messaggio: ",emailFieldLabel:"Email",nameFieldLabel:"Nome",successMessage:"I tuoi dati sono stati inviati con successo!",messageFieldLabel:"Messaggio",sentOn:"Inviato il:",firstNameFieldLabel:"Nome",lastNameFieldLabel:"Cognome",contactFormTranslations_test_shmool:"test shmool"},ja:{errorMessage:"メールアドレスが有効ではありません",noOwner:"所有者のメールアドレスが設定されていません",via:"購読申し込み元： ",error:"エラーが発生しました",phoneFieldLabel:"電話番号",subject:"Wix サイトからの新着メール - 送信元： ",subjectFieldLabel:"件名",thanks_premium:"ありがとうございました！",validationErrorMessage:"必須項目にすべて記入してください。",subject_premium:"あなたのサイトからの新着メール - 送信元： ",addressFieldLabel:"住所",title:"新着メッセージがあります： ",thanks:"Wix.com をご利用いただき、ありがとうございました！",details:"メッセージの詳細： ",emailFieldLabel:"メールアドレス",nameFieldLabel:"お名前",successMessage:"メッセージを受信しました",messageFieldLabel:"メッセージ",sentOn:"送信日：",firstNameFieldLabel:"名",lastNameFieldLabel:"姓",contactFormTranslations_test_shmool:"test shmool"},ko:{errorMessage:"유효한 이메일을 입력하세요.",noOwner:"이메일 주소를 입력하세요.",via:"사이트: ",error:"오류가 발생했습니다.",phoneFieldLabel:"전화번호",subject:"다음 발송자가 Wix 웹사이트를 통해 보낸 메시지가 도착했습니다 -  ",subjectFieldLabel:"제목",thanks_premium:"감사합니다!",validationErrorMessage:"필수 입력사항을 입력해 주세요.",subject_premium:"다음 발송자가 Wix 웹사이트를 통해 보낸 메시지가 도착했습니다 -  ",addressFieldLabel:"주소",title:"새 메시지가 도착했습니다: ",thanks:"Wix.com을 사용해 주셔서 감사합니다!",details:"메시지 세부사항: ",emailFieldLabel:"이메일",nameFieldLabel:"이름",successMessage:"메시지가 성공적으로 전송되었습니다!",messageFieldLabel:"메시지",sentOn:"전송일:",firstNameFieldLabel:"이름",lastNameFieldLabel:"성",contactFormTranslations_test_shmool:"test shmool"},pl:{errorMessage:"Podaj poprawny adres email",noOwner:"Email właściciela nie skonfigurowany",via:"Poprzez: ",error:"wystąpił błąd",phoneFieldLabel:"Telefon",subject:"Nowa wiadomość za pośrednictwem Twojej witryny Wix, od ",subjectFieldLabel:"Temat",thanks_premium:"Dziękuję!",validationErrorMessage:"Wypełnij wszystkie wymagane pola.",subject_premium:"Nowa wiadomość za pośrednictwem Twojej witryny, od ",addressFieldLabel:"Adres",title:"Otrzymałeś nową wiadomość: ",thanks:"Dziękujemy za korzystanie z Wix.com!",details:"Szczegóły Wiadomości: ",emailFieldLabel:"Email",nameFieldLabel:"Imię",successMessage:"Twoje informacje zostały pomyślnie przesłane!",messageFieldLabel:"Wiadomość",sentOn:"Wysłana dnia:",firstNameFieldLabel:"Imię",lastNameFieldLabel:"Nazwisko",contactFormTranslations_test_shmool:"test shmool"},ru:{errorMessage:"Пожалуйста, введите действительный email",noOwner:"Почта владельца не указана",via:"От: ",error:"Произошла ошибка",phoneFieldLabel:"Телефон",subject:"У вас на сайте новое сообщение от ",subjectFieldLabel:"Тема",thanks_premium:"Спасибо!",validationErrorMessage:"Пожалуйста, заполните все обязательные поля.",subject_premium:"У вас на сайте новое сообщение от ",addressFieldLabel:"Адрес",title:"У вас новое сообщение: ",thanks:"Спасибо, что пользуетесь Wix!",details:"Подробности: ",emailFieldLabel:"Email",nameFieldLabel:"Имя",successMessage:"Отлично! Сообщение получено.",messageFieldLabel:"Сообщение",sentOn:"Отправлено:",firstNameFieldLabel:"Имя",lastNameFieldLabel:"Фамилия",contactFormTranslations_test_shmool:"test shmool"},nl:{errorMessage:"Geef een geldig e-mailadres op",noOwner:"E-mailadres van de eigenaar niet ingesteld",via:"Via: ",error:"er ging iets fout",phoneFieldLabel:"Telefoon",subject:"Nieuw bericht via uw Wix-website, van ",subjectFieldLabel:"Onderwerp",thanks_premium:"Bedankt!",validationErrorMessage:"Vul alle verplichte velden in.",subject_premium:"Nieuw bericht via uw website, van ",addressFieldLabel:"Adres",title:"U hebt een nieuw bericht: ",thanks:"Bedankt dat u Wix.com gebruikt!",details:"Gegevens bericht: ",emailFieldLabel:"E-mailadres",nameFieldLabel:"Naam",successMessage:"Bericht ontvangen!",messageFieldLabel:"Bericht",sentOn:"Verstuurd op:",firstNameFieldLabel:"Naam",lastNameFieldLabel:"Achternaam",contactFormTranslations_test_shmool:"test shmool"},tr:{errorMessage:"Lütfen geçerli bir e-posta gönderin",noOwner:"Sahip e-posta adresi belirtilmedi",via:"Şunun aracılığıyla: ",error:"bir hata oluştu",phoneFieldLabel:"Telefon",subject:"Wix sitenizden yeni bir mesajınız var. Gönderen: ",subjectFieldLabel:"Konu",thanks_premium:"Teşekkürler!",validationErrorMessage:"Lütfen tüm gerekli alanları doldurun.",subject_premium:"Wix sitenizden yeni bir mesajınız var. Gönderen: ",addressFieldLabel:"Adres",title:"Yeni mesajınız var: ",thanks:"Wix.com'u kullandığınız için teşekkür ederiz!",details:"Mesaj Bilgileri: ",emailFieldLabel:"E-posta",nameFieldLabel:"Ad",successMessage:"Ayrıntılarınız gönderildi",messageFieldLabel:"Mesaj",sentOn:"Gönderim Tarihi:",firstNameFieldLabel:"Ad",lastNameFieldLabel:"Soyad",contactFormTranslations_test_shmool:"test shmool"},sv:{errorMessage:"Tillhandahåll en giltig e-post",noOwner:"Ägarens e-postadress är inte angiven",via:"Via: ",error:"ett fel har uppstått",phoneFieldLabel:"Telefon",subject:"Nytt meddelande via din Wix-hemsida, från ",
subjectFieldLabel:"Ämne",thanks_premium:"Tack!",validationErrorMessage:"Fyll i alla obligatoriska fält.",subject_premium:"Nytt meddelande via din hemsida, från ",addressFieldLabel:"Adress",title:"Du har ett nytt meddelande: ",thanks:"Tack för att du använder Wix.com!",details:"Meddelandeinformation: ",emailFieldLabel:"E-post",nameFieldLabel:"Namn",successMessage:"Klart! Meddelandet mottaget.",messageFieldLabel:"Meddelande",sentOn:"Skickat:",firstNameFieldLabel:"Namn",lastNameFieldLabel:"Efternamn",contactFormTranslations_test_shmool:"test shmool"},pt:{errorMessage:"Por favor, insira um e-mail válido",noOwner:"Endereço de email do proprietário não foi definido",via:"Via: ",error:"ocorreu um erro",phoneFieldLabel:"Telefone",subject:"Nova mensagem através do seu site Wix, de ",subjectFieldLabel:"Assunto",thanks_premium:"Obrigado!",validationErrorMessage:"Por favor, preencha os campos obrigatórios.",subject_premium:"Nova mensagem através do seu site, do ",addressFieldLabel:"Endereço",title:"Você tem uma nova mensagem: ",thanks:"Obrigado por usar Wix.com!",details:"Detalhes da Mensagem: ",emailFieldLabel:"Email",nameFieldLabel:"Nome",successMessage:"Seus detalhes foram enviados com sucesso!",messageFieldLabel:"Mensagem",sentOn:"Enviado em:",firstNameFieldLabel:"Nome",lastNameFieldLabel:"Sobrenome",contactFormTranslations_test_shmool:"test shmool"},no:{errorMessage:"Vennligst oppgi en gyldig e-post",noOwner:"Eierens e-postadresse er ikke satt",via:"Via: ",error:"Det har oppstått en feil",phoneFieldLabel:"Telefon",subject:"Ny melding via din Wix-nettside, fra ",subjectFieldLabel:"Emne",thanks_premium:"Takk!",validationErrorMessage:"Vennligst fyll ut alle obligatoriske felt.",subject_premium:"Ny melding via nettstedet ditt, fra ",addressFieldLabel:"Adresse",title:"Du har en ny melding: ",thanks:"Takk for at du bruker Wix.com!",details:"Meldingsdetaljer: ",emailFieldLabel:"E-post",nameFieldLabel:"Navn",successMessage:"Supert! Melding mottatt.",messageFieldLabel:"Melding",sentOn:"Sendt:",firstNameFieldLabel:"Navn",lastNameFieldLabel:"Etternavn",contactFormTranslations_test_shmool:"test shmool"},da:{errorMessage:"Indtast en gyldig e-mailadresse",noOwner:"Ejerens e-mailadresse er ikke tilføjet",via:"Via: ",error:"en fejl er opstået",phoneFieldLabel:"Telefon",subject:"Ny besked via din Wix-hjemmeside, fra ",subjectFieldLabel:"Emne",thanks_premium:"Tak!",validationErrorMessage:"Udfyld venligst alle obligatoriske felter",subject_premium:"Ny besked via din hjemmeside, fra ",addressFieldLabel:"Adresse",title:"Du har en ny besked: ",thanks:"Tak fordi du vælger Wix.com!",details:"Beskeddetaljer: ",emailFieldLabel:"E-mail",nameFieldLabel:"Navn",successMessage:"Succes! Beskeden er ankommet.",messageFieldLabel:"Besked",sentOn:"Sendt den:",firstNameFieldLabel:"Navn",lastNameFieldLabel:"Efternavn",contactFormTranslations_test_shmool:"test shmool"},hi:{errorMessage:"Please provide a valid email",noOwner:"Owner email address not set",via:"Via: ",error:"an error has occurred",phoneFieldLabel:"Phone",subject:"New message via your Wix website, from ",subjectFieldLabel:"Subject",thanks_premium:"Thank you!",validationErrorMessage:"Please fill in all required fields.",subject_premium:"New message via your website, from ",addressFieldLabel:"Address",title:"You have a new message: ",thanks:"Thank you for using Wix.com!",details:"Message Details: ",emailFieldLabel:"Email",nameFieldLabel:"Name",successMessage:"Success! Message received.",messageFieldLabel:"Message",sentOn:"Sent on:",firstNameFieldLabel:"Name",lastNameFieldLabel:"Last Name",contactFormTranslations_test_shmool:"test shmool"},zh:{errorMessage:"Please provide a valid email",noOwner:"Owner email address not set",via:"Via: ",error:"an error has occurred",phoneFieldLabel:"Phone",subject:"New message via your Wix website, from ",subjectFieldLabel:"Subject",thanks_premium:"Thank you!",validationErrorMessage:"Please fill in all required fields.",subject_premium:"New message via your website, from ",addressFieldLabel:"Address",title:"You have a new message: ",thanks:"Thank you for using Wix.com!",details:"Message Details: ",emailFieldLabel:"Email",nameFieldLabel:"Name",successMessage:"Success! Message received.",messageFieldLabel:"Message",sentOn:"Sent on:",firstNameFieldLabel:"Name",lastNameFieldLabel:"Last Name",contactFormTranslations_test_shmool:"test shmool"}}),define("utils/dataFixer/plugins/contactFormDataFixer",["lodash","utils/siteUtils/wixUserApi","utils/translations/contactFormTranslations"],function(a,b,c){"use strict";function e(){return"Template"===a.get(window,"rendererModel.siteInfo.documentType")}function f(f,g,h){var i,j;e()&&(i=b.getLanguage(g.cookie,h),j=c[i],j&&a.forOwn(f,function(b){"ContactForm"===b.type&&a.forEach(d,function(a){b[a]=j[a]||b[a]})}))}function g(b){a.forOwn(b,function(a){"ContactForm"===a.type&&(a.onSubmitBehavior||(a.onSubmitBehavior="message"))})}var d=["addressFieldLabel","emailFieldLabel","errorMessage","messageFieldLabel","nameFieldLabel","phoneFieldLabel","subjectFieldLabel","submitButtonLabel","successMessage","validationErrorMessage"],h={exec:function(a,b,c,d){var e=a.data.document_data;f(e,c,d),g(e)}};return h}),define("utils/translations/subscribeFormTranslations",[],{de:{subject_premium:"Neuer Abonnent über Ihre Website",noOwner:"E-Mail-Adresse des Eigentümers nicht festgelegt.",tnx:"Danke, dass Sie Wix.com verwenden!",title:"Sie haben einen neuen Abonnenten:",via:"Über: ",details:"Abonnent-Details:",error:"Ein Fehler ist aufgetreten.",subject:"Neuer Abonnent über Ihre Website von Wix",tnx_premium:"Vielen Dank",sentOn:"Gesendet am:",errorMessage:"Bitte geben Sie eine gültige E-Mail-Adresse ein.",validationErrorMessage:".Bitte füllen Sie alle erforderlichen Felder aus.",subscribeFormTitle:"Neuigkeiten abonnieren",submitButtonLabel:"Jetzt abonnieren",successMessage:"Herzlichen Glückwunsch! Sie sind angemeldet.",firstNameFieldLabel:"Name",lastNameFieldLabel:"Nachname",emailFieldLabel:"E-Mail-Adresse",phoneFieldLabel:"Handynummer"},en:{subject_premium:"New subscriber via your site",noOwner:"Owner email address not set",tnx:"Thank you for using Wix.com!",title:"You have a new subscriber:",via:"Via: ",details:"Subscriber Details:",error:"An error has occurred",subject:"New subscriber via your wix site",tnx_premium:"Thank you",sentOn:"Sent on:",errorMessage:"Please add a valid email.",validationErrorMessage:"Please add required info.",subscribeFormTitle:"Subscribe for Updates",submitButtonLabel:"Subscribe Now",successMessage:"Congrats! You're subscribed.",firstNameFieldLabel:"Name",lastNameFieldLabel:"Last Name",emailFieldLabel:"Email",phoneFieldLabel:"Mobile Number"},es:{subject_premium:"Nuevo suscriptor a través de tu sitio",noOwner:"Email del propietario no está configurado",tnx:"¡Gracias por usar Wix.com!",title:"Tienes un nuevo suscriptor:",via:"Vía: ",details:"Detalles del Suscriptor:",error:"Ha ocurrido un error",subject:"Nuevo suscriptor a través de tu sitio de Wix",tnx_premium:"Gracias",sentOn:"Enviado:",errorMessage:"Por favor introduce un email válido",validationErrorMessage:"Por favor rellena todos los campos obligatorios.",subscribeFormTitle:"Suscríbete para obtener actualizaciones",submitButtonLabel:"Suscríbete Ahora",successMessage:"¡Felicitaciones! Estás suscrito",firstNameFieldLabel:"Nombre",lastNameFieldLabel:"Apellido",emailFieldLabel:"Email",phoneFieldLabel:"Teléfono Móvil"},fr:{subject_premium:"Nouvel abonné via votre site",noOwner:"Adresse email du propriétaire non définie",tnx:"Merci d'avoir utilisé Wix.com !",title:"Vous avez un nouvel abonné :",via:"Via : ",details:"Informations Abonné :",error:"Une erreur est survenue",subject:"Nouvel abonné via votre site Wix",tnx_premium:"Merci",sentOn:"Envoyé le :",errorMessage:"Veuillez saisir un email valide",validationErrorMessage:"Veuillez remplir tous les champs requis.",subscribeFormTitle:"Abonnez-vous pour recevoir des Mises à Jour",submitButtonLabel:"S'Abonner Maintenant",successMessage:"Félicitations ! Vous êtes abonné",firstNameFieldLabel:"Prénom",lastNameFieldLabel:"Nom",emailFieldLabel:"Email",phoneFieldLabel:"Portable"},it:{subject_premium:"Nuovo abbonato dal tuo sito",noOwner:"Indirizzo email del proprietario non impostato",tnx:"Grazie per aver utilizzato Wix.com!",title:"Hai un nuovo abbonato:",via:"Via: ",details:"Dettagli dell'Abbonato:",error:"Si è verificato un errore",subject:"Nuovo abbonato dal tuo sito wix",tnx_premium:"Grazie",sentOn:"Inviato il:",errorMessage:"Ti preghiamo di fornire un'email valida",validationErrorMessage:"Ti preghiamo di compilare tutti i campi obbligatori.",subscribeFormTitle:"Iscriviti agli Aggiornamenti",submitButtonLabel:"Iscriviti Ora",successMessage:"Congrats! You're subscribed.",firstNameFieldLabel:"Nome",lastNameFieldLabel:"Cognome",emailFieldLabel:"Email",phoneFieldLabel:"Cellulare"},ja:{subject_premium:"新規購読者をお知らせします",noOwner:"所有者のメールアドレスが設定されていません",tnx:"Wix.com をご利用いただき、ありがとうございました！",title:"新規購読者：",via:"購読申し込み元： ",details:"購読者情報：",error:"エラーが発生しました",subject:"新規購読者をお知らせします",tnx_premium:"ありがとうございました",sentOn:"送信日：",errorMessage:"有効なメールアドレスを入力してください",validationErrorMessage:"必須項目にすべて記入してください",subscribeFormTitle:"ニュースレター購読",submitButtonLabel:"送信",successMessage:"ご購読ありがとうございます",firstNameFieldLabel:"名",lastNameFieldLabel:"姓",emailFieldLabel:"メールアドレス",phoneFieldLabel:"電話番号"},ko:{subject_premium:"내 사이트 새로운 구독자",noOwner:"이메일 주소를 입력하세요.",tnx:"Wix.com을 이용해 주셔서 감사합니다!",title:"다음은 새 구독자의 정보입니다:",via:"사이트: ",details:"구독자 정보:",error:"오류가 오류가 발생했습니다.",subject:"내 사이트 새 구독자 정보",tnx_premium:"감사합니다.",sentOn:"전송일:",errorMessage:"유효한 이메일을 입력하세요.",validationErrorMessage:"필수 입력사항을 입력해 주세요.",subscribeFormTitle:"업데이트 구독하기",submitButtonLabel:"구독하기",successMessage:"축하합니다! 사이트가 구독됩니다.",firstNameFieldLabel:"이름",lastNameFieldLabel:"성",emailFieldLabel:"이메일",phoneFieldLabel:"모바일"},pl:{subject_premium:"Nowy subskrybent z Twojej witryny Wix.",noOwner:"Email właściciela nie skonfigurowany",tnx:"Dziękujemy za korzystanie z Wix.com!",title:"Masz nowego subskrybenta:",via:"Poprzez: ",details:"Dane Subskrybenta:",error:"Wystąpił błąd",subject:"Nowy subskrybent z Twojej witryny wix",tnx_premium:"Dziękujemy",sentOn:"Wysłana dnia:",errorMessage:"Podaj poprawny adres email",validationErrorMessage:"Wypełnij wszystkie wymagane pola.",subscribeFormTitle:"Zasubskrybuj Aktualizacje",submitButtonLabel:"Zasubskrybuj Teraz",successMessage:"Gratulacje! Zostałeś subskrybentem",firstNameFieldLabel:"Imię",lastNameFieldLabel:"Nazwisko",emailFieldLabel:"Email",phoneFieldLabel:"Telefon"},ru:{subject_premium:"У вашего Wix-сайта новый подписчик!",noOwner:"Почта владельца не указана",tnx:"Спасибо, что пользуетесь Wix!",title:"У вас появился новый подписчик",via:"От: ",details:"Данные подписчика:",error:"Произошла ошибка",subject:"У вашего Wix-сайта новый подписчик!",tnx_premium:"Спасибо!",sentOn:"Отправлено:",errorMessage:"Пожалуйста, укажите верный email",validationErrorMessage:"Заполните все обязательные поля.",subscribeFormTitle:"Подпишитесь на обновления",submitButtonLabel:"Подписаться",successMessage:"Ура! Вы с нами :)",firstNameFieldLabel:"Имя",lastNameFieldLabel:"Фамилия",emailFieldLabel:"Email",phoneFieldLabel:"Мобильный"},nl:{subject_premium:"Nieuwe abonnee via uw website",noOwner:"E-mailadres van de eigenaar niet ingesteld",tnx:"Bedankt dat u Wix.com gebruikt!",title:"U hebt een nieuwe abonnee:",via:"Via: ",details:"Gegevens abonnee:",error:"Er ging iets fout",subject:"Nieuwe abonnee via uw Wix-website",tnx_premium:"Bedankt",sentOn:"Verstuurd op:",errorMessage:"Geef een geldig e-mailadres op.",validationErrorMessage:"Vul de verplichte gegevens in.",subscribeFormTitle:"Subscribe for Updates",submitButtonLabel:"Subscribe Now",successMessage:"Gefeliciteerd! U bent geabonneerd.",firstNameFieldLabel:"Naam",lastNameFieldLabel:"Achternaam",emailFieldLabel:"E-mailadres",phoneFieldLabel:"Mobiel nummer"},tr:{subject_premium:"Siteniz aracılığıyla yeni abone",noOwner:"Sahip e-posta adresi belirtilmedi",tnx:"Wix.com'u kullandığınız için teşekkür ederiz!",title:"Yeni bir aboneniz var:",via:"Şunun aracılığıyla: ",details:"Abone Ayrıntıları:",error:"Bir hata oluştu",subject:"Wix siteniz aracılığıyla yeni abone",tnx_premium:"Teşekkür ederiz",sentOn:"Gönderim Tarihi:",errorMessage:"Lütfen geçerli bir e-posta girin",validationErrorMessage:"Lütfen tüm gerekli alanları doldurun.",subscribeFormTitle:"Güncellemeler için Abone Olun",submitButtonLabel:"Şimdi Abone Ol",successMessage:"Tebrikler! Abone oldunuz",firstNameFieldLabel:"Ad",lastNameFieldLabel:"Soyad",emailFieldLabel:"E-posta",phoneFieldLabel:"Cep Telefonu"},sv:{subject_premium:"Ny prenumerant via din sida",noOwner:"Ägarens e-postadress är inte angiven",tnx:"Tack för att du använder Wix.com!",title:"Du har en ny prenumerant:",via:"Via: ",details:"Prenumerantuppgifter:",error:"Ett fel har uppstått",subject:"Ny prenumerant via din wix-sida",tnx_premium:"Tack",sentOn:"Skickat:",errorMessage:"Lägg till en giltig e-post.",validationErrorMessage:"Lägg till obligatorisk information.",subscribeFormTitle:"Subscribe for Updates",submitButtonLabel:"Subscribe Now",successMessage:"Gratulerar! Du prenumererar.",firstNameFieldLabel:"Namn",lastNameFieldLabel:"Efternamn",emailFieldLabel:"E-post",phoneFieldLabel:"Mobilnummer"},pt:{subject_premium:"Novo assinante através do seu site",noOwner:"Endereço de email do proprietário não foi definido",tnx:"Obrigado por usar o Wix.com!",title:"Você tem um novo assinante:",via:"Via: ",details:"Detalhes do Assinante:",error:"Ocorreu um erro",subject:"Novo assinante através do seu site Wix",tnx_premium:"Obrigado",sentOn:"Enviado em:",errorMessage:"Por favor, insira um email válido",validationErrorMessage:"Por favor, preencha todos os campos obrigatórios.",subscribeFormTitle:"Por favor, insira um email válido",submitButtonLabel:"Assine Agora",successMessage:"Parabéns! Sua assinatura foi concluida",firstNameFieldLabel:"Nome",lastNameFieldLabel:"Sobrenome",emailFieldLabel:"Email",phoneFieldLabel:"Número do Celular"},no:{subject_premium:"Ny abonnent via nettstedet ditt",noOwner:"Eierens e-postadresse er ikke satt",tnx:"Takk for at du bruker Wix.com!",title:"Du har en ny abonnent:",via:"Via: ",details:"Abonnentdetaljer:",error:"Det har oppstått en feil",subject:"Ny abonnent via wix-nettstedet",tnx_premium:"Takk",sentOn:"Sendt:",errorMessage:"Legg til en gyldig e-post.",validationErrorMessage:"Legg til obligatorisk info.",subscribeFormTitle:"Abonner for oppdateringer",submitButtonLabel:"Subscribe Now",successMessage:"Gratulerer! Du abonnerer.",firstNameFieldLabel:"Navn",lastNameFieldLabel:"Etternavn",emailFieldLabel:"E-post",phoneFieldLabel:"Mobilnummer"},da:{subject_premium:"Ny abonnent via din hjemmeside",noOwner:"Ejerens e-mailadresse er ikke tilføjet",tnx:"Tak fordi du vælger Wix.com!",title:"Du har en ny abonnent:",via:"Via: ",details:"Abonnentens detaljer:",error:"Der opstod en fejl",subject:"Ny abonnent via din wix hjemmeside",tnx_premium:"Tak",sentOn:"Sendt den:",errorMessage:"Tilføj venligst en gyldig e-mail.",validationErrorMessage:"Tilføj venligst information.",subscribeFormTitle:"Abonner for opdateringer",submitButtonLabel:"Subscribe Now",successMessage:"Tillykke! Du er tilmeldt.",firstNameFieldLabel:"Navn",lastNameFieldLabel:"Efternavn",emailFieldLabel:"E-mail",phoneFieldLabel:"Mobilnummer"},hi:{subject_premium:"New subscriber via your site",noOwner:"Owner email address not set",tnx:"Thank you for using Wix.com!",title:"You have a new subscriber:",via:"Via: ",details:"Subscriber Details:",error:"An error has occurred",subject:"New subscriber via your wix site",tnx_premium:"Thank you",sentOn:"Sent on:",errorMessage:"Please add a valid email.",validationErrorMessage:"Please add required info.",subscribeFormTitle:"अपडेट्स के लिए सदस्यता लें",submitButtonLabel:"Subscribe Now",successMessage:"Congrats! You're subscribed.",firstNameFieldLabel:"Name",lastNameFieldLabel:"Last Name",emailFieldLabel:"Email",phoneFieldLabel:"Mobile Number"},zh:{subject_premium:"New subscriber via your site",noOwner:"Owner email address not set",tnx:"Thank you for using Wix.com!",title:"You have a new subscriber:",via:"Via: ",details:"Subscriber Details:",error:"An error has occurred",subject:"New subscriber via your wix site",tnx_premium:"Thank you",sentOn:"Sent on:",errorMessage:"Please add a valid email.",validationErrorMessage:"Please add required info.",subscribeFormTitle:"订阅更新",submitButtonLabel:"Subscribe Now",successMessage:"Congrats! You're subscribed.",firstNameFieldLabel:"Name",lastNameFieldLabel:"Last Name",emailFieldLabel:"Email",phoneFieldLabel:"Mobile Number"}}),define("utils/dataFixer/plugins/subscribeFormDataFixer",["lodash","utils/siteUtils/wixUserApi","utils/translations/subscribeFormTranslations"],function(a,b,c){"use strict";function e(){return"Template"===a.get(window,"rendererModel.siteInfo.documentType")}function f(f,g,h){var i,j;e()&&(i=i=b.getLanguage(g.cookie,h),j=c[i],j&&a.forOwn(f,function(b){"SubscribeForm"===b.type&&a.forEach(d,function(a){b[a]=j[a]||b[a]})}))}function g(b){a.forOwn(b,function(a){"SubscribeForm"===a.type&&(a.onSubmitBehavior||(a.onSubmitBehavior="message"))})}var d=["emailFieldLabel","errorMessage","firstNameFieldLabel","lastNameFieldLabel","phoneFieldLabel","submitButtonLabel","subscribeFormTitle","successMessage","validationErrorMessage"],h={exec:function(a,b,c,d){var e=a.data.document_data;f(e,c,d),g(e)}};return h}),define("utils/dataFixer/plugins/pageDataFixer",["lodash"],function(a){"use strict";function b(b){return"Page"===a.get(b,"structure.type")}function c(b){a(b.data.document_data).where({type:"Page"}).pluck("id").forEach(function(a){delete b.data.document_data[a]}).value()}function d(a){b(a)&&c(a)}return{exec:d}}),define("utils/dataFixer/plugins/groupFixer",["lodash"],function(a){"use strict";function d(a){a.componentType===b&&(a.skin=c)}function e(b){a.forEach(b,function(a){d(a),e(a.components)})}var b="wysiwyg.viewer.components.Group",c="wysiwyg.viewer.components.GroupSkin",f={exec:function(a){var b=a.structure;if(b){var c=b.components||b.children,d=b.mobileComponents;c&&e(c),d&&e(d)}}};return f}),define("utils/dataFixer/plugins/textSecurityFixer",["lodash"],function(a){"use strict";function c(c){return a(c).pick(function(c){return a.includes(b,c.type)}).mapValues(function(a){return a.text=d(a.text),a.text=e(a.text),a}).value()}function d(a){return a&&a.replace(/(<object[^>]*>)(.*?)(<\/object>)/gi,"")}function e(a){return a&&a.replace(/<img[^>]*(onerror|onload|onmouseenter|onmousemove|onmouseleave|onmouseover|onmouseup|onmouseout)[^>]*\/?>(<\/img>)?/gi,"")}var b=["RichText","Text","StyledText","MediaRichText"],f={exec:function(a){var b=a.data.document_data;b&&c(b)}};return f}),define("utils/dataFixer/plugins/pageUriSeoFixer",["lodash","utils/siteUtils/siteConstants"],function(a,b){"use strict";var c=a.matchesProperty(["structure","type"],"Page"),d=a.matchesProperty("format",b.URL_FORMATS.SLASH);return{exec:function(b,e,f,g,h){d(h)&&!c(b)&&a.forEach(h.pageIdToResolvedUriSEO,function(a,c){b.data.document_data[c].pageUriSEO=a.curr})}}}),define("utils/dataFixer/plugins/migrateStripToColumnsContainer",["lodash","utils/dataFixer/helpers/CompsMigrationHelper","utils/util/guidUtils"],function(a,b,c){"use strict";function d(){return{type:"MediaContainerDesignData",id:c.getUniqueId("dataItem","-"),background:{id:c.getUniqueId("dataItem","-"),type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:"",scrollType:"none",color:"#FFFFFF"}}}function e(){return{columnsMargin:0,frameMargin:0,fullWidth:!0,rowMargin:0,siteMargin:0,type:"StripColumnsContainerProperties"}}function f(){return{type:"ColumnProperties",alignment:50}}function g(b,d){return{id:a.get(d,[b.id,"mediaId"],c.getUniqueId("media")),type:"Container",layout:{width:b.layout.width,height:b.layout.height,x:0,y:0,scale:1,rotationInDegrees:0,anchors:[{distance:0,topToTop:0,originalValue:0,type:"BOTTOM_PARENT",locked:!0,targetComponent:b.id}],fixedPosition:!1},components:b.components,componentType:"wysiwyg.viewer.components.Column",styleId:"strc1"}}function h(b,c){a.forEach(b.components,function(b){var d=a.get(b,["layout","anchors"],[]);a.forEach(d,function(a){"BOTTOM_PARENT"===a.type&&(a.targetComponent=c.id)})})}function i(b,c){b.behaviors&&(c.behaviors=a.clone(b.behaviors),delete b.behaviors),b.behaviorQuery&&(c.behaviorQuery=b.behaviorQuery,delete b.behaviorQuery)}function j(b,c,j,k){k.componentType="wysiwyg.viewer.components.StripColumnsContainer",this.setComponentProperties(b,k,e(),c);var l=g(k,c);if(h(k,l),i(k,l),a.set(c,[k.id,"mediaId"],l.id),this.setComponentProperties(b,l,f(),c),l.designQuery=k.designQuery,delete k.designQuery,j)k.layout.width=320,k.designQuery=a.get(c,[k.id,"designQuery"]),this.deleteComponentData(b,k);else{k.layout.width=980;var m=d();this.setComponentDesignData(b,k,m,c)}delete k.dataQuery,k.components=[l]}var k={"wysiwyg.viewer.components.StripContainer":j},l=new b(k),m={exec:l.migratePage.bind(l)};return m}),define("utils/dataFixer/plugins/revertStripToColumnsContainerMigration",["lodash","utils/dataFixer/helpers/CompsMigrationHelper"],function(a,b){"use strict";function c(b,c,d,e){if(e.components&&1!==e.components.length)throw"no way to convert columns back to strip if more than one child";var f=a.first(e.components);if(e.componentType="wysiwyg.viewer.components.StripContainer",!d){var g=e.designQuery.replace("#",""),h=b.data.design_data[g].background;delete b.data.design_data[h.replace("#","")],delete b.data.design_data[g]}e.designQuery=f.designQuery,this.deleteComponentData(b,f),this.deleteComponentProperties(b,f),this.deleteComponentProperties(b,e),f.behaviors&&(e.behaviors=a.clone(f.behaviors)),f.behaviorQuery&&(e.behaviorQuery=f.behaviorQuery),e.components=f.components,a.forEach(e.components,function(b){var c=a.get(b,["layout","anchors"],[]);a.forEach(c,function(a){"BOTTOM_PARENT"===a.type&&(a.targetComponent=e.id)})})}var d={"wysiwyg.viewer.components.StripColumnsContainer":c},e=new b(d),f={exec:e.migratePage.bind(e)};return f}),define("utils/dataFixer/plugins/tinyMenuSkinBackgroundFixer",["lodash"],function(a){"use strict";function c(c){function g(b,c,d){a.isUndefined(b)||a.isUndefined(b[c])||(b[d]=b[d]||b[c])}if(c.skin===b&&!a.isUndefined(c.style)&&!a.isUndefined(c.style.properties)){var d=[["bg","bgDrop"],["bg","bgOpen"],["txt","bordercolor"],["txt","iconcolor"],["bordercolor","borderColorSelected"]],e=c.style.properties,f=c.style.propertiesSource;a.forEach(d,function(a){var b=a[0],c=a[1];g(e,b,c),g(f,b,c),b="alpha-"+b,c="alpha-"+c,g(e,b,c),g(f,b,c)})}}var b="wysiwyg.viewer.skins.mobile.TinyMenuSkin",d={exec:function(b){var d=b.data&&b.data.theme_data;a.isEmpty(d)||a.forEach(d,c)}};return d}),define("utils/dataFixer/plugins/designDataFixer",["lodash","utils/util/guidUtils","experiment"],function(a,b,c){"use strict";function d(a){return"wysiwyg.viewer.components.StripContainer"===a.componentType}function e(b){return!a.isUndefined(b.designQuery)}function f(c,d,e){return a.isUndefined(e)&&(e=b.getUniqueId("dataItem","-")),d[e]={id:e,type:"MediaContainerDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}},c.designQuery="#"+e,e}function g(a,b,c){return b[c]=a[c],delete a[c],b[c]}function h(b,c,d,e){var f=d[b];if(!a.isUndefined(f.background)){var h=f.background.slice(1),i=g(d,e,h);if(!a.isUndefined(i.mediaRef)){var j=i.mediaRef.slice(1),k=g(d,e,j);if("WixVideo"===k.type){var l=k.posterImageRef.slice(1);g(d,e,l)}}if(!a.isUndefined(i.imageOverlay)){var m=i.imageOverlay.slice(1);g(d,e,m)}return delete f.background,e[c].background="#"+h,h}}function i(b,c,d,e,g){var i=g.dataQuery.slice(1),j=f(g,c);d[i]=j;var k=h(i,j,b,c);a.isUndefined(k)||(e[i]=k)}function j(b,c,d,e){var g=e.dataQuery.slice(1),h=d[g],i="mobile_"+c[g];f(e,b,i),a.isUndefined(h)||(b[i].background="#"+h)}function k(a,b,c){var d=c.dataQuery.slice(1),e=c.designQuery.slice(1);h(e,d,b,a)}function l(b,f,g,h){var l={},m={},n=a.filter(b,d);c.isOpen("designData")?(a(n).reject(e).forEach(a.partial(i,g,h,m,l)).value(),a(f).filter(function(a){return d(a)&&!e(a)}).forEach(a.partial(j,h,m,l)).value()):a(n).filter(e).forEach(a.partial(k,g,h)).value()}function m(b){return a(b).pluck("components").compact().flatten().concat(b).value()}function n(b){return a.isUndefined(b.structure.components)?m(b.structure.children):b.structure.components}function o(a){return m(a.structure.mobileComponents)}return{exec:function(a){var b=n(a),c=o(a);a.data.design_data=a.data.design_data||{},l(b,c,a.data.document_data,a.data.design_data)}}}),define("utils/dataFixer/plugins/homePageLoginDataFixer",["lodash"],function(a){"use strict";function b(a){a.metaData&&"2.0"===a.metaData.schemaVersion||(a.sendMail=!0)}function c(c){a.forEach(c,function(a){"LoginToWixLink"!==a.type&&"HomePageLogin"!==a.type||b(a)})}var d={exec:function(b){var d=b.data.document_data;a.isEmpty(d)||c(d)}};return d}),define("utils/dataFixer/plugins/packPagesFixer",["lodash"],function(a){"use strict";function b(a,b){return b&&b.propertyQuery&&a.data.component_properties[b.propertyQuery]}function c(a,b){var d,e=a.components||a.children||[];for(b&&a.mobileComponents&&(e=a.mobileComponents),d=0;d<e.length;d++){var f=e[d];if("wysiwyg.viewer.components.WRichText"===f.componentType)return f;if("mobile.core.components.Container"===f.componentType){var g=c(f);if(g)return g}}}return{exec:function(d){if(window.publicModel){var e=a.get(d,["structure","type"]);if("Document"===e||"Page"===e){var f=c(d.structure,!1),g=b(d,f);d.structure.isPagePackedDesktop=!f||g&&g.packed;var h=c(d.structure,!0),i=b(d,h);d.structure.isPagePackedMobile=!h||i&&i.packed}}}}}),define("utils/dataFixer/plugins/characterSetsFixer",["lodash"],function(a){"use strict";var b={exec:function(b){return b.structure&&"Document"===b.structure.type&&a.isEmpty(b.data.document_data.SITE_STRUCTURE.characterSets)&&(b.data.document_data.SITE_STRUCTURE.characterSets=["latin"]),b}};return b}),define("utils/dataFixer/plugins/popupPropsTempDataFixer",["lodash"],function(a){"use strict";return{exec:function(b){var c=a.get(b,["data","component_properties",b.structure.id]),d=c&&c.popup;d&&(a.forEach(["desktop","mobile"],function(b){var d=c[b],e=c.popup[b];(d||e)&&a.set(c,[b,["popup"]],a.assign(d||{},e||{}))}),delete c.popup)}}}),define("utils/dataFixer/plugins/blogSelectionSharerCustomizationsFixer",["lodash","utils/util/blogAppPartNames","experiment"],function(a,b,c){"use strict";return{exec:function(d){a(d.data.document_data).filter({type:"AppPart",appPartName:b.SINGLE_POST}).forEach(function(b){var d=a.find(b.appLogicCustomizations,{forType:"Post",fieldId:"vars",key:"selectionSharerExperimentOpen",view:b.viewName});d||(d={forType:"Post",fieldId:"vars",key:"selectionSharerExperimentOpen",view:b.viewName,type:"AppPartCustomization",format:""},b.appLogicCustomizations.push(d)),d.value=c.isOpen("sv_blogSelectionSharer").toString()}).value()}}}),define("utils/dataFixer/dataFixer",["lodash","experiment","utils/dataFixer/plugins/galleriesMobileTypeFixer","utils/dataFixer/plugins/pageTopFixer","utils/dataFixer/plugins/masterPageFixer","utils/dataFixer/plugins/menuFixer","utils/dataFixer/plugins/verticalMenuFixer","utils/dataFixer/plugins/skinFixer","utils/dataFixer/plugins/stylesFixer","utils/dataFixer/plugins/bgImageStripDataFixer","utils/dataFixer/plugins/compFixer","utils/dataFixer/plugins/galleryFixer","utils/dataFixer/plugins/behaviorsFixer","utils/dataFixer/plugins/fiveGridLineLayoutFixer","utils/dataFixer/plugins/toPageAnchorsFixer","utils/dataFixer/plugins/wrongAnchorsFixer","utils/dataFixer/plugins/addMissingAnchorsOfMasterPage","utils/dataFixer/plugins/customSiteMenuFixer","utils/dataFixer/plugins/sitePagesFixer","utils/dataFixer/plugins/linkRefDataFixer","utils/dataFixer/plugins/fromDocumentToThemeData","utils/dataFixer/plugins/tpaGluedWidgetDataFixer","utils/dataFixer/plugins/compsWithImagesDataFixer","utils/dataFixer/plugins/appPartCustomizationsFixer","utils/dataFixer/plugins/backgroundMediaConverter","utils/dataFixer/plugins/backgroundMediaUndefinedFixer","utils/dataFixer/plugins/backgroundMediaRefDuplicationFixer","utils/dataFixer/plugins/stripContainerBgEffectFixer","utils/dataFixer/plugins/documentMediaFixer","utils/dataFixer/plugins/pinterestFollowFixer","utils/dataFixer/plugins/blogPageMenuFixer","utils/dataFixer/plugins/appPartMediaInnerCustomizationFormatFixer","utils/dataFixer/plugins/appPartReadMoreValueCustomizationFormatFixer","utils/dataFixer/plugins/appPartTagsValueCustomizationFormatFixer","utils/dataFixer/plugins/appPartDuplicateCustomizationFixer","utils/dataFixer/plugins/blogCustomFeedPostsPerPageCustomizationFixer","utils/dataFixer/plugins/blogDateAlignmentCustomizationFixer","utils/dataFixer/plugins/appPartBrokenButtonStyleFixer","utils/dataFixer/plugins/contactFormDataFixer","utils/dataFixer/plugins/subscribeFormDataFixer","utils/dataFixer/plugins/pageDataFixer","utils/dataFixer/plugins/groupFixer","utils/dataFixer/plugins/textSecurityFixer","utils/dataFixer/plugins/pageUriSeoFixer","utils/logger/performance","utils/dataFixer/plugins/migrateStripToColumnsContainer","utils/dataFixer/plugins/revertStripToColumnsContainerMigration","utils/dataFixer/plugins/tinyMenuSkinBackgroundFixer","utils/dataFixer/plugins/designDataFixer","utils/dataFixer/plugins/homePageLoginDataFixer","utils/dataFixer/plugins/packPagesFixer","utils/dataFixer/plugins/characterSetsFixer","utils/dataFixer/plugins/popupPropsTempDataFixer","utils/dataFixer/plugins/blogSelectionSharerCustomizationsFixer"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_){"use strict";function aa(b,c,d,e,f){var g=b.structure.id;return g=g?5===g.length||4===g.length?"":" "+g:" masterPage",S.time("Fix page"+g,function(){var g=b.data||{};return g.document_data=g.document_data||{},g.theme_data=g.theme_data||{},g.component_properties=g.component_properties||{},b.data=g,a.forEach(ba,function(a){a.exec(b,c,d,e,f)}),b},!0)}var ba=a.compact([c,e,y,z,A,f,r,g,h,i,j,k,l,m,n,o,p,q,s,t,u,d,v,w,x,W,B,C,D,E,F,G,H,J,K,I,L,M,N,O,P,Q,R,!b.isOpen("sv_allowStripToColumnMigration")&&U,(b.isOpen("sv_stripMigrationViewer")&&!a.get(window.rendererModel,"previewMode",!0)||b.isOpen("sv_stripToColumnMigration"))&&T,V,X,b.isOpen("viewerGeneratedAnchors")&&!b.isOpen("sv_removeJsonAnchors")?Y:null,b.isOpen("sv_popups")?$:null,Z,_]);return{fix:aa}}),define("utils/util/deprecatedSiteModelMigrater",["lodash","utils/util/htmlParser","utils/dataFixer/dataFixer"],function(a,b,c){"use strict";function d(a){switch(a){case"wysiwyg.viewer.components.WSiteStructure":return"Document";case"mobile.core.components.Page":return"Page";case"wixapps.integration.components.Area":case"mobile.core.components.Container":case"wysiwyg.viewer.components.HeaderContainer":case"wysiwyg.viewer.components.FooterContainer":case"wysiwyg.viewer.components.PagesContainer":case"wysiwyg.viewer.components.ScreenWidthContainer":case"wysiwyg.viewer.components.StripContainer":return"Container"}return"Component"}function e(b,c,e,f,g){var h=a(f).pluck("name").invoke("toLowerCase").zipObject(a.pluck(f,"value")).value();"Page"===d(h.comp)&&(c.page=h.id),b.pagesData[c.page]=b.pagesData[c.page]||{structure:{},data:{},theme_data:{}};var i=b.pagesData[c.page].structure=b.pagesData[c.page].structure||{};if(a.has(c.childrenIndex,c.page)){for(var j=0;j<c.childrenIndex[c.page].length;j++)i=i.components[c.childrenIndex[c.page][j]];var k={};c.childrenIndex[c.page].push(i.components.length),i.components.push(k),i=k}else c.childrenIndex[c.page]=[];i.componentType=h.comp,i.type=d(h.comp),i.id=h.id,i.components=[],i.skin=h.skin,i.styleId=h.styleid,h.dataquery&&(i.dataQuery=h.dataquery),i.propertyQuery=h.propertyquery,i.layout={width:parseInt(h.width,10),height:parseInt(h.height,10),x:parseInt(h.x,10),y:parseInt(h.y,10),anchors:b.wixAnchors[h.id]||[]}}function f(a,b,c){0===b.childrenIndex[b.page].length?b.page="masterPage":b.childrenIndex[b.page].pop()}function g(d){d.pagesData={};var g=d.wixData.document_data.SITE_STRUCTURE.mainPage.slice(1);
d.pagesData.masterPage={data:d.wixData},d.pagesData.masterPage.structure={};var h={page:"masterPage",childrenIndex:{}};b(d.wixHtmlRaw,{start:e.bind(void 0,d,h),end:f.bind(void 0,d,h)});var i=a.keys(d.pagesData),j=a.without(i,"masterPage");d.pagesData.masterPage.data.document_data.MAIN_MENU=d.pagesData.masterPage.data.document_data.MAIN_MENU||{items:[],type:"Menu",id:"MAIN_MENU",metaData:{}},a.forEach(i,function(a){d.pagesData[a]=c.fix(d.pagesData[a],j,d.requestModel,d.currentUrl,d.urlFormatModel)}),d.publicModel.pageList={mainPageId:g,pages:a.map(j,function(b){return a.chain(d).get(["pagesData","masterPage","data","document_data",b]).pick(["title","pageUriSEO"]).assign({pageId:b}).value()})}}return g}),define("utils/util/filterHtmlString",["lodash","xss"],function(a,b){"use strict";function d(){a.assign(b.whiteList,{strike:[]}),b.whiteList.a.push("data-anchor"),a.forOwn(b.whiteList,function(a){a.push("style"),a.push("class"),a.push("dir")}),a.forEach(c,function(a){b.cssFilter.options.whiteList[a]=!0})}var c=["color","background-color","font-size","font-family","font-style","text-decoration","line-height","text-shadow","direction"];if(b)return d(),b}),define("utils/util/htmlTransformer",["lodash","utils/util/htmlParser"],function(a,b){"use strict";function c(b){return a.reduce(b,function(a,b){return a+" "+b.name+'="'+b.escaped+'" '},"")}function d(a,d){var e="",f="";return b(a,{start:function(a,b,g){var h={tag:a,attributes:b,selfClosing:g};f=g?"":a,d.start&&(h=d.start(a,b,g)),h&&(e+="<"+h.tag+c(h.attributes)+(h.selfClosing?"/>":">"))},end:function(a){d.end&&(a=d.end(a)),f="",a&&(e+="</"+a+">")},chars:function(a){d.chars&&(a=d.chars(a,f)),e+=a},comment:function(a){d.comment&&(a=d.comment(a)),a&&(e+="<!--"+a+"-->")}}),e}return{transformHTMLString:d}}),define("utils/util/textSecurityFixer",["lodash","utils/util/htmlTransformer"],function(a,b){"use strict";function g(b){return a.some(d,function(a){return b.toLowerCase()===a},this)}function h(b){var c=a.map(b,function(a){return a.name.toLowerCase()});return c}function i(b){var d=h(b);return a.difference(d,c)}function j(b){return"a"===b.toLowerCase()?a.without(f,"dataquery"):f}function k(a){return"img"===a.toLowerCase()}function l(b){return a.reject(b,function(b){return a.includes(e,b.name.toLowerCase())&&!!/script|expression/.test(b.escaped.toLowerCase())})}function m(b,c){var d=k(b)?i(c):j(b);return a.reject(c,function(b){return a.includes(d,b.name.toLowerCase())})}function n(a,b,c){return g(a)?null:(b=m(a,b),b=l(b),{tag:a,attributes:b,selfClosing:c})}function o(a){return g(a)?null:a}function p(){return""}function q(b,c){return a.includes(d,c.toLowerCase())?"":b}function r(a){var c={start:n,end:o,comment:p,chars:q};return a.text=b.transformHTMLString(a.text,c),a}var c=["src","style","wix-comp"],d=["script","iframe","embed","object","meta"],e=["href","src","style"],f=["script","iframe","embed","object","meta","expression","id","comp","dataquery","propertyquery","styleid","skin","skinpart","y","x","scale","angle","idprefix","state","container","listposition","hasproxy","vcfield","vcview","vctype","pos","onabort","onactivate","onafterprint","onafterupdate","onbeforeactivate","onbeforecopy","onbeforecut","onbeforedeactivate","onbeforeeditfocus","onbeforepaste","onbeforeprint","onbeforeunload","onbeforeupdate","onbegin","onblur","onbounce","oncellchange","onchange","onclick","oncontextmenu","oncontrolselect","oncopy","oncut","ondataavailable","ondatasetchanged","ondatasetcomplete","ondblclick","ondeactivate","ondrag","ondragend","ondragleave","ondragenter","ondragover","ondragdrop","ondragstart","ondrop","onend","onerror","onerrorupdate","onfilterchange","onfinish","onfocus","onfocusIn","onfocusout","onhashchange","onhelp","oninput","onkeydown","onkeypress","onkeyup","onlayoutcomplete","onload","onlosecapture","onmediacomplete","onmediaerror","onmessage","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onmove","onmoveend","onmovestart","onoffline","ononline","onoutofsync","onpaste","onpause","onpopstate","onprogress","onpropertychange","onreadystatechange","onredo","onrepeat","onreset","onresize","onresizeend","onresizestart","onresume","onreverse","onrowsenter","onrowexit","onrowdelete","onrowinserted","onscroll","onseek","onselect","onselectionchange","onselectstart","onstart","onstop","onstorage","onsyncrestored","onsubmit","ontimeerror","ontrackchange","onundo","onunload","onurlflip","seeksegmenttime"];return{fixSecurityIssuesInText:r}}),define("utils/util/throttleUtils",[],function(){"use strict";function a(a,b,c,d){function e(){a.splice(0,c).forEach(b),a.length&&setTimeout(e,d)}e()}return{throttledForEach:a}}),define("utils/util/keyboardUtils",[],function(){"use strict";function b(a){return a.which||a.keyCode}var a={ALT:18,ARROWDOWN:40,ARROWLEFT:37,ARROWRIGHT:39,ARROWUP:38,BACKSPACE:8,CAPSLOCK:20,CLEAR:12,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,HOME:36,INSERT:45,META:224,NUMLOCK:144,PAGEDOWN:34,PAGEUP:33,PAUSE:19,SCROLLLOCK:145,SHIFT:16,SPACEBAR:32,TAB:9};return{keys:a,getKey:b}}),define("utils/util/classNames",["lodash"],function(a){"use strict";return function(b){return a.keys(a.pick(b,a.identity)).join(" ")}}),define("utils/util/imageAnalyzer",["lodash"],function(a){"use strict";function d(){a.forEach(b,function(a){this[a]={}},this)}function f(a){for(var b=0,c=a.length/4,d=0;d<a.length;d+=4){var e=a[d]/255,f=a[d+1]/255,g=a[d+2]/255,h=Math.max(e,f,g),i=100*h;b+=i/c}return b}function g(a){var b=a.data,c=f(b);postMessage(JSON.stringify(c))}function h(){var a=String(f),b="onmessage = "+String(g)+";";return a+b}function i(a,b,c){var d=new window.Image;d.crossOrigin="Anonymous",d.onload=function(){b(d)},d.onerror=c,d.src=a}function j(a,b){var c=document.createElement("canvas"),d=c.getContext("2d");return d.drawImage(a,0,0),d.getImageData(0,0,b.width,b.height).data}function k(b,c,d){window.Worker||d("Browser does not support Web Workers");var e=new window.Blob([h()]),f=window.URL.createObjectURL(e),g=new window.Worker(f);g.onmessage=function(b){g.terminate();var e=JSON.parse(b.data);a.isFinite(e)?c(e):d()},g.onerror=d,g.postMessage(b)}function l(a,d,f,g){i(a,function(i){e.setReqStatus(b.BRIGHTNESS,a,c.PENDING);var l=j(i,d);k(l,f,g)},g)}function m(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}function n(c){var d=e.getResultErrorCallbacks(b.BRIGHTNESS,c);e.remove(b.BRIGHTNESS,c),a.forEach(d,function(a){a()})}function o(d,f){var g=e.getResultSuccessCallbacks(b.BRIGHTNESS,d);e.setReqStatus(b.BRIGHTNESS,d,c.COMPLETE),e.setReqResult(b.BRIGHTNESS,d,f),a.forEach(g,function(a){a(f)}),e.clearResultCallbacks(b.BRIGHTNESS,d)}function p(d,f,g,h){h=h||a.noop,g=g||a.noop,m()||h("HTML5 <canvas> is not supported in this browser");var i=e.getReqStatus(b.BRIGHTNESS,d);switch(i){case c.COMPLETE:var j=e.getReqResult(b.BRIGHTNESS,d);g(j);break;case null:e.setReqStatus(b.BRIGHTNESS,d,c.INIT),e.registerCallbacksForResult(b.BRIGHTNESS,d,g,h),l(d,f,a.partial(o,d),a.partial(n,d));break;default:e.registerCallbacksForResult(b.BRIGHTNESS,d,g,h)}}var b={BRIGHTNESS:"brightness"},c={INIT:"init",PENDING:"pending",COMPLETE:"complete"};d.prototype={getReqResult:function(a,b){var d=this[a][b];return d&&d.status===c.COMPLETE?d.result:null},setReqResult:function(a,b,c){this[a][b]=this[a][b]||{},this[a][b].result=c},getReqStatus:function(a,b){var c=this[a][b];return c&&c.status||null},setReqStatus:function(a,b,c){this[a][b]=this[a][b]||{},this[a][b].status=c},remove:function(a,b){delete this[a][b]},registerCallbacksForResult:function(a,b,c,d){this[a][b]=this[a][b]||{};var e=this[a][b];e.callbacks=e.callbacks||{onSuccess:[],onError:[]},e.callbacks.onSuccess.push(c),e.callbacks.onError.push(d)},clearResultCallbacks:function(a,b){delete this[a][b].callbacks},getResultSuccessCallbacks:function(a,b){var c=this[a][b];return c&&c.callbacks&&c.callbacks.onSuccess||[]},getResultErrorCallbacks:function(a,b){var c=this[a][b];return c&&c.callbacks&&c.callbacks.onError||[]}};var e=new d;return{getImageMeanBrightness:p}}),define("utils/util/imageUtils",["lodash","imageClientApi","utils/util/imageAnalyzer"],function(a,b,c){"use strict";function d(b){var c=a.get(b,"siteData.currentUrl.query",{}),d=a(c).keys().find(function(b){return a.includes(["devicepixelratio"],b.toLowerCase())}),e=b.siteData.mobile.getDevicePixelRatio(),f=Number(c[d]);return f||e||1}function e(c,e){if(!c.containerWidth||!c.containerHeight||!c.imageData.uri)return{uri:"",css:{}};var f=c.imageData,g=c.displayMode||b.fittingTypes.SCALE_TO_FILL,h=a.defaults(c.quality||{},f.quality),i=d(c),j=a.assign(a.pick(f,["width","height","crop"]),{id:f.uri}),k={width:c.containerWidth,height:c.containerHeight,htmlTag:e||"img",pixelAspectRatio:i,alignment:c.alignType||b.alignTypes.CENTER},l=b.getData(g,j,k,h,c.siteData.browser);return l.uri=c.siteData.getMediaFullStaticUrl(l.uri),l}function f(c,d,e){var h,i,j,f=d.width/d.height,k=e===b.fittingTypes.LEGACY_FIT_WIDTH,l=e===b.fittingTypes.LEGACY_FIT_HEIGHT;return k?(j=c.width/f,h=g(c.width,j)):l?(i=c.height*f,h=g(i,c.height)):h=a.clone(c),h}function g(a,b){return{width:Math.ceil(a),exactWidth:a,height:Math.ceil(b),exactHeight:b}}return{getContainerSize:f,getImageComputedProperties:e,getImageMeanBrightness:c.getImageMeanBrightness}}),define("utils/util/animationFrame",[],function(){"use strict";var a="undefined"!=typeof window?window:{},b=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)},c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||clearTimeout;return{request:function(){return b.apply(a,arguments)},cancel:function(){return c.apply(a,arguments)}}}),define("utils/util/tween",["lodash","zepto","utils/util/animationFrame"],function(a,b,c){"use strict";function e(){for(;d.length>0;)g(d[0])}function f(b){"function"==typeof this.killTween&&a(d).filter({_target:b}).forEach(this.killTween).commit()}function g(a){var b;a.dispose(),b=d.indexOf(a),-1!==b&&d.splice(b,1)}function h(a){var b=/[^0-9-]+$/;return b.test(a)===!0?String(String(a).match(b)[0]):""}function i(a,b,c){var d;return void 0!==a[b]?(d=a[b],delete a[b]):d=c,d}function j(a,c,d){b(this._target).css(a,String(c)+d)}function k(a,b){this._target[a]=b}function n(){f(this._target),d.push(this),this._t0=a.now(),c.request(m.bind(this))}function o(a,c,d){var e,f;this._target=a,this._duration=Math.floor(1e3*c),this._easeParams=[],this._t=0,this._tStep=null,this._isAlive=!0;var g=a instanceof window.HTMLElement;g?this._setValueFunc=j:this._setValueFunc=k,this._easeFunc=this.linear;var m=i(d,"ease","linear");void 0!==l[m]&&"function"==typeof l[m]&&(this._easeFunc=l[m]),this._onCompleteCallback=i(d,"onComplete",null),this._onUpdateCallback=i(d,"onUpdate",null);var o=i(d,"delay",0);for(var p in d)(g||void 0!==a[p])&&(e={},e.propName=p,g?(f=b(a).css(p),e.origValue=parseFloat(f),e.unit=h(f),isNaN(e.origValue)&&(e.origValue=0,e.unit="px")):e.origValue=parseFloat(a[p]),e.targetValue=parseFloat(d[p]),this._easeParams.push(e));0===o?n.apply(this):(o=parseInt(1e3*o,10),setTimeout(n.bind(this),o))}var d=[],l={linear:function(a,b,c,d){return c*a/d+b},strong_easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},strong_easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},strong_easeInOut:function(a,b,c,d){return(a/=.5*d)<1?.5*c*a*a*a*a*a+b:.5*c*((a-=2)*a*a*a*a+2)+b},swing:function(a,b,c,d){return-Math.cos((c*a/d+b)*Math.PI)/2+.5}},m=function u(){var b,d;if(this._isAlive){var e=a.now();this._tStep=e-this._t0,this._t0=e,this._t+=this._tStep;for(var f=0;f<this._easeParams.length;f++)b=this._easeParams[f],d=this._t<this._duration?this._easeFunc(this._t,0,1,this._duration)*(b.targetValue-b.origValue)+b.origValue:b.targetValue,b.unit&&"px"===b.unit&&(d=Math.round(d)),this._setValueFunc(b.propName,d,b.unit),null!==this._onUpdateCallback&&this._onUpdateCallback(d,this._target,b.propName);this._t<this._duration?c.request(u.bind(this)):(null!==this._onCompleteCallback&&this._onCompleteCallback(this),g(this))}};return o.prototype.dispose=function(){this._isAlive=!1,this._target=null,this._onCompleteCallback=null,this._onUpdateCallback=null},{killAll:e,killTweensOf:f,killTween:g,Tween:o}}),define("utils/util/requestsUtil",["lodash"],function(a){"use strict";function b(c,d,e){var f=[];c.url&&f.push(c.url),c.urls&&a.isArray(c.urls)&&(f=f.concat(c.urls));var g=f.shift();g||d(null,"mising URL");var h={url:g,dataType:c.dataType||"json",type:"GET",cache:c.cache,syncCache:c.syncCache};c.data&&(h.type="POST",h.contentType="application/json; charset=UTF-8",h.data=JSON.stringify(c.data)),"jsonp"===h.dataType&&c.jsonpCallback&&(h.jsonpCallback=c.jsonpCallback),h.error=function(g,i,j){a.isFunction(c.onUrlRequestFailure)&&c.onUrlRequestFailure(h.url,g&&g.status),f.length?(delete c.url,c.urls=f,b(c,d,e)):d(g.status,j||i)},h.success=function(b){return a.isFunction(c.isValidResponse)&&!c.isValidResponse(b)?void h.error({status:420},"error"):void d(b)},e(h)}return{createAndSendRequest:b}}),define("utils/util/store2",["lodash","utils/util/requestsUtil"],function(a,b){"use strict";function c(a,b){for(var c=a,d=0;d<b.length;d++){var e=b[d];if(!e||!c[e])return null;c=c[e]}return c}function d(a,b){for(var c=a,d=0;d<b.length;d++){var e=b[d];c[e]=c[e]||{},c=c[e]}}function e(b,c,d){for(var e=b,f=0;f<c.length-1;f++){var g=c[f];e=e[g]}e[a.last(c)]=d}function f(b,f,g){var h=b.transformFunc||a.identity;d(g,b.destination);var i=c(g,b.destination),j=h(f,i);e(g,b.destination,j)}function g(d,e,g,h,i){var j=c(e,d.destination);if(j&&!d.force)d.callback(j),d.done();else if(g[d.key]&&!d.force)g[d.key].push(d);else{g[d.key]=g[d.key]||[];var k=function(b,h){var j=a.has(b,"errorCode")&&0!==b.errorCode;if(h||j)d.error(h,b),a.forEach(g[d.key],function(a){a.error(h,b)});else{f(d,b,e);var k=c(e,d.destination);d.callback(k,b),a.forEach(g[d.key],function(a){a.callback(k,b)}),a.forEach(i,function(a){a(d.destination,c(e,d.destination))})}d.done(),a.forEach(g[d.key],function(a){a.done()}),delete g[d.key]};b.createAndSendRequest(d,k,h)}}function h(a,b){this.dataContainer=a,this.fetchFunc=b,this.pendingRequests={},this.requestsTimeouts={},this.isClientSideRender="undefined"!=typeof window&&window.clientSideRender,this.dataLoadedCallbacks=[]}return h.prototype={loadBatch:function(b,c){b&&0!==b.length||a.defer(c);var d=0,e=0,f=function(f,g){var h=a.has(f,"timerId");if(h&&!this.requestsTimeouts[f.fullKey+f.timerId])d++,e--;else{if(h){var i=f.fullKey+f.timerId;if(clearTimeout(this.requestsTimeouts[i]),delete this.requestsTimeouts[i],g)return void e++}d++}d+e===b.length&&c&&c(e>0)};a.forEach(b,function(b){b.force=b.force===!0,b.callback=b.callback||a.noop,b.error=b.error||a.noop,b.done=f.bind(this,b);var c=b.data?JSON.stringify(b.data):"";b.key=b.destination.join(".");var d=b.url;if(d||(d=b.urls?b.urls[0]:""),b.fullKey=b.key+"|"+d+"|"+c,this.isClientSideRender&&a.isNumber(b.timeout)){var e=setTimeout(f.bind(this,b,!0),b.timeout);b.timerId=a.uniqueId(),this.requestsTimeouts[b.fullKey+b.timerId]=e}b.start=a.now(),g(b,this.dataContainer,this.pendingRequests,this.fetchFunc,this.dataLoadedCallbacks)},this)},registerDataLoadedCallback:function(a){this.dataLoadedCallbacks.push(a)},getData:function(){return this.dataContainer}},h}),define("utils/util/mobileViewportFixer",[],function(){"use strict";return{fixViewportTag:function(a){var b="undefined"!=typeof document&&document.getElementById("wixMobileViewport");if(b){var c=a.getSiteWidth(),d=!a.isMobileView();b.setAttribute("content","width="+c+", user-scalable="+(d?"yes":"no"))}}}}),define("utils/util/dateTimeUtils",[],function(){"use strict";function a(a){return 0>a||a>11?"":["January","February","March","April","May","June","July","August","September","October","November","December"][a]}function b(a){return 0>a||a>6?"":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a]}return{getMonthName:a,getDayName:b}}),define("utils/util/validationUtils",[],function(){"use strict";function a(a){var b=/^(?:(?:ftps?:|https?:)?\/\/)?(?:(?:[\u0400-\uA69F\w][\u0400-\uA69F\w-]*)?[\u0400-\uA69F\w]\.)+(?:[\u0400-\uA69Fa-z]+|\d{1,3})(?::[\d]{1,5})?(?:[\/?#].*)?$/i;return b.test(a)}function b(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)}function c(a){var b=new RegExp("^[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&*;:/~\\+#!|]*[\\w\\-\\@?^=%&*;/~\\+#!|])?$");return b.test(a)}function d(a){var b=/^@?[a-zA-Z0-9_%]+$/;return b.test(a)}return{isValidEmail:b,isValidUrl:a,isValidUrlNoProtocol:c,isValidTwitterUser:d}}),define("utils/siteUtils/urlParser/hashBangUrlParser",["utils/util/urlUtils","lodash","utils/siteUtils/siteConstants","utils/log/log"],function(a,b,c,d){"use strict";function e(b){var c;return"string"==typeof b?c=a.parseUrl(b):b.full?c=b:d.error("url to parse has to be either a string or an object"),c}function f(a,c){return b.includes(a.getAllPageIds(),c)}function g(a,b){var c={},d=a.match(/#!(.*?)\/zoom[\/\|](.+?)\/([^\/]+)$/i);if(!d){var e=a.match(/#!(.*?)[\/\|]([^\/]+)\/?(.*$)/i);if(e){var g=e[1],h=e[2],i=e[3];return g&&(c.title=g),f(b,h)?c.pageId=h:(c.pageId=b.getPrimaryPageId()||b.getMainPageId(),c.pageItemId=h),i&&(c.pageAdditionalData=i),c}return{pageId:b.getMainPageId()}}return d[1]&&(c.title=d[1]),c.pageId=d[2],c.pageItemId=d[3],c.imageZoom=!0,c}function h(d,e,f,g){var h=d.currentUrl,i=g||d.getExternalBaseUrl();i=i.replace("."+c.FREE_DOMAIN.WIXSITE+"/","."+c.FREE_DOMAIN.WIX+"/");var j=h.query;return f||b.isEmpty(j)||(i+="?"+a.toQueryString(j)),h.url=i,e.id&&(i+="#!"+e.title+"/"+e.id),e.additionalData&&(i+="/"+e.additionalData),i}function i(a,c){if(!c)return null;var d=e("#"===c?a.currentUrl:c),f="localhost"===d.hostname;return j(a,d)&&!f?a.currentUrl.full!==d.full||b.includes(d.full,"#")?null:{pageId:a.getMainPageId()}:(b.isString(c)&&0===c.indexOf("#!")&&(d=b.clone(a.currentUrl),d.hash=c),g(d.hash,a))}function j(a,b){return!(k(b.hostname)||l(a,b))}function k(a){return/^(.*\.)?mtproxy\.yandex\.net$/.test(a)}function l(b,c){var d=c.protocol+"//"+c.hostname+c.path;return a.isSame(d,b.getExternalBaseUrl())||a.isSame(d,b.getUnicodeExternalBaseUrl())}function m(a,b,d,e,f){var g={title:b.title||c.DEFAULT_PAGE_URI_SEO};return b.pageItemId&&!b.pageAdditionalData?(g.id="zoom",g.additionalData=b.pageId+"/"+b.pageItemId):(b.pageId!==a.getMainPageId()||b.pageAdditionalData||d)&&(g.id=b.pageItemId||b.pageId,g.additionalData=b.pageAdditionalData),h(a,g,e,f)}return{getUrl:m,parseUrl:i}}),define("utils/siteUtils/urlParser/slashUrlParser",["lodash","utils/util/urlUtils","utils/siteUtils/siteConstants"],function(a,b,c){"use strict";function j(d){var e=a.isObject(d.currentUrl)?d.currentUrl.host:b.parseUrl(d.currentUrl).host;return a.endsWith(e,c.FREE_DOMAIN.WIXSITE)||a.endsWith(e,d.serviceTopology.baseDomain)}function k(a){return a.isPremiumDomain()&&!j(a)}function l(a){return a.isViewerMode()?k(a)?i.PREMIUM:a.isWixSite()?i.WIX_INTERNAL:i.FREE_SITE:i.PREVIEW}function m(b){return a.map(b,decodeURIComponent)}function n(b,c){var d=b.getPagesDataItems(),e=a.find(d,{pageUriSEO:c});return e&&e.id}function o(a,b){return a.getPageIdFromPageUriSeo(b)||n(a,b)||a.getMainPageId()}function p(b,c){var d=l(b)+1;return c?a.drop(c.split("/"),d):[]}function q(a){return a===h}function r(a,b){var c=a.getDataByQuery(b);return c?"PermaLink"===c.type:!1}function s(a,b){var c=a.getDataByQuery(b);return c&&"Page"===c.type&&c.tpaApplicationId>0}function t(a,b){var c=a.getDataByQuery(b);return c&&"AppPage"===c.type&&"AppBuilderPage"===c.appPageType}function u(a,b){var c=a.getDataByQuery(b);return c&&"AppPage"===c.type&&"AppPage"===c.appPageType&&c.appPageId===f}function v(a,b){var c=a.getDataByQuery(b);return c&&"AppPage"===c.type&&"AppPage"===c.appPageType&&c.appPageId===g}function w(a,b){return v(a,b)||u(a,b)}function x(a,c){var d=b.getBaseUrlWithPath(c,l(a));return b.isSame(d,a.getExternalBaseUrl())||b.isSame(d,a.getUnicodeExternalBaseUrl())}function y(e,f){var g=a.isObject(f)?f:b.parseUrl(f),h=p(e,g.path),i=a.first(h),j=a.drop(h,1),k={format:c.URL_FORMATS.SLASH};return x(e,g)?(i?q(i)?(k.pageItemId=a.first(j),k.pageId=e.getCurrentUrlPageId()||e.getMainPageId()):(k.pageId=o(e,i),t(e,k.pageId)?k.title=h[2]:k.title=i):(k.pageId=e.getMainPageId(),k.title=z(e,k.pageId)),g.query[d]&&(k.pageItemId=g.query[d],k.imageZoom=!0),h.length>1&&(t(e,k.pageId)?k.pageAdditionalData=a.first(j):q(i)?k.pageAdditionalData=a.drop(j,1).join("/"):s(e,k.pageId)?k.pageAdditionalData=m(j).join("/"):k.pageAdditionalData=j.join("/")),k):null}function z(b,d){return a.get(b.getDataByQuery(d),"pageUriSEO")||c.DEFAULT_PAGE_URI_SEO}function A(b){return a.reduce(e,function(a,b){return delete a[b],a},a.clone(b))}function B(c,e,f,g,i){var j=c.currentUrl,k=A(j.query),m=i||b.getBaseUrlWithPath(j,l(c)),n=r(c,e.pageItemId);return e.pageId&&!n&&(e.pageId!==c.getMainPageId()||f||e.pageAdditionalData)&&(m+="/"+z(c,e.pageId)),t(c,e.pageId)&&e.title&&e.pageAdditionalData?m+="/"+e.pageAdditionalData+"/"+e.title:s(c,e.pageId)&&e.pageAdditionalData?m+="/"+e.pageAdditionalData:w(c,e.pageId)&&e.pageAdditionalData&&(m+="/"+e.pageAdditionalData),e.pageItemId&&(n?e.pageAdditionalData&&(m+="/"+h+"/"+e.pageItemId+"/"+e.pageAdditionalData):k[d]=e.pageItemId),g||a.isEmpty(k)||(m+="?"+b.toQueryString(k)),m}var d="lightbox",e=[d],f="7326bfbb-4b10-4a8e-84c1-73f776051e10",g="79f391eb-7dfc-4adf-be6e-64434c4838d9",h="_p",i={PREVIEW:7,WIX_INTERNAL:2,FREE_SITE:1,PREMIUM:0};return{parseUrl:y,getUrl:B}}),define("utils/siteUtils/wixUrlParser",["lodash","utils/util/stringUtils","utils/util/urlUtils","utils/siteUtils/siteConstants","utils/siteUtils/urlParser/hashBangUrlParser","utils/siteUtils/urlParser/slashUrlParser"],function(a,b,c,d,e,f){"use strict";function h(e,f){var g=a.isObject(f)?f:c.parseUrl(f);return b.startsWith(g.hash,"#!")?!1:e.isUsingUrlFormat(d.URL_FORMATS.SLASH)}function i(a,b){return g[b||a.getUrlFormat()]||g[a.getUrlFormat()]}function j(a,b){return b?"#"===b?j(a,a.currentUrl.full):h(a,b)?f.parseUrl(a,b):e.parseUrl(a,b):null}function k(a,b,c,d,e){var f=i(a,b.format);return f.getUrl(a,b,c,d,e)}var g={slash:f,hashBang:e};return{getUrl:k,parseUrl:j}}),define("utils/util/nonPageItemZoom",["lodash"],function(a){"use strict";function b(){window.rendered.forceUpdate()}var c;return{addGalleryDataToImageData:function(b,c,d){return c=a.assign({getImageDataByQuery:d},c),a.assign({galleryData:c},b)},zoom:function(a){if(!a||"Image"!==a.type||!a.galleryData)throw"nonPageItemZoom should be used only with Images which have been passed to nonPageItemZoom.addGalleryDataToImageData()";c=a,b()},unzoom:function(){c=void 0,b()},getZoomedImageData:function(){return c},getImageDataFromGalleryByQuery:function(b){return c&&c.galleryData?a.find(c.galleryData.items,{id:b}):void 0},shouldImageBeZoomedAsNonPageItem:function(a){return a&&void 0!==a.galleryData}}}),define("utils/util/linkRenderer",["lodash","utils/siteUtils/wixUserApi","utils/siteUtils/wixUrlParser","utils/util/urlUtils","utils/util/validationUtils","utils/util/nonPageItemZoom","experiment"],function(a,b,c,d,e,f,g){"use strict";function m(a){return e.isValidUrl(a.url)?{href:a.url,target:a.target||j}:{}}function n(a,b){var e,d=b.pageId;if(!d)return{};var f={pageId:d.id,title:d.pageUriSEO};return e=c.getUrl(a,f),g.isOpen("sv_popups")?a.isPopupPage(b.pageId)?{href:l,target:i,"data-no-physical-url":e}:{href:e,target:i}:(e=c.getUrl(a,f),{href:e,target:i})}function o(a){return{href:a.currentUrl.full,target:i}}function p(b,c){var j,d=a.clone(c),e=a.has(c.anchorDataId,"id")?c.anchorDataId.id:c.anchorDataId,f=a.includes(h,e),i=b.isImageZoom(b.getExistingRootNavigationInfo(b.getFocusedRootId()));return g.isOpen("wixCodeBinding")&&(f=f&&"#SITE_STRUCTURE"===c.pageId),j=f?i?n(b,{pageId:b.getDataByQuery(b.getPrimaryPageId())}):o(b):n(b,d),a.defaults({"data-anchor":e},j)}function q(a){var b="mailto:"+(a.recipient&&a.recipient.trim()||""),c=[];return a.subject&&c.push("subject="+a.subject),a.body&&c.push("body="+a.body),c.length>0&&(b+="?"+c.join("&")),{href:b,target:i}}function r(b,c){var h,e=c.docId,f=/\.pdf$/i.test(e),g=b.serviceTopology.staticDocsUrl;return a.includes(e,"ugd/")&&a.includes(g,"/ugd")&&(e=e.substr(e.indexOf("ugd")+4)),h=g+"/"+e,f||(h+="?"+d.toQueryString({dn:c.name})),{href:h,target:j}}function s(c,e){var j,l,m,f=e.postLoginUrl||"",g=e.postSignupUrl||"",h=e.dialog||"showLogin",n="",o={sendMail:"sendEmail",mailTemplate:"welcomeEmailTemplate",userColor:"userColor",loginCompName:"loginCompName"};return a.includes(g,"ifcontext")&&(m=d.parseUrl(g).query,a.forOwn(m,function(a,b){"ifcontext"===b.toLowerCase()&&(n=a.replace("#",""),g=/^[a-zA-Z0-9]+$/.test(n)?g.replace("{ifcontext}",n):g.replace("{ifcontext}","illegalContextValue"))})),b.isSessionValid(c)?l=f:("createUser"===h&&(h="sign-up"),j={originUrl:c.currentUrl.full,postLogin:f,postSignUp:g,view:h},a.forEach(o,function(b,c){var d=e[c];a.isUndefined(d)||""===d||(j[b]=d)}),l=k+d.toQueryString(j)),{href:l,target:i}}function t(a,b){return{href:a.currentUrl.full,target:"_self","data-mobile":b.dataMobile}}function u(a,b){if(!b)return!1;var d=!!c.parseUrl(a,b),e=0===b.indexOf("mailto"),f=0===b.indexOf(a.serviceTopology.staticDocsUrl),g=b===l;return!(d||e||f||g)}function v(a){return"PageLink"===a.type&&!a.pageId||"AnchorLink"===a.type&&!a.pageId||"AnchorLink"===a.type&&!a.anchorDataId||"DocumentLink"===a.type&&!a.docId}function w(a,b){var c=[];return a&&c.push("galleryId:"+a),b&&c.push("propertyQuery:"+b),c.join(" ")}var h=["SCROLL_TO_TOP","SCROLL_TO_BOTTOM"],i="_self",j="_blank",k="https://users.wix.com/wix-users/login/form?",l="javascript:void()";return{renderLink:function(a,b){if(!a||v(a))return{};switch(a.type){case"PageLink":return n(b,a);case"ExternalLink":return m(a);case"AnchorLink":return p(b,a);case"LoginToWixLink":return s(b,a);case"EmailLink":return q(a);case"DocumentLink":return r(b,a);case"SwitchMobileViewMode":return t(b,a);default:return{}}},renderImageZoomLink:function(a,b,d,e,h){var j,k;if(f.shouldImageBeZoomedAsNonPageItem(d))k={onClick:function(){f.zoom(d)}};else{j=c.getUrl(a,{pageId:b.pageId,pageItemId:d.id,title:d.title}),k={href:j,target:i},g.isOpen("sv_popups")&&a.isPopupPage(b.pageId)&&(k.href=l,k["data-no-physical-url"]=j);var m=w(e,h);m&&(k["data-page-item-context"]=m)}return k},renderPageLink:function(a,b){return n(b,{pageId:a})},isExternalLink:u,getLinkUrlFromLinkProps:function(a){return a.href===l?a["data-no-physical-url"]:a.href},CONSTS:{LOGIN_TO_WIX_FORM_URL:k}}}),define("utils/util/objectUtils",["lodash"],function(a){"use strict";function b(b,c){for(var d=b,e=0;e<c.length;e++){var f=c[e];if(!a.has(d,f))return null;d=d[f]}return d}function c(b,c){for(var d=b,e=0;e<c.length;e++){var f=c[e];a.has(d,f)||(d[f]={}),d=d[f]}}function d(c,d,e){var f=b(c,a.initial(d));null!==f&&(f[a.last(d)]=e)}function e(b,c,d){d=d||function(){return!0};var e=[],f=function(b){void 0!==b&&null!==b&&(c(b)&&e.push(b),d(b)&&(a.isPlainObject(b)||a.isArray(b))&&a.forEach(b,function(a){f(a)}))};return f(b),e}function f(b,c,d){if(d=d||[],c(b))return d;var e=null;return(a.isPlainObject(b)||a.isArray(b))&&a.forEach(b,function(a,g){return e=f(b[g],c,d.concat(g)),e?!1:void 0}),e}function g(b){return a.isArray(b)?a.map(b,g):a.isObject(b)?a.mapValues(b,g):b}function h(b,c){return!a.isEqual(b||null,c||null)}return{resolvePath:b,ensurePath:c,setInPath:d,filter:e,findPath:f,cloneDeep:g,isDifferent:h}}),define("utils/util/menuUtils",["lodash","utils/util/linkRenderer","utils/util/objectUtils"],function(a,b,c){"use strict";function d(d,e,f){if(!d)return d;if(a.isString(d))return{};var g=c.cloneDeep(d);return f&&(g.render=b.renderLink(g,e)),g}function e(a,c,d){var e={type:"PageLink",pageId:a};return d&&(e.render=b.renderLink(e,c)),e}function f(b,c,e,g){return a.reduce(b,function(a,b){var h=d(b.link,c,g);return(!e||e&&h&&"PageLink"===h.type)&&a.push({id:b.id,label:b.label,isVisible:b.isVisible,isVisibleMobile:b.isVisibleMobile,items:f(b.items,c,e,g),link:h}),a},[],this)}function g(b,c,d){var h,f=[];return a.forEach(b,function(a){h=c.getDataByQuery(a.refId),f.push({label:h.title,isVisible:!h.hidePage,isVisibleMobile:void 0!==h.mobileHidePage?!h.mobileHidePage:!h.hidePage,items:g(a.items,c,d),link:e(a.refId,c,d)})}),f}function h(b,c,d){var e=b.getDataByQuery("CUSTOM_MAIN_MENU"),h=b.getDataByQuery("MAIN_MENU");return!e||h&&!a.isEmpty(h.items)?g(h.items,b,!d):f(e.items,b,c,!d)}function i(a){return h(a,!1,!0)}function j(b){return a.reduce(b,function(a,b){return a>b?a:b},-(1/0))}function k(b){return a.filter(b,function(a){return 0!==a})}function l(b){return a.reduce(b,function(a,b){return b>a?a:b})}function m(b){var c=0;return a.reduce(h(b),function(a,b){return b.isVisible&&(a.push(c.toString()),c++),a},[])}function n(b,c,d,e,f,g,h,i){if(b-=f*(h?e.length:e.length-1),b-=i.left+i.right,c&&a.fill(e,g),a.includes(e,0))return null;var j=0,k=a.reduce(e,function(a,b){return a+b},0);if(k>b)return null;if(c){if(d){var l=Math.floor(b/e.length),m=a.times(e.length,a.constant(l));if(j=l*e.length,b>j){var n=Math.floor(b-j);a.forEach(e,function(a,b){n-1>=b&&m[b]++})}return m}return e}if(d){var o=Math.floor((b-k)/e.length);j=0;var p=a.map(e,function(a){return j+=a+o,a+o});if(b>j){var q=Math.floor(b-j);a.forEach(e,function(a,b){q-1>=b&&p[b]++})}return p}return e}function o(b,c,d){var e=d.getCurrentUrlPageId(),f=b.getSiteAspect("anchorChangeEvent").getActiveAnchor();if(!f)return null;var g=f.activeAnchorComp.id,h=a(c).filter(function(b){return b.link&&a.isObject(b.link.anchorDataId)&&"AnchorLink"===b.link.type&&a.has(b.link.pageId,"id")&&b.link.pageId.id===e}).find({link:{anchorDataId:{id:g}}});return h?h.link.anchorDataId.id:null}function p(a){return a.browserFlags().highlightAnchorsInMenu}return{getDropDownWidthIfOk:n,getMaxWidth:j,getMinWidth:l,removeAllElementsWithWidthZero:k,nonHiddenPageIdsFromMainMenu:m,getSiteMenu:h,getSiteMenuWithoutRenderedLinks:i,getActiveAnchorInPage:o,shouldHighlightAnchorInPage:p}}),define("utils/util/cssUtils",["lodash","utils/util/stringUtils"],function(a,b){"use strict";function e(a){return"calc("+a.join(" + ")+")"}function f(a){return Math.round(2*a)/2}function g(a,b){return f(a/100*b)}function h(b,d){var e=a.clone(b);return a.isFinite(b.vw)&&(e[c.px]=(e[c.px]||0)+g(b.vw,d),delete e[c.vw]),e}function i(b,d){var f=h(b,d),g=a(f).pick(a.keys(c)).map(function(a,b){return a+c[b]}).value();return g.length>1?e(g):g[0]}function j(a,b){return a+"_"+b}function k(a,b){return a+b}function l(b,c){return a(c).compact().map(function(a){return j(b,a)}).join(" ")}function m(a){return d.test(a)?"rgba("+a+")":a}function n(a,c,d){var e="";e=b.startsWith(a,"#")?d+": "+a+";":d+": rgba("+a+");";var f="."+c+" {"+e+"}";return f}function o(b){var c="";return a.forEach(b,function(a,b){c+=n(a,"color_"+b,"color")+"\n",c+=n(a,"backcolor_"+b,"background-color")+"\n"}),c}function p(b,c){return a(b.className||"").split(" ").includes(c)}function q(a,b){p(b)||(a.className=a.className?a.className+" "+b:b)}function r(b,c){b.className=a(b.className).split(" ").without(c).join(" ")}function s(a){var b=document.createElement("link");b.type="text/css",b.rel="stylesheet",b.href=a,document.getElementsByTagName("head")[0].appendChild(b)}var c={pct:"%",px:"px",vw:"vw",vh:"vh"},d=/^\d+,\d+,\d+,(\d+.?\d*)?/;return{convertUnitsDataToCssStringValue:i,concatenateStyleIdToClassName:j,concatenateStyleIdToClassList:l,concatenateStyleIdToSkinPart:k,normalizeColorStr:m,elementHasClass:p,addClassToElement:q,removeClassFromElement:r,addStylesheetOfUrl:s,getColorsCssString:o}}),define("utils/siteUtils/MobileDeviceAnalyzer",["lodash"],function(a){"use strict";function g(a){switch(!0){case/(GT-S5300B|GT-S5360|GT-S5367|GT-S5570I|GT-S6102B|LG-E400f|LG-E400g|LG-E405f|LG-L38C|LGL35G)/i.test(a):return{width:240,
height:320};case/(Ls 670|GT-S5830|GT-S5839i|GT-S6500D|GT-S6802B|GT-S7500L|H866C|Huawei-U8665|LG-C800|LG-MS695|LG-VM696|LGL55C|M865|Prism|SCH-R720|SCH-R820|SCH-S720C|SPH-M820-BST|SPH-M930BST|U8667|X501_USA_Cricket|ZTE-Z990G)/i.test(a):return{width:320,height:480};case/(5860E|ADR6300|ADR6330VW|ADR8995|APA9292KT|C771|GT-I8160|GT-I9070|GT-I9100|HTC-A9192|myTouch4G|N860|PantechP9070|PC36100|pcdadr6350|SAMSUNG-SGH-I727|SAMSUNG-SGH-I777|SAMSUNG-SGH-I997|SC-03D|SCH-I405|SCH-I500|SCH-I510|SCH-R760|SGH-S959G|SGH-T679|SGH-T769|SGH-T959V|SGH-T989|SPH-D700)/i.test(a):return{width:480,height:800};case/(DROIDX|SonyEricssonSO-02C|SonyEricssonST25i)/i.test(a):return{width:480,height:854};case/(DROID3|MB855)/i.test(a):return{width:540,height:960};case/F-05D/i.test(a):return{width:720,height:1280};default:return null}}function h(a){var c,d,e,f,b=a.match(/applewebkit\/([\d\.]+)/i);return b?(c=b[1].split("."),d=+(c[0]||0),e=+(c[1]||0),f=+(c[2]||0),1e4*d+100*e+f):NaN}function i(a){this.requestModel=a}var b=600,c=1280,d=12,e={MOBILE:"smartphone",TABLET:"tablet",DESKTOP:"desktop",OTHER:"other"},f={26:26,27:26,28:26,29:27,30:27,31:27,32:28,33:28,34:28,35:29,36:29,37:29,38:30,39:30,40:30,41:31,42:31,43:31,44:32,45:32,46:32,47:33,48:33,49:33,50:34,51:34,52:34,53:35,54:35,55:35,56:36,57:36,58:36,59:37,60:37,61:37,62:38,63:38,64:38,65:39,66:39,67:39,68:40,69:40,70:40,71:41,72:41,73:41,74:42,75:42,76:42,77:43,78:43,79:43,80:44,81:44,82:44,83:45,84:45,85:45,86:46,87:46,88:46,89:47,90:47,91:47,92:48,93:48,94:48,95:49,96:49,97:49,98:50,99:50,100:50};return i.prototype={isMobileDevice:function(){var c=a.result(this,"requestModel.deviceType.toLowerCase")===e.MOBILE;if(this.isWindowUnavailable())return c;var d=this.getScreenWidth();this.isLandscape()&&(d=this.getScreenHeight());var f=b>d,g=f&&(this.isTouchScreen()||this.isMSMobileDevice());return g},isTabletDevice:function(){if(this.isWindowUnavailable())return!(!this.requestModel||!this.requestModel.deviceType||this.requestModel.deviceType.toLowerCase()!==e.TABLET);var a=this.getScreenWidth();return this.isPortrait()&&(a=this.getScreenHeight()),!this.isMobileDevice()&&a>=b&&c>=a&&this.isTouchScreen()},getWindowScreenWidth:function(){return window.screen.width},getScreenWidth:function(){var a=this._getDeviceParamsByUserAgent();return a?a.width:NaN},getScreenHeight:function(){var a=this._getDeviceParamsByUserAgent();return a?a.height:NaN},isAppleMobileDevice:function(){return/iphone|ipod|ipad|Macintosh/i.test(this.requestModel.userAgent)},isMSMobileDevice:function(){return/iemobile/i.test(this.requestModel.userAgent)},isAndroidMobileDevice:function(){return/android/i.test(this.requestModel.userAgent)},cannotHideIframeWithinRoundedCorners:function(){return h(this.requestModel.userAgent)<537e4},isNewChromeOnAndroid:function(){if(this.isAndroidMobileDevice()){var a=this.requestModel.userAgent.toLowerCase();if(/chrome/i.test(a)){var b=a.split("chrome/"),c=b[1].split(" ")[0],d=c.split(".")[0],e=parseInt(d,10);if(e>=29)return!0}}return!1},isTouchScreen:function(){return this.isWindowUnavailable()?this.isMobileDevice()||this.isTabletDevice():!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},isLandscape:function(){return!this.isPortrait()},isPortrait:function(){if(this.isWindowUnavailable())return!0;var a=window.orientation;return 0===a||180===a||this.isPortraitByScreenSize()},isPortraitByScreenSize:function(){return this.isWindowUnavailable()?!0:window.innerHeight>window.innerWidth},isAndroidOldBrowser:function(){var a=this.isNewChromeOnAndroid(),b=/opr/i.test(this.requestModel.userAgent);return this.isAndroidMobileDevice()&&!a&&!b},getDevicePixelRatio:function(){return this.isWindowUnavailable()?2:this.isMSMobileDevice()?Math.round(window.screen.availWidth/(window.screen.width||document.documentElement.clientWidth)):window.devicePixelRatio},getInitZoom:function(){return this.getScreenWidth()/document.body.offsetWidth},getZoom:function(){if(this.isWindowUnavailable())return 1;var a=this.getScreenWidth();return a/this.getWindowInnerWidth()},getMobileZoomByScreenProperties:function(){if(this.isWindowUnavailable())return 1;var a=1,b=this.getScreenDimensions(),c=Math.max(b.width,b.height),d=Math.min(b.width,b.height);return this.isMobileDevice()&&!this.isPortraitByScreenSize()&&(a=d/c),a},getSiteZoomRatio:function(){if(this.isWindowUnavailable())return 1;var a=320/window.screen.width;return a},getInvertedZoomRatio:function(){return this.isWindowUnavailable()?1:1/this.getZoom()},getOrientationZoomFixRation:function(){return this.getInitZoom()/this.getZoom()},getZoomRatioForNonOptimizedSites:function(){return this.isWindowUnavailable()?1:window.innerWidth/320},_getDeviceParamsByUserAgent:function(){if(this.isWindowUnavailable())return null;var c,d,a=this.requestModel.userAgent.toLowerCase(),b=g(a),e=this.getScreenDimensions();return b?(c=b.width,d=b.height):this.isPortrait()?(c=Math.min(e.width,e.height),d=Math.max(e.width,e.height)):(c=Math.max(e.width,e.height),d=Math.min(e.width,e.height)),/iemobile/i.test(a)&&(c=e.width||document.documentElement.clientWidth,d=e.height||document.documentElement.clientHeight),{width:c,height:d}},getScreenDimensions:function(){return this.isWindowUnavailable()?{width:0,height:0}:{width:window.screen.width,height:window.screen.height}},convertFontSizeToMobile:function(a,b){var c=this.getMobileFontSize(a);return b*Math.round(c)},isWindowUnavailable:function(){return"undefined"==typeof window},getWindowInnerWidth:function(){return window.innerWidth},getMobileFontSize:function(a){var b,c=d,e=+a;return b=c>e?c:14>=e?e+1:25>=e?e:100>=e?f[e]:50},getMinFontSize:function(){return d}},i}),define("utils/siteUtils/browserDetection",[],function(){"use strict";function a(a){if(!a)return{};var b={},c={},d=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),e=a.match(/(Android);?[\s\/]+([\d.]+)?/),f=!!a.match(/\(Macintosh\; Intel /),g=a.match(/(iPad).*OS\s([\d_]+)/),h=a.match(/(iPod)(.*OS\s([\d_]+))?/),i=!g&&a.match(/(iPhone\sOS)\s([\d_]+)/),j=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),k=a.match(/Windows Phone ([\d.]+)/),l=j&&a.match(/TouchPad/),m=a.match(/Kindle\/([\d.]+)/),n=a.match(/Silk\/([\d._]+)/),o=a.match(/(BlackBerry).*Version\/([\d.]+)/),p=a.match(/(BB10).*Version\/([\d.]+)/),q=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),r=a.match(/PlayBook/),s=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),t=a.match(/Firefox\/([\d.]+)/),u=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),v=!s&&a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),w=v||a.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/),x=a.match(/Edge\/\d{2,}\.[\d\w]+$/);return c.webkit=!!d,c.webkit&&(c.version=d[1]),e&&(b.android=!0,b.version=e[2]),i&&!h&&(b.ios=b.iphone=!0,b.version=i[2].replace(/_/g,".")),g&&(b.ios=b.ipad=!0,b.version=g[2].replace(/_/g,".")),h&&(b.ios=b.ipod=!0,b.version=h[3]?h[3].replace(/_/g,"."):null),k&&(b.wp=!0,b.version=k[1]),j&&(b.webos=!0,b.version=j[2]),l&&(b.touchpad=!0),o&&(b.blackberry=!0,b.version=o[2]),p&&(b.bb10=!0,b.version=p[2]),q&&(b.rimtabletos=!0,b.version=q[2]),r&&(c.playbook=!0),m&&(b.kindle=!0,b.version=m[1]),n&&(c.silk=!0,c.version=n[1]),!n&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0),s&&(c.chrome=!0,c.version=s[1]),t&&(c.firefox=!0,c.version=t[1]),u&&(c.ie=!0,c.version=u[1]),w&&(f||b.ios)&&(c.safari=!0,f&&(c.version=w[1])),v&&(c.webview=!0),x&&(c.edge=!0),b.tablet=!!(g||r||e&&!a.match(/Mobile/)||t&&a.match(/Tablet/)||u&&!a.match(/Phone/)&&a.match(/Touch/)),b.phone=!(b.tablet||b.ipod||!(e||i||j||o||p||s&&a.match(/Android/)||s&&a.match(/CriOS\/([\d.]+)/)||t&&a.match(/Mobile/)||u&&a.match(/Touch/))),b.mac=f,{browser:c,os:b}}return a}),define("utils/siteUtils/dataRefs.json",[],function(){return{Data:{BackgroundMedia:{mediaRef:!1,imageOverlay:!1},WixVideo:{posterImageRef:!1},Document:{mainPage:!1,pages:!1},Header:{image:!1},Image:{link:!1,originalImageDataRef:!1},Bgimagestrip:{originalImageDataRef:!1},StripContainer:{background:!1},ImageList:{items:!1},LinkList:{items:!1},AnchorLink:{anchorDataId:!0,pageId:!1},PageLink:{pageId:!1},MediaRichText:{linkList:!1,componentDataList:!1},MenuItem:{refId:!1},Page:{pageBackgrounds:{desktop:{ref:!1},mobile:{ref:!1}}},RichTextImage:{text:!1,image:!1},Service:{image:!1},ServiceList:{items:!1},BasicMenuItem:{link:!1,items:!1},CustomMenu:{items:!1},Menu:{items:!1},CustomMenusCollection:{menus:!1},MenuDataRef:{menuRef:!1},ImageButton:{link:!1,defaultImage:!1,hoverImage:!1,activeImage:!1},SubscribeForm:{link:!1},ContactForm:{link:!1},FlashComponent:{placeHolderImage:!1},LinkableFlashComponent:{link:!1,placeHolderImage:!1},LinkableButton:{link:!1},MenuData:{menuButton:!1,pages:!1},PermaLink:{dataItemRef:!1,correctPermaLinkRef:!1},SelectableList:{items:!1},StyledText:{linkList:!1},StyledTextLinkHelper:{link:!1},SvgShape:{link:!1},Table:{items:!1,header:!1,footer:!1},TPAWidget:{tpaData:!1},TPA:{tpaData:!1},TPASection:{tpaData:!1},TPAMultiSection:{tpaData:!1},RssButton:{image:!1,link:!1},AppPage:{pageBackgrounds:{desktop:{ref:!1},mobile:{ref:!1}}},StripContainerSlideShowSlide:{background:!1}},Design:{MediaContainerDesignData:{background:!1},BackgroundMedia:{mediaRef:!1,imageOverlay:!1},WixVideo:{posterImageRef:!1},Image:{link:!1,originalImageDataRef:!1}},Properties:{}}}),define("utils/siteUtils/customDataResolvers/imageDataResolver",["lodash"],function(a){"use strict";function c(c,d){var e={};c.link&&(e.link=d(c.link)),c.originalImageDataRef&&(e.originalImageDataRef=d(c.originalImageDataRef));var f=a.pick(d("IMAGE_QUALITY"),b);return a.isEmpty(c.quality)&&!a.isEmpty(f)&&(e.quality=f),a.isEmpty(e)?c:a.defaults(e,c)}var b=["quality","unsharpMask"];return{resolve:c}}),define("utils/siteUtils/customDataResolvers/pageLinkDataResolver",["lodash"],function(a){"use strict";function b(b,c){return a.defaults({pageId:c(b.pageId,"masterPage")},b)}return{resolve:b}}),define("utils/siteUtils/customDataResolvers/customDataResolvers",["lodash","utils/siteUtils/customDataResolvers/imageDataResolver","utils/siteUtils/customDataResolvers/pageLinkDataResolver"],function(a,b,c){"use strict";return{Image:b,PageLink:c}}),define("utils/siteUtils/dataResolver",["lodash","utils/siteUtils/dataRefs.json","utils/siteUtils/customDataResolvers/customDataResolvers"],function(a,b,c){"use strict";function e(b,d,e,g,h){var i=a.get(c,[b.type,"resolve"]),j=function(a,b){b=b||d;var c="masterPage"===b?e:["masterPage"];return f.call(this,g,e,c,b,h,a)}.bind(this);return b=i(b,j)}function f(g,h,i,j,k,l,m){var n=b[d[k]],o=null;if(a.isPlainObject(l))return a.has(c,l.type)?o=e.call(this,l,j,h,g,k):(m=m||a.get(n,l.type,{}),o=a.mapValues(m,function(a,b){var c=f.call(this,g,h,i,j,k,l[b],a);return c||a!==!0?c:l[b]},this)),a.defaults(o,l);if(a.isArray(l))return a.map(l,function(a){return f.call(this,g,h,i,j,k,a)},this);a.startsWith(l,"#")&&(l=l.slice(1));var p=j;if(o=a.get(g,[j,"data",k,l]),!o&&(a.forEach(i,function(b){return o=a.get(g,[b,"data",k,l]),!o}),!o))return null;var q=this.readingFromCache&&a.get(this.cache,[p,k,l]);if(q)return q;if(a.has(c,o.type))o=e.call(this,o,j,h,g,k);else{if(m=m||a.get(n,o.type),!m)return o;o=a.assign({},o),a.forEach(m,function(b,c){if(a.has(o,c)){var d=f.call(this,g,h,i,j,k,o[c],b);!d&&b||(o[c]=d)}},this)}return a.set(this.cache,[p,k,l],o),o}function g(b,c,d,e,g){if(!a.has(b,[d,"data"]))return{};var h="masterPage"===d?c:["masterPage"];return f.call(this,b,c,h,d,e,g,null)}function h(){this.cache={},this.readingFromCache=!0}var d={component_properties:"Properties",document_data:"Data",design_data:"Design"};return h.prototype={getDataByQuery:g,clearCache:function(){this.cache={}},setReadingFromCache:function(a){this.readingFromCache=Boolean(a)}},h}),define("utils/siteUtils/pagesUrlUtils",["lodash","utils/siteUtils/siteConstants","experiment"],function(a,b,c){"use strict";function d(c){return a.has(c,["publicModel","pageList"])?a(c.publicModel.pageList.pages).indexBy(function(e){return a.get(c,["urlFormatModel","pageIdToResolvedUriSEO",e.pageId,"curr"])||a.get(e,"pageUriSEO")||b.DEFAULT_PAGE_URI_SEO}).mapValues("pageId").value():{}}function e(b){return a.zipObject(b,a.times(b.length,a.constant(!0)))}function f(a){var d=a.urlFormatModel||{};c.isOpen("urlFormat")?d.format=b.URL_FORMATS.SLASH:d.format=d.format||b.URL_FORMATS.HASH_BANG,d.forbiddenPageUriSEOs=e(d.forbiddenPageUriSEOs||[]),d.pageIdToResolvedUriSEO=d.pageIdToResolvedUriSEO||{},a.urlFormatModel=d}return{ensureUrlFormatModel:f,getMapFromPageUriSeoToPageId:d}}),define("utils/siteUtils/constants",[],function(){"use strict";return{VIEW_MODES:{DESKTOP:"DESKTOP",MOBILE:"MOBILE"},DATA_TYPES:{data:"data",prop:"props",design:"design",theme:"style",behaviors:"behaviors"},BASE_PROPS_SCHEMA_TYPE:"DefaultProperties",COMP_IDS:{PAGE_GROUP:"SITE_PAGES",PAGES_CONTAINER:"PAGES_CONTAINER",HEADER:"SITE_HEADER",FOOTER:"SITE_FOOTER",BACKGROUND:"SITE_BACKGROUND"},POPUP:{POPUP_OVERLAY_CONTAINER:{STYLE_ID:"strc1",SKINPART_ID:"popupOverlayContainer",COMPONENT_TYPE:"wysiwyg.viewer.components.StripContainer",SKIN:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer",TYPE:"StripContainer"},POPUP_CONTAINER:{COMPONENT_TYPE:"wysiwyg.viewer.components.PopupContainer"}},ACTIVE_ANCHOR:{DELAY_TO_END_SCROLL:50}}}),define("utils/siteUtils/browserFlags",[],function(){"use strict";return{create:function(a){var b=a.os,c=a.browser;return{highlightAnchorsInMenu:!(b.ipad&&c.chrome),fixedSiteBackground:!b.tablet&&!b.phone||b.ipad&&c.safari,animateRevealScrubAction:c.ie||c.edge||c.firefox,animateParallaxScrubAction:c.edge,preserve3DParallaxScrubAction:!(c.safari&&c.version>=9)}}}}),define("utils/siteUtils/SiteData",["lodash","utils/util/store2","utils/util/dataUtils","utils/util/deprecatedSiteModelMigrater","utils/util/cookieUtils","utils/siteUtils/MobileDeviceAnalyzer","utils/util/urlUtils","utils/siteUtils/browserDetection","utils/siteUtils/siteConstants","utils/siteUtils/wixUrlParser","utils/siteUtils/dataResolver","utils/siteUtils/pagesUrlUtils","utils/siteUtils/constants","utils/siteUtils/browserFlags","experiment"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";function q(b,c){if(b){b.wixData&&d(b),l.ensureUrlFormatModel(b),this.currentUrl={},this.currentPageInfo={},this._currentRootInfos={},this._currentPageIds={primaryPage:null,popupPage:null},a.assign(this,b),this.siteId=this.siteId||this.rendererModel&&this.rendererModel.siteInfo.siteId;var i=this.requestModel&&this.requestModel.userAgent,j=h(i),m=a.assign({},this.requestModel,b.publicModel&&b.publicModel.deviceInfo);this._isMobileView=b.forceMobileView,this._isTabletDevice=void 0,this.pagesData=this.pagesData||{},this.editorData={generated:{},generatedVersion:{}},this.textRuntimeLayout={overallBorders:{},averageFontSize:{}},o.isOpen("packText")||(this.textRuntimeLayout.compHeight={MOBILE:{},DESKTOP:{}}),this.mapFromPageUriSeoToPageId=l.getMapFromPageUriSeoToPageId(b),this.dockedRuntimeLayout={},this.deletedPagesMap={},this.dataResolver=new k,this.orphanPermanentDataNodes=[],r.call(this,c),this.mobile=new f(m),this.browser=j.browser,this.os=j.os,this.wixBiSession=b.wixBiSession||{},this.svgShapes=b.svgShapes||{},this.activeModes={},this.renderFlags=this.renderFlags||{},a.defaults(this.renderFlags,{isPlayingAllowed:!0,isZoomAllowed:!0,isSocialInteractionAllowed:!0,siteTransformScale:1,isExternalNavigationAllowed:!0,isBackToTopButtonAllowed:!0,isWixAdsAllowed:!0,isSlideShowGalleryClickAllowed:!0,isTinyMenuOpenAllowed:!0,renderFixedPositionContainers:!0,isPageProtectionEnabled:this.isViewerMode(),isSiteMembersDialogsOpenAllowed:!0,allowSiteOverflow:!0,shouldResetGalleryToOriginalState:!1,shouldResetComponent:!0,extraSiteHeight:0,siteScale:1,shouldUpdateJsonFromMeasureMap:!0,componentViewMode:"preview",allowShowingFixedComponents:!0,forceDisplayAsActive:[],renderMobileActionMenu:!g.isQueryParamOn(this.currentUrl,"hideMobileActionBar"),initWixCode:this.isViewerMode()}),this.failedRequests=[],this.renderRealtimeConfig={},this._svSession=e.getCookie("svSession"),this._svQueue=[],this.compStates={},this.widgetsStore={}}}function r(a){this.store=new b(this,a),this.store.registerDataLoadedCallback(this.dataResolver.clearCache.bind(this.dataResolver))}var p="masterPage";return q.prototype={dataTypes:{PROPERTIES:"component_properties",DATA:"document_data",THEME:"theme_data",DESIGN:"design_data",BEHAVIORS:"behaviors_data"},WIX_ADS_ID:"WIX_ADS",MASTER_PAGE_ID:p,setRootNavigationInfo:function(a,b){var c=a.pageId,d=c!==this._currentPageIds.primaryPage&&c!==this._currentPageIds.popupPage,e=o.isOpen("sv_popups")?this.isPopupPage(c):!1;b&&(e||(this._currentPageIds.primaryPage=null),this._currentPageIds.popupPage=null),this._currentRootInfos[c]=a,e?this._currentPageIds.popupPage=a.pageId:(this._currentRootInfos[p]=a,this._currentPageIds.primaryPage=a.pageId,this.currentPageInfo=a),o.isOpen("sv_popups")&&d&&this.dataResolver.clearCache()},getExistingRootNavigationInfo:function(a){return this._currentRootInfos[a]},getPrimaryPageId:function(){return this._currentPageIds.primaryPage},getCurrentPageId:function(){return this.getPrimaryPageId()},getCurrentUrlPageId:function(){return this.getPrimaryPageId()},getFocusedRootId:function(){return o.isOpen("sv_popups")?this._currentPageIds.popupPage||this._currentPageIds.primaryPage:this.getPrimaryPageId()},getAllPossiblyRenderedRoots:function(){var a=[this.MASTER_PAGE_ID,this.getPrimaryPageId()];return this.isPopupOpened()&&a.push(this.getCurrentPopupId()),a},getDataForCopy:function(){var b=a.clone(this);return delete b.store,b},isMobileView:function(){if(a.isUndefined(this._isMobileView)&&this.getMasterPageData())if(c.isMobileStructureExist(this.getMasterPageData())){var b=a(this.currentUrl.query).keys().find(function(a){return"showmobileview"===a.toLowerCase()});b?this._isMobileView="true"===this.currentUrl.query[b]:this._isMobileView=this.mobile.isMobileDevice()&&this.rendererModel.siteMetaData&&this.rendererModel.siteMetaData.adaptiveMobileOn}else this._isMobileView=!1;return this._isMobileView},isMobileDevice:function(){return a.isUndefined(this._isMobileDevice)&&(this._isMobileDevice=this.mobile.isMobileDevice()),this._isMobileDevice},browserFlags:function(){return this._browserFlags||(this._browserFlags=n.create({os:this.os,browser:this.browser})),this._browserFlags},forceLandingPage:function(a){return a.query&&a.query.forceLandingPage},isTabletDevice:function(){return a.isUndefined(this._isTabletDevice)&&(this._isTabletDevice=this.os&&this.os.tablet&&!this.browser.ie||this.mobile.isTabletDevice()),this._isTabletDevice},isTouchDevice:function(){return this.isTabletDevice()||this.isMobileDevice()},setMobileView:function(a){this._isMobileView=a},getAllTheme:function(){return this.pagesData.masterPage.data.theme_data},getGeneralTheme:function(){return this.pagesData.masterPage.data.theme_data.THEME_DATA},getFont:function(a){var b=a.split("_")[1];return this.getGeneralTheme().font[b]},getColor:function(a){var b=a.split("_")[1];return this.getGeneralTheme().color[b]||a},getMasterPageData:function(){return this.pagesData.masterPage},getPageData:function(a){return this.pagesData[a]},getServiceTopologyProperty:function(a){return this.serviceTopology[a]},getStaticMediaUrl:function(){return this.serviceTopology.staticMediaUrl},getStaticVideoUrl:function(){return this.serviceTopology.staticVideoUrl},getStaticVideoHeadRequestUrl:function(){return this.serviceTopology.staticVideoHeadRequestUrl},getMetaSiteId:function(){return this.rendererModel.metaSiteId},getMediaFullStaticUrl:function(a){return g.getMediaUrlByContext(a,this.getStaticMediaUrl(),this.serviceTopology.mediaRootUrl)},getStaticThemeUrlWeb:function(){var a=this.serviceTopology.scriptsLocationMap;return a&&a.skins&&a.skins+"/images/wysiwyg/core/themes"},isPremiumDomain:function(){return a.includes(this.rendererModel.premiumFeatures,"HasDomain")},isPremiumUser:function(){return!a.isEmpty(this.rendererModel.premiumFeatures)},isAdFreePremiumUser:function(){return a.includes(this.rendererModel.premiumFeatures||[],"AdsFree")},getClientSpecMap:function(){return this.rendererModel.clientSpecMap},getClientSpecMapEntry:function(a){return this.rendererModel.clientSpecMap[a]},getClientSpecMapEntriesByType:function(b){return a.where(this.rendererModel.clientSpecMap,{type:b})},getClientSpecMapEntryByAppDefinitionId:function(b){return a.find(this.rendererModel.clientSpecMap,{appDefinitionId:b})},getSMToken:function(){var a=this.getClientSpecMapEntriesByType("sitemembers")[0]||{};return a.smtoken},getSvSession:function(){return this._svSession},subSvSession:function(a,b){var c=this.getSvSession();c||b?a(c):this._svQueue.push(a)},pubSvSession:function(a){this._svSession=a,this._svQueue.forEach(function(b){b(a)}),this._svQueue.length=0},getUserId:function(){return this.siteHeader.userId},getSiteMetaData:function(){return this.rendererModel.siteMetaData},getSiteStructure:function(){return this.getDataByQuery(this.getStructureCompId())},getLanguageCode:function(){return this.rendererModel.languageCode},isPageLandingPage:function(a){var b=this.getDataByQuery(a);return this.forceLandingPage(this.currentUrl)?!0:b&&b.isLandingPage},getStructureCompId:function(){return"SITE_STRUCTURE"},getBodyClientWidth:function(){return document.body.clientWidth},getBodyClientHeight:function(){return document.body.clientHeight},getScreenWidth:function(){return this.screenSize||this.updateScreenSize(),this.screenSize.width},getScreenHeight:function(){return this.screenSize||this.updateScreenSize(),this.screenSize.height},getScreenSize:function(){return this.screenSize||this.updateScreenSize(),this.screenSize},updateScreenSize:function(){this.screenSize={width:this.isMobileView()?320:this.getBodyClientWidth(),height:this.getBodyClientHeight()}},getSiteX:function(){return this.isMobileView()||this.isMobileDevice()?0:Math.min(parseInt(Math.floor((this.getSiteWidth()-this.getScreenWidth())/2),10),0)},getSiteWidth:function(){if(this.isMobileView())return 320;if(this.isFacebookSite())return 520;var b=this.getSiteStructure();return a.get(b,"renderModifiers.siteWidth",980)},isFacebookSite:function(){return"HtmlFacebook"===this.rendererModel.siteInfo.applicationType},clearCache:function(){this.dataResolver.clearCache()},onImageUnmount:function(a){this.imageResizeHandlers&&delete this.imageResizeHandlers[a]},getDataByQuery:function(a,b,c){b=b||"masterPage",c=c||this.dataTypes.DATA;var d=[this.getPrimaryPageId()];return o.isOpen("sv_popups")&&this.isPopupOpened()&&d.push(this.getCurrentPopupId()),this.dataResolver.getDataByQuery(this.pagesData,d,b,c,a)},resolveData:function(a,b,c){return this.getDataByQuery(a,b,c)},findDataOnMasterPageByPredicate:function(b){return a.find(this.pagesData.masterPage.data.document_data,b)},getPageMinHeight:function(){return this.isMobileView()?200:500},getCurrentUrlPageTitle:function(){var a=this.rendererModel.siteInfo.siteTitleSEO||"",b=this.getCurrentUrlPageId(),c=this.getDataByQuery(b),d=c.title||"",e=c.pageTitleSEO||"",f=this.isHomePage(b);return e?a=e:f||(a=a+" | "+d),a},isHomePage:function(a){return a&&a===this.getMainPageId()},getPagesDataItems:function(){var b=this.getAllPageIds(),c=a.map(b,function(a){return this.getDataByQuery(a)},this);return c},isDebugMode:function(){return"all"===a.get(this,["currentUrl","query","debug"])},getFavicon:function(){return this.publicModel&&this.publicModel.favicon},getExternalBaseUrl:function(){var a=7;return this.isViewerMode()?this.publicModel.externalBaseUrl:g.getBaseUrlWithPath(document.location,a)},getUnicodeExternalBaseUrl:function(){return this.publicModel&&this.publicModel.unicodeExternalBaseUrl},getMainPageId:function(){if(this.publicModel)return this.publicModel.pageList.mainPageId;var a=this.getDataByQuery("SITE_STRUCTURE","masterPage");return a.mainPage.id||a.mainPageId||"mainPage"},getAllPageIds:function(){return this.publicModel?a.map(this.publicModel.pageList.pages,"pageId"):a.keys(a.omit(this.pagesData,["masterPage"]))},getPageSEOMetaData:function(a){var b={};a=this.getCurrentUrlPageId()||a,a&&"masterPage"!==a||(a=this.getMainPageId());var c=this.getDataByQuery(a,a);return c&&(b.description=c.descriptionSEO,b.keywords=c.metaKeywordsSEO),b},getBrowser:function(){return this.browser},getOs:function(){return this.os},getHubSecurityToken:function(){return this.hs||"NO_HS"},onlyForEyesBottomAdditionalMargin:function(){return this.isMobileView()?0:1},getPageUsedFonts:function(a){var b=this.getDataByQuery(a);return b.usedFonts},setPageUsedFonts:function(a,b){var c=this.getDataByQuery(a);c.usedFonts=b},getPremiumFeatures:function(){return this.rendererModel.premiumFeatures},isViewerMode:function(){return!a.isUndefined(this.publicModel)},isTemplate:function(){return"Template"===this.rendererModel.siteInfo.documentType},shouldShowWixAds:function(){var b=this.rendererModel.siteInfo.documentType,c="Template"===b&&!this.rendererModel.previewMode,d=a.includes(this.rendererModel.premiumFeatures,"NoAdsInSocialSites");return this.renderFlags.isWixAdsAllowed&&!this.isAdFreePremiumUser()&&"WixSite"!==b&&!c&&(!this.isFacebookSite()||!d)},getPageBottomMargin:function(){return this.isMobileView()||!this.shouldShowWixAds()?0:40},isWixSite:function(){return"WixSite"===this.rendererModel.siteInfo.documentType},isUsingUrlFormat:function(a){return this.getUrlFormat()===a},getUrlFormat:function(){return this.urlFormatModel&&this.urlFormatModel.format?this.urlFormatModel.format:i.URL_FORMATS.HASH_BANG},isImageZoom:function(a){return a.imageZoom},getPageUrl:function(b,c,d){var e=this.isUsingUrlFormat(i.URL_FORMATS.HASH_BANG)?i.URL_FORMATS.HASH_BANG:c;return j.getUrl(this,a.assign({},b,{format:e}),!1,!0,d)},getCurrentUrl:function(a,b){var c=this.getExistingRootNavigationInfo(this.getCurrentUrlPageId());return this.getPageUrl(c,a,b)},getMainPageUrl:function(a,b){return this.getPageUrl({pageId:this.getMainPageId()},a,b)},getMainPagePath:function(){var a=this.getMainPageUrl(this.getUrlFormat()),b=this.currentUrl.protocol+"//"+this.currentUrl.host;return a.replace(b,"")},getForbiddenPageUriSEOs:function(){return this.urlFormatModel&&this.urlFormatModel.forbiddenPageUriSEOs?this.urlFormatModel.forbiddenPageUriSEOs:{}},getPageIdFromPageUriSeo:function(b){return a.get(this.mapFromPageUriSeoToPageId,b)},getGlobalImageQuality:function(){return a.pick(this.getDataByQuery(i.GLOBAL_IMAGE_QUALITY),i.GLOBAL_IMAGE_QUALITY_PROPERTIES)},getCurrentPopupId:function(){return this._currentPageIds.popupPage},isPopupPage:function(a){var b;return"masterPage"===a?!1:(b=this.getDataByQuery(a),Boolean(b&&b.isPopup))},isPopupOpened:function(){return Boolean(this.getCurrentPopupId())},getViewMode:function(){return this.isMobileView()?m.VIEW_MODES.MOBILE:m.VIEW_MODES.DESKTOP},isBehaviorsDataMapExist:function(){return a.some(this.pagesData,function(b){return a.has(b,"data.behaviors_data")})}},q}),define("utils/bi/errors.json",[],function(){return{SINGLE_PAGE_RETRIEVAL_ATTEMPT_FAILED:{errorCode:111020,severity:"warning",params:{p2:"pageId",p1:"hostname",p3:"url",p4:"responseStatusCode"}},ALL_PAGE_RETRIEVAL_ATTEMPTS_FAILED:{errorCode:111021,severity:"fatal",params:{p1:"pageId"}},UNHANDLED_LINK_TYPE_IN_DATA_FIXER:{errorCode:21067,severity:"fatal",params:{p1:"newLinkDataItem"}}}}),define("utils/bi/errors",["utils/bi/errors.json","lodash","utils/logger/logger"],function(a,b,c){"use strict";return b.forEach(a,function(a,b){a.errorName=b}),c.register("utils","error",a),a}),define("utils/siteUtils/pageRequests",["lodash","utils/util/urlUtils","utils/dataFixer/dataFixer","utils/logger/logger","utils/bi/errors"],function(a,b,c,d,e){"use strict";function g(b,c){var d=a.find(b,{pageId:c});return d&&d.urls}function h(b,c){return a.some(b.failedRequests,function(b){var d=b.destination;return 2===a.size(d)&&"pagesData"===d[0]&&d[1]===c})}function i(a,b){d.reportBI(a,e.ALL_PAGE_RETRIEVAL_ATTEMPTS_FAILED,{pageId:b})}function j(a,b){var c=b.masterPage;return p(a,c,f,b)}function k(b,d){return function(e){return c.fix(e,a.pluck(d.pages,"pageId"),b.requestModel,b.currentUrl,b.urlFormatModel)}}function l(a,b,c){if(a.currentUrl&&a.currentUrl.query.fakePage){var d=a.currentUrl.query.fakePage;return{urls:[a.santaBase+"/static/fakePages/"+d+".json"],destination:["pagesData",c],transformFunc:k(a,b)}}var e=g(b.pages,c);return e||(c=b.mainPageId,e=g(b.pages,b.mainPageId)),p(a,e,c,b)}function p(c,f,g,h){return m&&(f[0]=f[0].replace(n,o)),{urls:f,destination:["pagesData",g],isValidResponse:function(b){return a.isObject(b)},transformFunc:k(c,h),error:function(){c.failedRequests.push(this)},onUrlRequestFailure:function(a,f){var h=b.parseUrl(a);d.reportBI(c,e.SINGLE_PAGE_RETRIEVAL_ATTEMPT_FAILED,{pageId:g,hostname:h.hostname,url:a,responseStatusCode:f})}}}function q(b,c){if(!b.publicModel)return[];var d=[],e=b.publicModel.pageList;h(b,f)?i(b,f):b.pagesData[f]||d.push(j(b,e));var g=a.isArray(c)?c:[c];return a.forEach(g,function(a){a.pageId&&(h(b,a.pageId)?i(b,a.pageId):s(b,a)?d.push(p(b,a.jsonUrls,a.pageId,e)):r(b,a)||b.pagesData[a.pageId]||d.push(l(b,e,a.pageId)))}),d}function r(b,c){var d=a.get(b,"rendererModel.passwordProtectedPages",[]);return a.includes(d,c.pageId)}function s(b,c){var d=a.find(b.publicModel.pageList.pages,{pageId:c.pageId});return!a.isEmpty(c.jsonUrls)&&a.isEmpty(a.get(d,"urls"))}var f="masterPage",m="undefined"!=typeof document&&"https:"===document.location.protocol,n=/http:\/\/[a-z]+\.[a-z]+\.com\//,o="//static.wixstatic.com/";return q}),define("utils/util/hashUtils",[],function(){"use strict";function c(a){return j(t(i(a),8*a.length))}function d(a,b){var c=i(a);c.length>16&&(c=t(c,8*a.length));for(var d=[],e=[],f=0;16>f;f++)d[f]=909522486^c[f],e[f]=1549556828^c[f];var g=t(d.concat(i(b)),512+8*b.length);return j(t(e.concat(g),768))}function e(b){for(var e,c=a?"0123456789ABCDEF":"0123456789abcdef",d="",f=0;f<b.length;f++)e=b.charCodeAt(f),d+=c.charAt(e>>>4&15)+c.charAt(15&e);return d}function f(a){for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="",e=a.length,f=0;e>f;f+=3)for(var g=a.charCodeAt(f)<<16|(e>f+1?a.charCodeAt(f+1)<<8:0)|(e>f+2?a.charCodeAt(f+2):0),h=0;4>h;h++)d+=8*f+6*h>8*a.length?b:c.charAt(g>>>6*(3-h)&63);return d}function g(a,b){var e,f,g,h,c=b.length,d=[],i=[],j=Math.ceil(a.length/2);for(e=0;j>e;e++)i[e]=a.charCodeAt(2*e)<<8|a.charCodeAt(2*e+1);for(;i.length>0;){for(h=[],g=0,e=0;e<i.length;e++)g=(g<<16)+i[e],f=Math.floor(g/c),g-=f*c,(h.length>0||f>0)&&(h[h.length]=f);d[d.length]=g,i=h}var k="";for(e=d.length-1;e>=0;e--)k+=b.charAt(d[e]);var l=Math.ceil(8*a.length/(Math.log(b.length)/Math.log(2)));for(e=k.length;l>e;e++)k=b[0]+k;return k}function h(a){for(var d,e,b="",c=-1;++c<a.length;)d=a.charCodeAt(c),e=c+1<a.length?a.charCodeAt(c+1):0,d>=55296&&56319>=d&&e>=56320&&57343>=e&&(d=65536+((1023&d)<<10)+(1023&e),c++),127>=d?b+=String.fromCharCode(d):2047>=d?b+=String.fromCharCode(192|d>>>6&31,128|63&d):65535>=d?b+=String.fromCharCode(224|d>>>12&15,128|d>>>6&63,128|63&d):2097151>=d&&(b+=String.fromCharCode(240|d>>>18&7,128|d>>>12&63,128|d>>>6&63,128|63&d));return b}function i(a){for(var b=[],c=a.length>>2,d=0;c>d;d++)b[d]=0;for(var e=0;e<8*a.length;e+=8)b[e>>5]|=(255&a.charCodeAt(e/8))<<24-e%32;return b}function j(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>24-c%32&255);return b}function k(a,b){return a>>>b|a<<32-b}function l(a,b){return a>>>b}function m(a,b,c){return a&b^~a&c}function n(a,b,c){return a&b^a&c^b&c}function o(a){return k(a,2)^k(a,13)^k(a,22)}function p(a){return k(a,6)^k(a,11)^k(a,25)}function q(a){return k(a,7)^k(a,18)^l(a,3)}function r(a){return k(a,17)^k(a,19)^l(a,10)}function t(a,b){var e,f,g,h,i,j,k,l,t,v,w,x,c=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],d=[];for(a[b>>5]|=128<<24-b%32,a[(b+64>>9<<4)+15]=b,t=0;t<a.length;t+=16){for(e=c[0],f=c[1],g=c[2],h=c[3],i=c[4],j=c[5],k=c[6],l=c[7],v=0;64>v;v++)16>v?d[v]=a[v+t]:d[v]=u(u(u(r(d[v-2]),d[v-7]),q(d[v-15])),d[v-16]),w=u(u(u(u(l,p(i)),m(i,j,k)),s[v]),d[v]),x=u(o(e),n(e,f,g)),l=k,k=j,j=i,i=u(h,w),h=g,g=f,f=e,e=u(w,x);c[0]=u(e,c[0]),c[1]=u(f,c[1]),c[2]=u(g,c[2]),c[3]=u(h,c[3]),
c[4]=u(i,c[4]),c[5]=u(j,c[5]),c[6]=u(k,c[6]),c[7]=u(l,c[7])}return c}function u(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}var a=0,b="",s=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];return{SHA256:{hex_sha256:function(a){return e(c(h(a)))},b64_sha256:function(a){return f(c(h(a)))},any_sha256:function(a,b){return g(c(h(a)),b)},hex_hmac_sha256:function(a,b){return e(d(h(a),h(b)))},b64_hmac_sha256:function(a,b){return f(d(h(a),h(b)))},any_hmac_sha256:function(a,b,c){return g(d(h(a),h(b)),c)}}}}),define("utils/util/textTransforms",["lodash","fonts","utils/util/cssUtils","color"],function(a,b,c,d){"use strict";function k(a,b){var c=a.getFont(b),d=j.parseFontStr(c).color.replace(/[{}]/g,""),e=a.getColor(d);return e}function l(a,b){var c=a.getFont(b);if(!c)return null;var d=parseFloat(j.parseFontStr(c).size.replace("px",""));return d}function m(a,b){a=c.normalizeColorStr(a);var e=new d(a);"#000000"===e.hexString()&&(e=new d("#121212"));var f=e.hslArray()[2]*b;return e.lightness(f),e.hslString()}var e=new RegExp('<[^>]+style="([^\\s]+\\s)*\\s*color[^_][^>]+>',"g"),f=new RegExp("<[^>]+font-size: ?\\d+px[^>]+>","g"),g=new RegExp('<[^>]+"color_\\d+[^>]+>',"g"),h=new RegExp("<[^>]+font_\\d+[^>]+>","g"),i=new RegExp("<[^>]+>","g"),j=b.fontUtils;return{setMobileBrightness:function(a,b,c){if(!b||!b.brightness||1===parseFloat(b.brightness))return a;var d=parseFloat(b.brightness);return a=a.replace(i,function(a){var b,f;if(a.match(e)){var i=a.match(/color *:[^;^"]+/)[0];b=i.split(/: */)[1],f=m(b,d);var j="color: "+f;a=a.replace(/color *:[^;^"]+/,j)}else if(a.match(g)){var l=a.match(/color_\d+/)[0];b=c.getColor(l),f=m(b,d),a=/style="/.test(a)?a.replace(/style="/,function(a){return a+="color: "+f+";"}):a.replace("class=",'style="color: '+f+';" class=')}else if(a.match(h)){var n=a.match(/font_\d+/)[0];b=k(c,n),f=m(b,d),a=/style="/.test(a)?a.replace(/style="/,function(a){return a+="color: "+f+";"}):a.replace("class=",'style="color: '+f+';" class=')}return a})},setMobileFontSize:function(a,b,c){return b?(b=parseFloat(b),a=a.replace(i,function(a){var d,e;if(a.match(f))a=a.replace(/font-size: ?\d+px/,function(a){return d=parseFloat(a.match(/\d+/)[0]),e=Math.round(c.mobile.convertFontSizeToMobile(d,b)),a=a.replace(/\d+/,e)});else if(a.match(h)){var g=a.match(/font_\d+/)[0];d=l(c,g),d&&(e=Math.round(c.mobile.convertFontSizeToMobile(d,b)),a=/style="/.test(a)?a.replace(/style="/,function(a){return a+="font-size: "+e+"px;"}):a.replace("class=",'style="font-size: '+e+'px;" class='))}return a})):a}}}),define("utils/util/countryCodes",[],function(){"use strict";return{countries:{AFG:{countryName:"Afghanistan",characterSets:[],phoneCode:"+93"},ALA:{countryName:"Åland Islands",characterSets:[],phoneCode:"+358 18"},ALB:{countryName:"Albania",characterSets:[],phoneCode:"+355"},DZA:{countryName:"Algeria",characterSets:["arabic"],phoneCode:"+213"},ASM:{countryName:"American Samoa",characterSets:[],phoneCode:"+1 684"},AND:{countryName:"Andorra",characterSets:[],phoneCode:"+376"},AGO:{countryName:"Angola",characterSets:[],phoneCode:"+244"},AIA:{countryName:"Anguilla",characterSets:[],phoneCode:"+1 264"},ATA:{countryName:"Antarctica",characterSets:[],phoneCode:""},ATG:{countryName:"Antigua and Barbuda",characterSets:[],phoneCode:"+1 268"},ARG:{countryName:"Argentina",characterSets:[],phoneCode:"+54"},ARM:{countryName:"Armenia",characterSets:[],phoneCode:"+374"},ABW:{countryName:"Aruba",characterSets:[],phoneCode:"+297"},AUS:{countryName:"Australia",characterSets:[],phoneCode:"+61"},AUT:{countryName:"Austria",characterSets:[],phoneCode:"+43"},AZE:{countryName:"Azerbaijan",characterSets:[],phoneCode:"+994"},BHS:{countryName:"Bahamas",characterSets:[],phoneCode:"+1 242"},BHR:{countryName:"Bahrain",characterSets:["arabic"],phoneCode:"+973"},BGD:{countryName:"Bangladesh",characterSets:[],phoneCode:"+880"},BRB:{countryName:"Barbados",characterSets:[],phoneCode:"+1 246"},BLR:{countryName:"Belarus",characterSets:["cyrillic"],phoneCode:"+375"},BEL:{countryName:"Belgium",characterSets:[],phoneCode:"+32"},BLZ:{countryName:"Belize",characterSets:[],phoneCode:"+501"},BEN:{countryName:"Benin",characterSets:[],phoneCode:"+229"},BMU:{countryName:"Bermuda",characterSets:[],phoneCode:"+1 441"},BTN:{countryName:"Bhutan",characterSets:[],phoneCode:"+975"},BOL:{countryName:"Bolivia, Plurinational State of",characterSets:[],phoneCode:"+591"},BES:{countryName:"Bonaire, Sint Eustatius and Saba",characterSets:[],phoneCode:"+599 7"},BIH:{countryName:"Bosnia and Herzegovina",characterSets:["cyrillic"],phoneCode:"+387"},BWA:{countryName:"Botswana",characterSets:[],phoneCode:"+267"},BVT:{countryName:"Bouvet Island",characterSets:[],phoneCode:""},BRA:{countryName:"Brazil",characterSets:[],phoneCode:"+55"},IOT:{countryName:"British Indian Ocean Territory",characterSets:[],phoneCode:"+246"},BRN:{countryName:"Brunei Darussalam",characterSets:[],phoneCode:"+673"},BGR:{countryName:"Bulgaria",characterSets:["cyrillic"],phoneCode:"+359"},BFA:{countryName:"Burkina Faso",characterSets:[],phoneCode:"+226"},BDI:{countryName:"Burundi",characterSets:[],phoneCode:"+257"},KHM:{countryName:"Cambodia",characterSets:[],phoneCode:"+855"},CMR:{countryName:"Cameroon",characterSets:[],phoneCode:"+237"},CAN:{countryName:"Canada",characterSets:[],phoneCode:"+1"},CPV:{countryName:"Cape Verde",characterSets:[],phoneCode:"+238"},CYM:{countryName:"Cayman Islands",characterSets:[],phoneCode:"+1 345"},CAF:{countryName:"Central African Republic",characterSets:[],phoneCode:"+236"},TCD:{countryName:"Chad",characterSets:["arabic"],phoneCode:"+235"},CHL:{countryName:"Chile",characterSets:[],phoneCode:"+56"},CHN:{countryName:"China",characterSets:[],phoneCode:"+86"},CXR:{countryName:"Christmas Island",characterSets:[],phoneCode:"+61"},CCK:{countryName:"Cocos (Keeling) Islands",characterSets:[],phoneCode:"+61"},COL:{countryName:"Colombia",characterSets:[],phoneCode:"+57"},COM:{countryName:"Comoros",characterSets:["arabic"],phoneCode:"+269"},COG:{countryName:"Congo",characterSets:[],phoneCode:"+242"},COD:{countryName:"Congo, the Democratic Republic of the",characterSets:[],phoneCode:"+243"},COK:{countryName:"Cook Islands",characterSets:[],phoneCode:"+682"},CRI:{countryName:"Costa Rica",characterSets:[],phoneCode:"+506"},CIV:{countryName:"Côte d'Ivoire",characterSets:[],phoneCode:"+225"},HRV:{countryName:"Croatia",characterSets:["latin-ext"],phoneCode:"+385"},CUB:{countryName:"Cuba",characterSets:[],phoneCode:"+53"},CUW:{countryName:"Curaçao",characterSets:[],phoneCode:"+599 9"},CYP:{countryName:"Cyprus",characterSets:[],phoneCode:"+357"},CZE:{countryName:"Czech Republic",characterSets:["latin-ext"],phoneCode:"+420"},DNK:{countryName:"Denmark",characterSets:[],phoneCode:"+45"},DJI:{countryName:"Djibouti",characterSets:["arabic"],phoneCode:"+253"},DMA:{countryName:"Dominica",characterSets:[],phoneCode:"+1 767"},DOM:{countryName:"Dominican Republic",characterSets:[],phoneCode:"+1 809"},ECU:{countryName:"Ecuador",characterSets:[],phoneCode:"+593"},EGY:{countryName:"Egypt",characterSets:["arabic"],phoneCode:"+20"},SLV:{countryName:"El Salvador",characterSets:[],phoneCode:"+503"},GNQ:{countryName:"Equatorial Guinea",characterSets:[],phoneCode:"+240"},ERI:{countryName:"Eritrea",characterSets:["arabic"],phoneCode:"+291"},EST:{countryName:"Estonia",characterSets:[],phoneCode:"+372"},ETH:{countryName:"Ethiopia",characterSets:[],phoneCode:"+251"},FLK:{countryName:"Falkland Islands (Malvinas)",characterSets:[],phoneCode:"+500"},FRO:{countryName:"Faroe Islands",characterSets:[],phoneCode:"+298"},FJI:{countryName:"Fiji",characterSets:[],phoneCode:"+679"},FIN:{countryName:"Finland",characterSets:[],phoneCode:"+358"},FRA:{countryName:"France",characterSets:[],phoneCode:"+33"},GUF:{countryName:"French Guiana",characterSets:[],phoneCode:"+594"},PYF:{countryName:"French Polynesia",characterSets:[],phoneCode:"+689"},ATF:{countryName:"French Southern Territories",characterSets:[],phoneCode:""},GAB:{countryName:"Gabon",characterSets:[],phoneCode:"+241"},GMB:{countryName:"Gambia",characterSets:[],phoneCode:"+220"},GEO:{countryName:"Georgia",characterSets:[],phoneCode:"+995"},DEU:{countryName:"Germany",characterSets:[],phoneCode:"+49"},GHA:{countryName:"Ghana",characterSets:[],phoneCode:"+233"},GIB:{countryName:"Gibraltar",characterSets:[],phoneCode:"+350"},GRC:{countryName:"Greece",characterSets:[],phoneCode:"+30"},GRL:{countryName:"Greenland",characterSets:[],phoneCode:"+299"},GRD:{countryName:"Grenada",characterSets:[],phoneCode:"+1 473"},GLP:{countryName:"Guadeloupe",characterSets:[],phoneCode:"+590"},GUM:{countryName:"Guam",characterSets:[],phoneCode:"+1 671"},GTM:{countryName:"Guatemala",characterSets:[],phoneCode:"+502"},GGY:{countryName:"Guernsey",characterSets:[],phoneCode:"+44"},GIN:{countryName:"Guinea",characterSets:[],phoneCode:"+224"},GNB:{countryName:"Guinea-Bissau",characterSets:[],phoneCode:"+245"},GUY:{countryName:"Guyana",characterSets:[],phoneCode:"+592"},HTI:{countryName:"Haiti",characterSets:[],phoneCode:"+509"},HMD:{countryName:"Heard Island and McDonald Islands",characterSets:[],phoneCode:""},VAT:{countryName:"Holy See (Vatican City State)",characterSets:[],phoneCode:""},HND:{countryName:"Honduras",characterSets:[],phoneCode:"+504"},HKG:{countryName:"Hong Kong",characterSets:[],phoneCode:"+852"},HUN:{countryName:"Hungary",characterSets:["latin-ext"],phoneCode:"+36"},ISL:{countryName:"Iceland",characterSets:[],phoneCode:"+354"},IND:{countryName:"India",characterSets:[],phoneCode:"+91"},IDN:{countryName:"Indonesia",characterSets:[],phoneCode:"+62"},IRN:{countryName:"Iran, Islamic Republic of",characterSets:[],phoneCode:"+98"},IRQ:{countryName:"Iraq",characterSets:["arabic"],phoneCode:"+964"},IRL:{countryName:"Ireland",characterSets:[],phoneCode:"+353"},IMN:{countryName:"Isle of Man",characterSets:[],phoneCode:"+44"},ISR:{countryName:"Israel",characterSets:["hebrew","arabic"],phoneCode:"+972"},ITA:{countryName:"Italy",characterSets:[],phoneCode:"+39"},JAM:{countryName:"Jamaica",characterSets:[],phoneCode:"+1 876"},JPN:{countryName:"Japan",characterSets:["japanese"],phoneCode:"+81"},JEY:{countryName:"Jersey",characterSets:[],phoneCode:"+44"},JOR:{countryName:"Jordan",characterSets:["arabic"],phoneCode:"+962"},KAZ:{countryName:"Kazakhstan",characterSets:[],phoneCode:"+7"},KEN:{countryName:"Kenya",characterSets:[],phoneCode:"+254"},KIR:{countryName:"Kiribati",characterSets:[],phoneCode:"+686"},PRK:{countryName:"Korea, Democratic People's Republic of",characterSets:["korean"],phoneCode:"+850"},KOR:{countryName:"Korea, Republic of",characterSets:["korean"],phoneCode:"+82"},KWT:{countryName:"Kuwait",characterSets:["arabic"],phoneCode:"+965"},KGZ:{countryName:"Kyrgyzstan",characterSets:[],phoneCode:"+996"},LAO:{countryName:"Lao People's Democratic Republic",characterSets:[],phoneCode:"+856"},LVA:{countryName:"Latvia",characterSets:["latin-ext"],phoneCode:"+371"},LBN:{countryName:"Lebanon",characterSets:["arabic"],phoneCode:"+961"},LSO:{countryName:"Lesotho",characterSets:[],phoneCode:"+266"},LBR:{countryName:"Liberia",characterSets:[],phoneCode:"+231"},LBY:{countryName:"Libya",characterSets:["arabic"],phoneCode:"+218"},LIE:{countryName:"Liechtenstein",characterSets:[],phoneCode:"+423"},LTU:{countryName:"Lithuania",characterSets:[],phoneCode:"+370"},LUX:{countryName:"Luxembourg",characterSets:[],phoneCode:"+352"},MAC:{countryName:"Macao",characterSets:[],phoneCode:"+853"},MKD:{countryName:"Macedonia, the former Yugoslav Republic of",characterSets:["cyrillic"],phoneCode:"+389"},MDG:{countryName:"Madagascar",characterSets:[],phoneCode:"+261"},MWI:{countryName:"Malawi",characterSets:[],phoneCode:"+265"},MYS:{countryName:"Malaysia",characterSets:[],phoneCode:"+60"},MDV:{countryName:"Maldives",characterSets:[],phoneCode:"+960"},MLI:{countryName:"Mali",characterSets:[],phoneCode:"+223"},MLT:{countryName:"Malta",characterSets:[],phoneCode:"+356"},MHL:{countryName:"Marshall Islands",characterSets:[],phoneCode:"+692"},MTQ:{countryName:"Martinique",characterSets:[],phoneCode:"+596"},MRT:{countryName:"Mauritania",characterSets:["arabic"],phoneCode:"+222"},MUS:{countryName:"Mauritius",characterSets:[],phoneCode:"+230"},MYT:{countryName:"Mayotte",characterSets:[],phoneCode:"+262"},MEX:{countryName:"Mexico",characterSets:[],phoneCode:"+52"},FSM:{countryName:"Micronesia, Federated States of",characterSets:[],phoneCode:"+691"},MDA:{countryName:"Moldova, Republic of",characterSets:[],phoneCode:"+373"},MCO:{countryName:"Monaco",characterSets:[],phoneCode:"+377"},MNG:{countryName:"Mongolia",characterSets:[],phoneCode:"+976"},MNE:{countryName:"Montenegro",characterSets:["cyrillic"],phoneCode:"+382"},MSR:{countryName:"Montserrat",characterSets:[],phoneCode:"+1 664"},MAR:{countryName:"Morocco",characterSets:["arabic"],phoneCode:"+212"},MOZ:{countryName:"Mozambique",characterSets:[],phoneCode:"+258"},MMR:{countryName:"Myanmar",characterSets:[],phoneCode:""},NAM:{countryName:"Namibia",characterSets:[],phoneCode:"+264"},NRU:{countryName:"Nauru",characterSets:[],phoneCode:"+674"},NPL:{countryName:"Nepal",characterSets:[],phoneCode:"+977"},NLD:{countryName:"Netherlands",characterSets:[],phoneCode:"+31"},NCL:{countryName:"New Caledonia",characterSets:[],phoneCode:"+687"},NZL:{countryName:"New Zealand",characterSets:[],phoneCode:"+64"},NIC:{countryName:"Nicaragua",characterSets:[],phoneCode:"+505"},NER:{countryName:"Niger",characterSets:[],phoneCode:"+227"},NGA:{countryName:"Nigeria",characterSets:[],phoneCode:"+234"},NIU:{countryName:"Niue",characterSets:[],phoneCode:"+683"},NFK:{countryName:"Norfolk Island",characterSets:[],phoneCode:"+672"},MNP:{countryName:"Northern Mariana Islands",characterSets:[],phoneCode:"+1 670"},NOR:{countryName:"Norway",characterSets:[],phoneCode:"+47"},OMN:{countryName:"Oman",characterSets:["arabic"],phoneCode:"+968"},PAK:{countryName:"Pakistan",characterSets:[],phoneCode:"+92"},PLW:{countryName:"Palau",characterSets:[],phoneCode:"+680"},PSE:{countryName:"Palestine, State of",characterSets:["arabic"],phoneCode:"+970"},PAN:{countryName:"Panama",characterSets:[],phoneCode:"+507"},PNG:{countryName:"Papua New Guinea",characterSets:[],phoneCode:"+675"},PRY:{countryName:"Paraguay",characterSets:[],phoneCode:"+595"},PER:{countryName:"Peru",characterSets:[],phoneCode:"+51"},PHL:{countryName:"Philippines",characterSets:[],phoneCode:"+63"},PCN:{countryName:"Pitcairn",characterSets:[],phoneCode:"+64"},POL:{countryName:"Poland",characterSets:["latin-ext"],phoneCode:"+48"},PRT:{countryName:"Portugal",characterSets:[],phoneCode:"+351"},PRI:{countryName:"Puerto Rico",characterSets:[],phoneCode:"+1 787"},QAT:{countryName:"Qatar",characterSets:["arabic"],phoneCode:"+974"},REU:{countryName:"Réunion",characterSets:[],phoneCode:"+262"},ROU:{countryName:"Romania",characterSets:["latin-ext"],phoneCode:"+40"},RUS:{countryName:"Russian Federation",characterSets:["cyrillic"],phoneCode:"+7"},RWA:{countryName:"Rwanda",characterSets:[],phoneCode:"+250"},BLM:{countryName:"Saint Barthélemy",characterSets:[],phoneCode:"+590"},SHN:{countryName:"Saint Helena, Ascension and Tristan da Cunha",characterSets:[],phoneCode:"+290"},KNA:{countryName:"Saint Kitts and Nevis",characterSets:[],phoneCode:"+1 869"},LCA:{countryName:"Saint Lucia",characterSets:[],phoneCode:"+1 758"},MAF:{countryName:"Saint Martin (French part)",characterSets:[],phoneCode:"+590"},SPM:{countryName:"Saint Pierre and Miquelon",characterSets:[],phoneCode:"+508"},VCT:{countryName:"Saint Vincent and the Grenadines",characterSets:[],phoneCode:"+1 784"},WSM:{countryName:"Samoa",characterSets:[],phoneCode:"+685"},SMR:{countryName:"San Marino",characterSets:[],phoneCode:"+378"},STP:{countryName:"Sao Tome and Principe",characterSets:[],phoneCode:"+239"},SAU:{countryName:"Saudi Arabia",characterSets:["arabic"],phoneCode:"+966"},SEN:{countryName:"Senegal",characterSets:[],phoneCode:"+221"},SRB:{countryName:"Serbia",characterSets:["cyrillic"],phoneCode:"+381"},SYC:{countryName:"Seychelles",characterSets:[],phoneCode:"+248"},SLE:{countryName:"Sierra Leone",characterSets:[],phoneCode:"+232"},SGP:{countryName:"Singapore",characterSets:[],phoneCode:"+65"},SXM:{countryName:"Sint Maarten (Dutch part)",characterSets:[],phoneCode:"+1 721"},SVK:{countryName:"Slovakia",characterSets:[],phoneCode:"+421"},SVN:{countryName:"Slovenia",characterSets:[],phoneCode:"+386"},SLB:{countryName:"Solomon Islands",characterSets:[],phoneCode:"+677"},SOM:{countryName:"Somalia",characterSets:["arabic"],phoneCode:"+252"},ZAF:{countryName:"South Africa",characterSets:[],phoneCode:"+27"},SGS:{countryName:"South Georgia and the South Sandwich Islands",characterSets:[],phoneCode:"+500"},SSD:{countryName:"South Sudan",characterSets:[],phoneCode:"+211"},ESP:{countryName:"Spain",characterSets:[],phoneCode:"+34"},LKA:{countryName:"Sri Lanka",characterSets:[],phoneCode:"+94"},SDN:{countryName:"Sudan",characterSets:["arabic"],phoneCode:"+249"},SUR:{countryName:"Suriname",characterSets:[],phoneCode:"+597"},SJM:{countryName:"Svalbard and Jan Mayen",characterSets:[],phoneCode:"+47 79"},SWZ:{countryName:"Swaziland",characterSets:[],phoneCode:"+268"},SWE:{countryName:"Sweden",characterSets:[],phoneCode:"+46"},CHE:{countryName:"Switzerland",characterSets:[],phoneCode:"+41"},SYR:{countryName:"Syrian Arab Republic",characterSets:["arabic"],phoneCode:"+963"},TWN:{countryName:"Taiwan, Province of China",characterSets:[],phoneCode:"+886"},TJK:{countryName:"Tajikistan",characterSets:[],phoneCode:"+992"},TZA:{countryName:"Tanzania, United Republic of",characterSets:[],phoneCode:"+255"},THA:{countryName:"Thailand",characterSets:[],phoneCode:"+66"},TLS:{countryName:"Timor-Leste",characterSets:[],phoneCode:""},TGO:{countryName:"Togo",characterSets:[],phoneCode:"+228"},TKL:{countryName:"Tokelau",characterSets:[],phoneCode:"+690"},TON:{countryName:"Tonga",characterSets:[],phoneCode:"+676"},TTO:{countryName:"Trinidad and Tobago",characterSets:[],phoneCode:"+1 868"},TUN:{countryName:"Tunisia",characterSets:["arabic"],phoneCode:"+216"},TUR:{countryName:"Turkey",characterSets:["latin-ext"],phoneCode:"+90"},TKM:{countryName:"Turkmenistan",characterSets:[],phoneCode:"+993"},TCA:{countryName:"Turks and Caicos Islands",characterSets:[],phoneCode:"+1 649"},TUV:{countryName:"Tuvalu",characterSets:[],phoneCode:"+688"},UGA:{countryName:"Uganda",characterSets:[],phoneCode:"+256"},UKR:{countryName:"Ukraine",characterSets:["cyrillic"],phoneCode:"+380"},ARE:{countryName:"United Arab Emirates",characterSets:["arabic"],phoneCode:"+971"},GBR:{countryName:"United Kingdom",characterSets:[],phoneCode:"+44"},USA:{countryName:"United States",characterSets:[],phoneCode:"+1"},UMI:{countryName:"United States Minor Outlying Islands",characterSets:[],phoneCode:""},URY:{countryName:"Uruguay",characterSets:[],phoneCode:"+598"},UZB:{countryName:"Uzbekistan",characterSets:[],phoneCode:"+998"},VUT:{countryName:"Vanuatu",characterSets:[],phoneCode:"+678"},VEN:{countryName:"Venezuela, Bolivarian Republic of",characterSets:[],phoneCode:"+58"},VNM:{countryName:"Viet Nam",characterSets:[],phoneCode:"+84"},VGB:{countryName:"Virgin Islands, British",characterSets:[],phoneCode:""},VIR:{countryName:"Virgin Islands, U.S.",characterSets:[],phoneCode:""},WLF:{countryName:"Wallis and Futuna",characterSets:[],phoneCode:"+681"},ESH:{countryName:"Western Sahara",characterSets:[],phoneCode:""},YEM:{countryName:"Yemen",characterSets:["arabic"],phoneCode:"+967"},ZMB:{countryName:"Zambia",characterSets:[],phoneCode:"+260"},ZWE:{countryName:"Zimbabwe",characterSets:[],phoneCode:"+263"}}}}),define("utils/util/mediaZoomCalculations",[],function(){"use strict";function g(a,b,c,d){var e=b/a.width,f=c/a.height,g=Math.min(e,f);return{width:Math.max(Math.round(a.width*g),d),height:Math.round(a.height*g)}}function h(a,b,c,d,e,f,h,i){d=d||0,i=i||{};var j=g(a,b,c,e),k=j.width+(i.horizontal||0),l=j.height+d+(i.vertical||0),m=Math.ceil(Math.max((h-k)/2,0)),n=Math.ceil(Math.max((f-l)/2,0));return{marginLeft:m,marginTop:n,paddingTop:n,dialogBoxHeight:l,dialogBoxWidth:k,imageContainerWidth:j.width,imageContainerHeight:j.height}}var a=600,b=20,c={marginTop:0,paddingTop:0,dialogBoxHeight:600,imageContainerWidth:500,imageContainerHeight:500},d={vertical:10,horizontal:20},e={vertical:15,horizontal:15},f={marginTop:0,paddingTop:0,dialogBoxHeight:400,imageContainerWidth:320,imageContainerHeight:400},i={getDesktopViewDimensions:function(e,f,g,i,j,k,l){var m,n,o,p;l=l||d,k=k||b;var q=c;return g&&(o=g.width.screen,p=g.height.screen,m=o-i-l.horizontal,n=p-j/2-k-l.vertical,f.isMobileDevice()||f.isTabletDevice()||(m=Math.min(e.width,m),n=Math.min(e.height,n)),q=h(e,m,n,k,a,p,o,l)),q},getNonOptimizedViewDimensions:function(b,d,f,h,i,j,k){if(!f)return c;k=k&&(k.vertical||k.horizontal)?k:e,j=j||0;var l=f.width.screen,m=f.height.screen,n=Math.min(b.width,l-2*k.horizontal),o=Math.min(b.height,m-2*k.vertical),p=g(b,n,o,a),q=l-2*k.horizontal,r=p.height+j,s=k.horizontal,t=Math.ceil(Math.max((m-r)/2,k.vertical));return{marginLeft:s,marginTop:t,paddingTop:t,dialogBoxHeight:r,dialogBoxWidth:q,imageContainerWidth:p.width,imageContainerHeight:p.height}},getMobileViewDimensions:function(a,b,c){var d,e,g,i,j,k=f;return c&&(g=c.width.screen,i=c.innerHeight.screen,j=b.getSiteWidth(),d=Math.min(a.width,Math.max(g,j)),e=Math.min(a.height,i),k=h(a,d,e,0,0,i,g)),k}};return i}),define("utils/util/objectDiffUtil",["lodash"],function(a){"use strict";function b(c,d){return c?d?a(d).omit(function(b,d){return a.isEqual(b,c[d])}).mapValues(function(d,e){return a.isPlainObject(d)&&a.isPlainObject(c[e])?b(c[e],d):d}).value():{}:d}function c(c,d,e){var f=b(c,d);return a.defaults(f,a.pick(c,e))}return{createDiff:b,createDiffWithRequiredFields:c}}),define("utils/util/scrollAnchorsUtils",["lodash"],function(a){"use strict";function f(b,c){var d=0,e=c.measureMap;if(e&&b){var f=b.compId,g=a.get(e,"custom.SITE_HEADER.isFixedPosition"),h=e.top[f],i=e.absoluteTop[f],j=g?h:i;d=a.isFinite(j)?j:0}return d}function g(a){if(!a.measureMap)return 1/0;var b=a.measureMap.siteMarginBottom||0,c=a.measureMap.siteMarginTop||0,d=a.measureMap.height.SITE_STRUCTURE+b+c+a.renderFlags.extraSiteHeight,e=a.measureMap.height.screen;return Math.max(d-e,0)}function h(a,b){return Math.min(a,g(b))}function i(b,c){var d;return!a.startsWith(b,"dataItem")&&c&&(d=c.getRuntimeDal().getDataQueryByName(b,c.getSiteData().getPrimaryPageId())),d||b}function j(a,b){var c=b.getSiteData(),d=k(i(a,b),c);return d.y=h(d.y,c),d}function k(a,d){var g=0;if(a===b)g=e;else if(a===c)g=document.body.scrollHeight;else if(a){var h=d.getDataByQuery(a,d.getPrimaryPageId());g=f(h,d)}return{x:0,y:g,anchorQuery:a}}function l(b,c){var d=a.find(b.structure.components,{id:c});return d&&d.layout}function m(b,c,e){var f=b.getPageData(c);if(!f)return[];var g=f.data.document_data,h=a.filter(g,{type:"Anchor"});return h.push(n(b.getPrimaryPageId(),e)),a.sortBy(h,function(a){var b=l(f,a.compId);return b?b.y:d})}function n(a,c){return{compId:"PAGE_TOP_ANCHOR",id:b,name:c||"",type:"Anchor",pageId:a}}function o(b,c){c=c||[];var d=b.getPrimaryPageId(),e=m(b,d),f=a.reject(e,function(b){return a.includes(c,b.compId)});return a.size(f)?f:[e[0]]}function p(b,c){return a(c).map(function(c){var d=k(c.id,b),e=c.id;return a.assign(d,{id:e})}).sortBy("y").value()}function q(a,b,c){return{activeAnchorComp:a,index:b,total:c}}function r(b,c){var d=a.every(b,"y",0);if(d)return null;for(var e=null,f=0;f<b.length;f++){var g=b[f];if(!(c>=g.y))break;e=g}return e?q(e,f-1,b.length):null}function s(b,c,d){if(!b.measureMap)return null;var e=o(b,d),f=p(b,e),h=r(f,c);return h&&g(b)<=c?q(a.last(f),f.length-1,f.length):h}function t(a){return a===c||a===b}var b="SCROLL_TO_TOP",c="SCROLL_TO_BOTTOM",d=-99999,e=0;return{getPageTopAnchor:n,calcAnchorScrollToPosition:j,getPageAnchors:m,getActiveAnchor:s,normalizeYOffset:h,isSpecialAnchor:t,getSortedAnchorsByY:p,SCROLL_PAGE_TOP_Y_POS:d}}),define("utils/util/domMeasurements",["zepto","lodash"],function(a,b){"use strict";function c(a,b){for(var c=a.offsetTop,d=a.offsetLeft,e=a.offsetWidth,f=a.offsetHeight;a.offsetParent&&(a=a.offsetParent,!b||a!==b);)c+=a.offsetTop,d+=a.offsetLeft;return{top:c,left:d,width:e,height:f,bottom:c+f,right:d+e}}function d(a,b,d){d=d||"undefined"!=typeof window&&window;var e=c(a,b);if(d){var f=d.pageYOffset||d.scrollTop||0,g=d.pageXOffset||d.scrollLeft||0;e.top-=f,e.bottom-=f,e.left-=g,e.right-=g}return e}function e(d,f,g,h){return h=h||c(d,f),g=g||a(d).children("div"),b.forEach(g,function(b){var d=c(b,f);d.width>0&&d.height>0&&(d.left<h.left&&(h.left=d.left),d.right>h.right&&(h.right=d.right),d.top<h.top&&(h.top=d.top),d.bottom>h.bottom&&(h.bottom=d.bottom));var g=a(b),i=g.children("div");i.length&&"hidden"!==g.css("overflow")&&e(b,f,i,h)}),h.width=h.right-h.left,h.height=h.bottom-h.top,h}function f(a,b,c){c=c||"undefined"!=typeof window&&window;var d=e(a,b);if(c){var f=c.pageYOffset||c.scrollTop||0,g=c.pageXOffset||c.scrollLeft||0;d.top-=f,d.bottom-=f,d.left-=g,d.right-=g}return d}return{getElementRect:c,getBoundingRect:d,getContentRect:e,getBoundingContentRect:f}}),define("utils/util/storage",[],function(){"use strict";function a(a){function b(){}function c(b){var c="testStorage"+Date.now();try{var d=a[b];d.setItem(c,c);var e=d.getItem(c);if(d.removeItem(c),e!==c)throw"not equal"}catch(f){return!1}return!0}return a=a||{},b.prototype={getItem:function(a){return a in this?this[a]:null},setItem:function(a,b){this[a]=b+""},removeItem:function(a){delete this[a]},clear:function(){for(var a in this)this.hasOwnProperty(a)&&delete this[a]}},{local:c("localStorage")?a.localStorage:new b,session:c("sessionStorage")?a.sessionStorage:new b}}return a}),define("utils/util/style",["lodash"],function(a){"use strict";function c(c){return a.reduce(c,function(c,d,e){return c[e]=d,e=a.capitalize(e),b.reduce(function(a,b){return a[b+e]=d,a},c)},{})}function d(a,b){return"number"==typeof a&&(b=b||"px",a+=b),a}function e(b,c){return b?a.assign(b.style,c,function(a,b){return d(b)}):void 0}var b=["Webkit","Moz","ms"];return{prefix:c,getPrefixedTransform:function(){if(!this._prefixedTransform){var b={style:{transform:""}};"undefined"!=typeof document&&(b=document.createElement("fakeelement"));var c=["transform","WebkitTransform","MSTransform"];this._prefixedTransform=a.find(c,function(a){return void 0!==b.style[a]})}return this._prefixedTransform},unitize:d,assignStyle:e}}),define("utils/util/matrixCalculations",[],function(){"use strict";var a={getItemPosition:function(a,b,c,d,e){var f=d,g=e,h=a%g,i=Math.floor((a-h)/g);return{left:h*(b+f),top:i*(c+f)}},getAvailableRowsNumber:function(a,b,c){var d=Math.floor(c/b)+(c%b>0?1:0);return Math.min(a,d)},getItemHeight:function(a,b,c,d){var e=a,f=b-d;return Math.max(Math.floor((f-(c-1)*e)/c),0)},getItemWidth:function(a,b,c,d){var e=a,f=b,g=c-d;return Math.max(Math.floor((g-(f-1)*e)/f),0)},getImageStyle:function(a,b,c,d){var e=d>b,f=c>a,g=e?"100%":"auto",h=f?"100%":"auto",i=f?0:(b-d*(a/c))/2,j=e?0:(a-c*(b/d))/2;return{width:h,height:g,"margin-top":j,"margin-left":i}}};return a}),define("utils/util/matrixScalingCalculations",[],function(){"use strict";var a={getSizeAfterScaling:function(a){var b=a.imageMode||"clipImage",c=a.itemHeight-a.bottomGap,d=a.widthDiff,e=a.heightDiff,f={clipImage:this.getClipImage,flexibleHeight:this.getFlexibleHeight,flexibleWidth:this.getFlexibleWidth,flexibleWidthFixed:this.getFlexibleWidth};return f[b].call(this,a.itemWidth,c,d,e,a.displayerData,b)},getClipImage:function(a,b,c,d){return{displayerSize:{width:a,height:b},imageWrapperSize:this.getWrapperSize(a-c,b-d)}},getFlexibleHeight:function(a,b,c,d,e){var f=a-c,g=Math.floor(f/this.getAspectRatio(e));return{displayerSize:{width:a,height:g},imageWrapperSize:this.getWrapperSize(f,g-d)}},getFlexibleWidth:function(a,b,c,d,e,f){var g="flexibleWidth"===f,h=0,i=0,j=b-d,k=j*this.getAspectRatio(e);if(!g&&k>a-c&&k>a-c){var l=(a-c)/k;k=a-c,j=l*j}return g||(h=Math.floor((a-k-c)/2),i=Math.floor((b-j-d)/2)),{displayerSize:{width:g?k:a,height:b},imageWrapperSize:this.getWrapperSize(k,j,h,i)}},getAspectRatio:function(a){return a.width/a.height},getWrapperSize:function(a,b,c,d){var e=0>b?0:b,f=0>a?0:a;return{imageWrapperHeight:e,imageWrapperWidth:f,imageWrapperMarginLeft:c||0,imageWrapperMarginRight:c||0,imageWrapperMarginTop:d||0,imageWrapperMarginBottom:d||0}}};return a}),define("utils/util/galleriesCommonLayout",["lodash","zepto","utils/util/stringUtils"],function(a,b,c){"use strict";function d(a,d){var e=b(d),f=a.imageWrapperWidth-parseInt(e.attr("data-image-wrapper-right"),10)-parseInt(e.attr("data-image-wrapper-left"),10),g=a.imageWrapperHeight-parseInt(e.attr("data-image-wrapper-bottom"),10)-parseInt(e.attr("data-image-wrapper-top"),10);return c.isTrue(e.attr("data-margin-to-container"))&&(f+=a.imageWrapperMarginLeft+a.imageWrapperMarginRight,g+=a.imageWrapperMarginTop+a.imageWrapperMarginBottom),{width:f,height:g}}function e(a,c){var d=b(a);d.css({height:c.imageWrapperSize.imageWrapperHeight,width:c.imageWrapperSize.imageWrapperWidth,marginLeft:c.imageWrapperSize.imageWrapperMarginLeft,marginRight:c.imageWrapperSize.imageWrapperMarginRight,marginTop:c.imageWrapperSize.imageWrapperMarginTop,marginBottom:c.imageWrapperSize.imageWrapperMarginBottom})}function f(a){return{width:a.width,height:a.height,displayMode:"fill",uri:a.uri}}function g(b){var c={};c={"data-should-add-min-height":!0},a.assign(b[""],c)}function h(c,d,e){var f=e[c+"itemsContainer"],g=b(f).children();d.height[c]=e[c].offsetHeight;var h=b(e[c]).attr("data-should-add-min-height");h?d.minHeight[c]=d.height[c]:delete d.minHeight[c],d.custom[c]=a.map(g,function(a){var c=b(a),d={imageIndex:c.data("image-index")};return{node:a,data:d}})}return{getContainerSize:d,updateImageWrapperSizes:e,getImageDataForLayout:f,updateSkinPropsForFlexibleHeightGallery:g,measureFlexibleHeightGallery:h}}),define("utils/util/fixBackgroundData",["lodash","imageClientApi","utils/imageService/imageTransformDataFixers"],function(a,b,c){"use strict";function d(b){var c=b.getMasterPageData(),d=c.theme_data,h=c.document_data,i=a(h).filter({type:"BackgroundImage"}).map("id").value();f(h)||(e(h)?g(d,h):a.forEach(i,function(a){l(h[a])}))}function e(b){var c=a.find(b,{type:"Page"});return!b[c.id].pageBackgrounds}function f(b){var c=a.find(b,{type:"Page"});return b[c.id].pageBackgrounds&&"BackgroundMediaUnified"===b[c.id].pageBackgrounds.type}function g(b,c){var d="none 0 0 center center auto repeat repeat scroll none",e=a(c).filter({type:"Page"}).map("id").value(),f=b.THEME_DATA.siteBg||d,g=("[siteBg]"===b.THEME_DATA.mobileBg?b.THEME_DATA.siteBg:b.THEME_DATA.mobileBg)||d,j=i(f),k=i(g);j.id="customBgImg"+h(),k.id="customBgImg"+h([j.id]),c[j.id]=j,c[k.id]=k,a.forEach(e,function(a){c[a].pageBackgrounds={desktop:{custom:!0,isPreset:!1,ref:"#"+j.id},mobile:{custom:!0,isPreset:!1,ref:"#"+k.id}}})}function h(b){var c="";for(b=b||[];a.includes(b,c);)c=a.random(0,99999).toString(36).replace(" ","_");return c}function i(b){var c=a.compact(b.split(" "));return k.apply(this,c)}function j(a){var c={};return c[b.fittingTypes.TILE]=b.fittingTypes.LEGACY_BG_FIT_AND_TILE,c[b.fittingTypes.TILE_HORIZONTAL]=b.fittingTypes.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,c[b.fittingTypes.TILE_VERTICAL]=b.fittingTypes.LEGACY_BG_FIT_AND_TILE_VERTICAL,c[b.fittingTypes.ORIGINAL_SIZE]=b.fittingTypes.LEGACY_BG_NORMAL,c[a]||a}function k(a,b,d,e,f,g,h,i,k,l,m,n){var o=c.cssToAlignType(e+" "+f),p=c.cssToFittingType({bgRepeat:h+" "+i,
bgSize:g});return p=j(p),m=m||{},l&&"none"!==l||(l="rgba(0,0,0,0)"),{type:"BackgroundMediaUnified",alignType:o,fittingType:p,attachment:k,imageWidth:Number(b),imageHeight:Number(d),mediaType:"image",uri:a,color:l,metaData:{isHidden:m.isHidden||!1,isPreset:m.isPreset||!1,schemaVersion:2},id:n}}function l(a){var b=[a.url,a.imagesizew,a.imagesizeh,a.positionx,a.positiony,a.width,a.repeatx,a.repeaty,a.attachment,a.color,a.metaData,a.id];return k.apply(this,b)}return{fixBackgroundData:d,migrateBgDataItem:l,migrateBgString:i}}),define("utils/util/boundingLayout",["lodash"],function(a){"use strict";function b(a){return Math.round(2*a)/2}function c(a){return a*Math.PI/180}function d(a,c){var d=Math.abs(a.width*Math.cos(c))+Math.abs(a.height*Math.sin(c));return b(d)}function e(a){if(0===a.rotationInDegrees)return a.width;var b=c(a.rotationInDegrees);return d(a,b)}function f(a,c){var d=Math.abs(a.width*Math.sin(c))+Math.abs(a.height*Math.cos(c));return b(d)}function g(a){if(0===a.rotationInDegrees)return a.height;var b=c(a.rotationInDegrees);return f(a,b)}function h(a){if(0===a.rotationInDegrees)return a.x;var b=e(a);return j(a,b)}function i(a){if(0===a.rotationInDegrees)return a.y;var b=g(a);return k(a,b)}function j(a,c){return b(a.x-(c-a.width)/2)}function k(a,c){return b(a.y-(c-a.height)/2)}function l(b,e){if(0===e)return a.pick(b,["x","y","width","height"]);var g=c(e),h=d(b,g),i=f(b,g);return{x:j(b,h),y:k(b,i),width:h,height:i}}function m(a){return l(a,a.rotationInDegrees||0)}function n(a,b){var c=l(a,-b);return c.rotationInDegrees=b,c}return{getBoundingY:i,getBoundingX:h,getBoundingHeight:g,getBoundingWidth:e,getBoundingLayout:m,getLayoutFromBoundingLayout:n}}),define("utils/util/colorParser",["lodash","color","utils/util/cssUtils"],function(a,b,c){"use strict";function d(d,e,f){var g,h;return/color_/.test(e)&&(e=e.replace(/[\[\]{}]/g,""),e=d.getColor(e),e=c.normalizeColorStr(e)),"none"===e?g="transparent":(h=new b(e),a.isNumber(f)&&h.setValues("alpha",f),g=0===h.alpha()?"transparent":h.rgbaString()),g}function e(a,b){var c=b.split("_")[1];return a.color[c]||b}return{getColor:d,getColorValue:e}}),define("utils/util/reactComponentUtils",[],function(){"use strict";function a(a,b,c){for(var d=[a],e=c;e<b.length;e++)d.push(b[e]);return d}var b={getRef:function(c,d){if(c.refs){var e=c.refs[d];return e&&arguments.length>2?b.getRef.apply(b,a(e,arguments,2)):e}}};return b}),define("utils/mixins/timersMixins",["lodash"],function(a){"use strict";var b={componentWillMount:function(){this.intervals={}},componentWillUnmount:function(){a.forEach(this.intervals,function(a,b){this.clearIntervalNamed(b)},this)},setIntervalNamed:function(a,b,c){this.intervals.hasOwnProperty(a)&&this.clearIntervalNamed(a),this.intervals[a]=setInterval(function(){delete this.intervals[a],b()}.bind(this),c)},setInterval:function(a,b){this.setIntervalNamed("default",a,b)},clearIntervalNamed:function(a){clearInterval(this.intervals[a]),delete this.intervals[a]},clearInterval:function(){this.clearIntervalNamed("default")}},c={componentWillMount:function(){this.timeouts={}},componentWillUnmount:function(){a.forEach(this.timeouts,function(a,b){this.clearTimeoutNamed(b)},this)},setTimeoutNamed:function(a,b,c){this.timeouts.hasOwnProperty(a)&&this.clearTimeoutNamed(a),this.timeouts[a]=setTimeout(function(){delete this.timeouts[a],b()}.bind(this),c)},setTimeout:function(a,b){this.setTimeoutNamed("default",a,b)},clearTimeoutNamed:function(a){this.timeouts[a]&&(clearTimeout(this.timeouts[a]),delete this.timeouts[a])},clearTimeout:function(){this.clearTimeoutNamed("default")}};return{timeoutsMixin:c,intervalsMixin:b}}),define("utils/mixins/postMessageCompMixin",["lodash"],function(a){"use strict";return{componentWillMount:function(){this.handlers={}},componentWillUnmount:function(){a.forEach(this.handlers,function(a,b){this.clearPostMessageHandlerNamed(b)},this)},setPostMessageHandler:function(a,b){this.setPostMessageHandlerNamed("default",a,b)},setPostMessageHandlerNamed:function(a,b,c){this.handlers.hasOwnProperty(a)&&this.clearPostMessageHandlerNamed(a);var d=function(a){var d;try{d=JSON.parse(a.data)}catch(e){return}(d.id===b||null===b&&void 0===d.id)&&c(d)};window.addEventListener("message",d,!1),this.handlers[a]=d},clearPostMessageHandlerNamed:function(a){this.handlers[a]&&(window.removeEventListener("message",this.handlers[a],!1),delete this.handlers[a])}}}),define("utils/util/dockUtils",["lodash","utils/util/cssUtils"],function(a,b){"use strict";function c(b){return a.mapValues(b,function(a){return 2*a})}function d(b,c){a.isNumber(b.px)?b.px+=c:b.px=c}function e(b){var c=b&&b.docked,d=c&&c.left&&a.isFinite(c.left.vw),e=c&&c.right&&a.isFinite(c.right.vw);return Boolean(d&&e)}function f(b){var c=b&&b.docked,d=c&&c.top&&a.isFinite(c.top.vw),e=c&&c.bottom&&a.isFinite(c.bottom.vw);return Boolean(d&&e)}function g(a,c,d){var e={vw:100-a.vw-c.vw},f=0-(a.px||0)-(c.px||0);return 0!==f&&(e.px=f),b.convertUnitsDataToCssStringValue(e,d)}function h(c,d,e,f){var h=a.clone(c.left);h.px=(h.px||0)+f,d.left=b.convertUnitsDataToCssStringValue(h,e),d.width=g(c.left,c.right,e)}function i(a,d,f,g){return a.docked.hCenter?(d.left=b.convertUnitsDataToCssStringValue(c(a.docked.hCenter),f),d.right=0,void(d.margin="auto")):e(a)?void h(a.docked,d,f,g):(a.docked.left&&(d.left=b.convertUnitsDataToCssStringValue(a.docked.left,f)),void(a.docked.right&&(d.right=b.convertUnitsDataToCssStringValue(a.docked.right,f))))}function j(e,f,g,h){if(e.docked.vCenter)return f.top=b.convertUnitsDataToCssStringValue(c(e.docked.vCenter),h),f.bottom=0,void(f.margin="auto");if(m(e)&&delete f.height,e.docked.top&&(f.top=b.convertUnitsDataToCssStringValue(e.docked.top,h)),e.docked.bottom){var i=a.clone(e.docked.bottom);e.fixedPosition&&d(i,g),f.bottom=b.convertUnitsDataToCssStringValue(i,h)}}function k(a,b,c,d,e,f){return d=Math.max(d,e),i(a,b,d,f),j(a,b,c,d),b}function l(a){var b=a&&a.docked;return!!(b&&b.left&&b.right)}function m(a){var b=a&&a.docked;return!!(b&&b.top&&b.bottom)}function n(a){return l(a)||m(a)}return{isHorizontalDockToScreen:e,isVerticallyDockToScreen:f,isHorizontallyStretched:l,isVerticallyStretched:m,isStretched:n,getDockedStyle:function(a,b,c,d,e){if(!a.docked)throw new Error("Layout must have docked structure");return k(a,{},b,c,d,e)},applyDockedStyle:function(a,b,c,d,e,f){if(!a.docked)throw new Error("Layout must have docked structure");return k(a,b,c,d,e,f)}}}),define("utils/util/layoutUtils",["lodash","utils/util/dockUtils","utils/siteUtils/siteConstants","utils/util/style","utils/util/boundingLayout"],function(a,b,c,d,e){"use strict";function f(a){return a&&a.docked&&(a.docked.vCenter||a.docked.bottom||a.docked.top)}function g(a){return a&&a.docked&&(a.docked.hCenter||a.docked.left||a.docked.right)}function h(a,b){return parseFloat((b/a).toFixed(5))}function i(b){return!a.isUndefined(b.aspectRatio)}function j(a){return a&&a.docked&&a.docked.bottom&&a.docked.top}function k(a){return a&&a.docked&&a.docked.left&&a.docked.right}function l(a,c,d,e){return a.fixedPosition?d.width:b.isHorizontalDockToScreen(a)?Math.max(d.width,e):c.width}function m(a,c,d){return a.fixedPosition||b.isVerticallyDockToScreen(a)?d.height:c.height}function n(a,b,c){var d=a&&a.pct&&a.pct/100*b||0,e=a&&a.px||0,f=a&&a.vw&&a.vw/100*c||0;return d+e+f}function o(a,b,c){var d=a.pct&&a.pct/100*b||0,e=a.px||0,f=a.vh&&a.vh/100*c||0;return d+e+f}function p(a,b,c,d){if(k(a)){var e=l(a,b,c,d),f=a.docked,g=n(f.left,e,c.width),h=n(f.right,e,c.width);return e-(g+h)}return a.width}function q(a,b,c,d){if(i(a))return d=d||p(a,b,c),d*a.aspectRatio;if(j(a)){var e=m(a,b,c),f=a.docked,g=o(f.top,e,c.height),h=o(f.bottom,e,c.height);return e-(g+h)}return a.height}function r(a,b){return Math.max((a-b)/2,0)}function s(c,d,e,f,g,h){var i=c.docked;if(i){var j=l(c,d,e,g);if(i.left){var k=n(i.left,j,e.width);if(b.isHorizontalDockToScreen(c)){var m=a.isUndefined(h)?r(e.width,g):h;k-=m}return k}if(f=f||p(c,d,e),i.right){var o=n(i.right,j,e.width);return j-(f+o)}if(i.hCenter){var q=n(i.hCenter,j,e.width);return(j-f)/2+q}}return c.x}function t(a,b,c,d){var e=a.docked;if(e){var f=m(a,b,c);if(e.top)return o(e.top,f,c.height);if(d=d||q(a,b,c),e.bottom){var g=o(e.bottom,f,c.height);return f-(d+g)}if(e.vCenter){var h=o(e.vCenter,f,c.height);return(f-d)/2+h}}return a.y}function u(b,c,d,e,f){if(!b.docked&&!b.aspectRatio)return a.pick(b,["x","y","width","height"]);var g=p(b,c,d,e),h=q(b,c,d,g);return{width:g,height:h,x:s(b,c,d,g,e,f),y:t(b,c,d,h)}}function v(a,b,c){return a&&Math.max(b,Math.min(c,a))}function w(){return{top:"",bottom:"",left:"",right:"",width:"",height:"",position:""}}function x(a,e,h,i,l){var m=w();if(m.position=a&&a.position||"absolute",a){if(g(a)||(m.left=a.x),f(a)||(m.top=a.y),j(a)||(m.height=v(a.height,c.COMP_SIZE.MIN_HEIGHT,c.COMP_SIZE.MAX_HEIGHT)),k(a)||(m.width=v(a.width,c.COMP_SIZE.MIN_WIDTH,c.COMP_SIZE.MAX_WIDTH)),a.fixedPosition&&(m.position="fixed"),a.rotationInDegrees){var n=d.getPrefixedTransform();m[n]="rotate("+a.rotationInDegrees+"deg) translateZ(0)"}a.docked&&b.applyDockedStyle(a,m,e,h,i,l)}return m}function y(b,c,d){return a.map(d,function(a){var d=c[a.id];if(!d)return 0;var f=e.getBoundingLayout({x:d.offsetLeft,y:d.offsetTop,width:b.width[a.id]||d.offsetWidth,height:b.height[a.id]||d.offsetHeight,rotationInDegrees:a.layout.rotationInDegrees});return f.y+f.height})}function z(b,c,d,e){if(e&&0===e.length)return 0;var f=a.reject(e,{layout:{fixedPosition:!0}}),g=y(b,c,f);return a.max(g)}function A(a,b,c,d){return z(a,b,c,c.isMobileView()?d.structure.mobileComponents:d.structure.components)}function B(a,b,c,d){return z(a,b,c,d.structure.components)}function C(b,c){return a.isNumber(b)?b:c}function D(a,b,c){return C(a.width["LAYER_"+b],c)}function E(a,b,c){return C(a.width["ROOT_"+b],c)}function F(a,b,c){return C(a.left["ROOT_"+b],-c)}function G(a,b){var c=a-b;return{left:Math.floor(Math.min(0,.5*c)),width:Math.floor(Math.max(a,b))}}return{isVerticallyDocked:f,isVerticallyStretched:j,isHorizontallyDocked:g,isHorizontallyStretched:k,calcAspectRatio:h,stretchInCenteredContainer:G,isAspectRatioOn:i,getPositionAndSize:u,getStyle:x,getPageBottomChildEnd:A,getContainerBottomChildEnd:B,getLayerWidth:D,getRootLeft:F,getRootWidth:E}}),define("utils/util/viewportUtils",["lodash","experiment"],function(a,b){"use strict";function d(a,b){return a.getCurrentPopupId()===b||"wysiwyg.viewer.components.PopupContainer"===a.getRuntimeDal().getCompType(b)}function e(e,f){return a.includes(c,f)||b.isOpen("sv_popups")&&d(e,f)}function f(b,c,d,e){var f=b.getSiteData(),g=a.get(f,"measureMap.height.screen"),h=a.get(f,"measureMap.absoluteTop",{}),i=a.get(f,"measureMap.height",{});if(e=e||0,a.isUndefined(h[d])||a.isUndefined(i[d]))return!1;var j=Math.max(h[d]+i[d]*e,0),k=Math.max(h[d]+i[d]*(1-e),0),l=c.y<=j&&j<c.y+g,m=c.y<k&&k<=c.y+g,n=j<=c.y&&k>c.y+g;return l||m||n}var c=["siteBackground"];return{isInViewport:f,isAlwaysInViewport:e}}),define("utils/util/containerBackgroundUtils",["lodash","experiment"],function(a,b){"use strict";function g(a){return!(a.isTouchDevice()||a.isMobileView()||a.isMobileDevice())}function h(){return!1}function i(a,b){return g(b)||h()&&a?a:""}function j(a,b){return f[a]&&b.renderFlags.renderFixedPositionBackgrounds!==!1?f[a].position:f.None.position}function k(a,b){return f[a]&&b.renderFlags.renderFixedPositionBackgrounds!==!1?f[a].isFullScreen:f.None.isFullScreen}function l(a,b,c){return f[a]&&f[a].getHeight(b,c)||f.None.getHeight(b,c)}function m(a){var c;return c=b.isOpen("designData")?a.compDesign.background||{}:a.compData.background||{}}function n(b,c){b=a.isString(b)?JSON.parse(b):b||[];var d=a(b).where({action:"bgScrub"}).pluck("name").sortBy().value(),e=o(d);return i(e,c)}function o(b){return a.findKey(e,function(c){return a.isEqual(a.sortBy(c),b)})}var c={position:"absolute",isFullScreen:!1,getHeight:function(a,b){return b}},d={position:"fixed",isFullScreen:!0,getHeight:function(a,b){return Math.max(a.height.screen,b)}},e={BackgroundParallax:["BackgroundParallax"],BackgroundReveal:["BackgroundReveal"],BackgroundParallaxZoom:["BackgroundParallax","BackgroundZoom"],BackgroundFadeIn:["BackgroundFadeIn"],BackgroundBlurIn:["BackgroundBlurIn"]},f={None:c,BackgroundFadeIn:c,BackgroundBlurIn:c,BackgroundReveal:d,BackgroundParallax:d,BackgroundParallaxZoom:d};return{isDesktop:g,getPositionByEffect:j,getHeightByEffect:l,isFullScreenByEffect:k,getBgData:m,getBgEffectName:n}}),define("utils/svgFilters/svgFiltersTemplates",["lodash"],function(a){"use strict";function b(a){return.393+.607*(1-a)+" "+(.769-.769*(1-a))+" "+(.189-.189*(1-a))+" 0 0 "+(.349-.349*(1-a))+" "+(.686+.314*(1-a))+" "+(.168-.168*(1-a))+" 0 0 "+(.272-.272*(1-a))+" "+(.534-.534*(1-a))+" "+(.131+.869*(1-a))+" 0 0 0 0 0 1 0"}function c(a){return'<feFuncR type="linear" slope="'+a+'" intercept="'+Math.round(100*(-.5*a+.5))/100+'"/><feFuncG type="linear" slope="'+a+'" intercept="'+Math.round(100*(-.5*a+.5))/100+'"/><feFuncB type="linear" slope="'+a+'" intercept="'+Math.round(100*(-.5*a+.5))/100+'"/>'}function d(a){return'<feFuncR type="linear" slope="'+a+'" /><feFuncG type="linear" slope="'+a+'" /><feFuncB type="linear" slope="'+a+'" />'}function e(a,b,c){return 1-a+" 0 0 0 "+a+" "+(1-b)+" 0 0 0 "+b+" "+(1-c)+" 0 0 0 "+c+" 0 0 0 1 0"}function f(a,b,c){return"0 0 0 0 "+a/255+" 0 0 0 0 "+b/255+" 0 0 0 0 "+c/255+" 0 0 0 1 0"}function g(a,b,c,d,e,f){return a+" 0 0 0 "+d+" "+b+" 0 0 0 "+e+" "+c+" 0 0 0 "+f+" 0 0 0 1 0"}function h(a){return'<feFuncA type="linear" slope="'+a+'" />'}return{masterTemplate:a.template('<filter id="${id}" color-interpolation="sRGB" color-interpolation-filters="sRGB">             <feComponentTransfer result="srcRGB"/>${content}<feComponentTransfer/></filter>'),templates:[{name:"normal",template:a.template('<feColorMatrix in="SourceGraphic" />')},{name:"ink",defaults:{contrast:c(1.5),brightness:d(1.1),sepia:b(.3),saturate:0},template:a.template('<feColorMatrix type="matrix" values="${sepia}"/><feComponentTransfer>${contrast}</feComponentTransfer><feComponentTransfer>${brightness}</feComponentTransfer><feColorMatrix type="saturate" values=${saturate} />')},{name:"kennedy",defaults:{saturate:0,contrast:c(1.1),brightness:d(.9)},template:a.template('<feColorMatrix type="saturate" values=${saturate} />                 <feComponentTransfer >${contrast}</feComponentTransfer>                 <feComponentTransfer >${brightness}</feComponentTransfer>')},{name:"feathered",defaults:{contrast:c(.85),brightness:d(.9),tint:e(.09,.07,.07),saturate:.2},template:a.template('<feColorMatrix type="saturate" values=${saturate} /><feComponentTransfer>${contrast}</feComponentTransfer><feComponentTransfer>${brightness}</feComponentTransfer><feColorMatrix type="matrix" values="${tint}"/>')},{name:"blur",defaults:{blur:2},template:a.template('<feGaussianBlur in="SourceGraphic" stdDeviation=${blur} />')},{name:"whistler",defaults:{blur:1.8,alpha1:h(.6),alpha2:h(.4),color:f(255,255,255),contrast:c(.9),brightness:d(1.1),saturate:.6},template:a.template('<feColorMatrix in="SourceGraphic" type="matrix" values="${color}" result="color" />                 <feComponentTransfer  in="color" result="flood_alpha">${alpha2}</feComponentTransfer>                 <feGaussianBlur in="srcRGB" stdDeviation=${blur} />                 <feComponentTransfer  result="blur_alpha">${alpha1}</feComponentTransfer>                 <feBlend  in="blur_alpha" in2="srcRGB" mode="normal" result="source_blur" />                 <feBlend  in2="source_blur" in="flood_alpha" mode="overlay" />                 <feComponentTransfer >${brightness}</feComponentTransfer>                 <feComponentTransfer  result="contrast">${contrast}</feComponentTransfer>                 <feColorMatrix  type="saturate" values=${saturate} />')},{name:"3d",defaults:{color1:f(0,255,255),color2:f(255,0,0),offset_x:"3",offset_y:"0"},template:a.template('<feColorMatrix in="srcRGB" type="matrix" values="${color1}" result="color1" />                 <feBlend  in="color1" in2="srcRGB" mode="lighten" result="image_color1"/>                 <feOffset dx=${-offset_x} dy=${offset_y} in="image_color1" result="image_color1_offset"/>                 <feColorMatrix in="srcRGB" type="matrix" values="${color2}" result="color2" />                 <feBlend  in="color2" in2="srcRGB" mode="lighten" result="image_color2"/>                 <feOffset dx=${offset_x} dy=${offset_y} in="image_color2" result="image_color2_offset"/>                 <feBlend  in2="image_color2_offset" in="image_color1_offset" mode="darken" />')},{name:"vignette",defaults:{color:f(0,0,0)},template:a.template('<feComponentTransfer in=SourceGraphic result="new-source-alpha">                 <feFuncA type="table" tableValues="1 0" />                 </feComponentTransfer>                 <feGaussianBlur in="new-source-alpha" result="blur1" stdDeviation="35"/>                 <feGaussianBlur in="new-source-alpha" result="blur2" stdDeviation="25"/>                 <feGaussianBlur in="new-source-alpha" result="blur3" stdDeviation="15"/>                 <feMerge result="blur">                 <feMergeNode in="blur1" mode="normal"/>                 <feMergeNode in="blur2" mode="normal"/>                 <feMergeNode in="blur3" mode="normal"/>                 </feMerge>                 <feColorMatrix in="SourceGraphic" type="matrix" values="${color}" result="color" />                 <feComposite in="SourceGraphic" in2="blur" operator="in" result="radial"/>                 <feComposite in2="SourceGraphic" in="radial" operator="over" />')},{name:"lensflare",defaults:{color:f(180,0,0)},template:a.template('<feComponentTransfer in=SourceGraphic result="new-source-alpha">                 <feFuncA type="table" tableValues="1 0" />                 </feComponentTransfer>                 <feGaussianBlur in="new-source-alpha" result="blur1" stdDeviation="35"/>                 <feMerge result="blur">                 <feMergeNode in="blur1" mode="normal"/>                 </feMerge>                 <feComposite in="SourceGraphic" in2="blur" operator="in" result="radial"/>                 <feColorMatrix in="SourceGraphic" type="matrix" values="${color}" result="color" />                 <feComposite in2="radial" in="color" operator="in" result="radial_color"/>                 <feBlend  in="SourceGraphic" in2="radial_color" mode="difference" />')},{name:"vintage",defaults:{color:f(0,0,0),saturate:.7,contrast:c(1.1)},template:a.template('<feComponentTransfer in=SourceGraphic result="new-source-alpha">                 <feFuncA type="table" tableValues="1 0" />                 </feComponentTransfer>                 <feGaussianBlur in="new-source-alpha" result="blur1" stdDeviation="35"/>                 <feMerge result="blur">                 <feMergeNode in="blur1" mode="normal"/>                 </feMerge>                 <feComposite in="SourceGraphic" in2="blur" operator="in" result="radial"/>                 <feComposite in2="SourceGraphic" in="radial" operator="over" />                 <feColorMatrix type="saturate" values=${saturate} />                 <feComponentTransfer>${contrast}</feComponentTransfer>')},{name:"sunkissed",template:a.template('<feColorMatrix in = "SourceGraphic" type = "luminanceToAlpha" result= "highlights"/>                 <feGaussianBlur in="highlights" stdDeviation="4" result="blur"/>                 <feSpecularLighting in="blur" surfaceScale="15" specularConstant=".8" specularExponent="5" lighting-color="red" result="lightmap">                 <feDistantLight azimuth="45" elevation="10"/>                 </feSpecularLighting>                 <feComponentTransfer in="lightmap" result="highlights">                 <feFuncA type="table" tableValues="0 0 .5 1 1"/>                 </feComponentTransfer>                 <feComposite in="SourceGraphic" in2="highlights" operator="arithmetic" k1="0" k2="1" k3="1" k4="0" result="litPaint"/>')},{name:"blueray",defaults:{color:f(27,0,255),saturate:0},template:a.template('<feColorMatrix type="saturate" values=${saturate} result="grayscale"/>                 <feColorMatrix in="SourceGraphic" type="matrix" values="${color}" result="color1" />                 <feBlend  in="color1" in2="grayscale" mode="multiply" />')},{name:"lighten",defaults:{brightness:d(1),color:f(255,255,255),alpha:h(.46)},template:a.template('<feColorMatrix in="srcRGB" type="matrix" values="${color}" result="color" />                 <feComponentTransfer in="color" result="color_alpha" >${alpha}</feComponentTransfer>                 <feComposite in2="srcRGB" in="color_alpha" operator="over"/>')},{name:"darken",defaults:{brightness:d(.4)},template:a.template('<feComponentTransfer result="brightness">${brightness}</feComponentTransfer>                 <feBlend  in="brightness" in2="SourceGraphic" mode="darken" />')},{name:"pinkrinse",defaults:{saturate:0,color:f(154,26,119)},template:a.template('<feColorMatrix type="saturate" values=${saturate} result="grayscale"/>                 <feColorMatrix in="SourceGraphic" type="matrix" values="${color}" result="color" />                 <feBlend  in="grayscale" in2="color" mode="multiply" />')},{name:"redrum",defaults:{saturate:0,contrast:c(.75),brightness:d(1.2),color:f(242,101,82)},template:a.template('<feComponentTransfer>${contrast}</feComponentTransfer>                 <feComponentTransfer>${brightness}</feComponentTransfer>                 <feColorMatrix type="saturate" values=${saturate} result="grayscale"/>                 <feColorMatrix in="SourceGraphic" type="matrix" values="${color}" result="color" />                 <feBlend  in="grayscale" in2="color" mode="multiply" />')},{name:"greenwash",defaults:{saturate:0,color1:f(28,151,132)},template:a.template('<feColorMatrix type="saturate" values=${saturate} result="grayscale"/>                 <feColorMatrix in="SourceGraphic" type="matrix" values="${color1}" result="color1" />                 <feBlend  in="grayscale" in2="color1" mode="multiply" />')},{name:"yellowstreak",defaults:{saturate:0,color1:f(255,210,0),contrast:c(2),brightness:d(1.1)},template:a.template('<feComponentTransfer>${contrast}</feComponentTransfer>                 <feComponentTransfer>${brightness}</feComponentTransfer>                 <feColorMatrix type="saturate" values=${saturate} result="grayscale"/>                 <feColorMatrix in="SourceGraphic" type="matrix" values="${color1}" result="color1" />                 <feBlend  in="grayscale" in2="color1" mode="multiply" />')},{name:"neonsky",defaults:{saturate:0,doutone:g(.9,.95,-.2,.5,-.1,.2),contrast:c(.8)},template:a.template('<feComponentTransfer>${contrast}</feComponentTransfer>                 <feColorMatrix type="saturate" values=${saturate} result="grayscale"/>                 <feColorMatrix type="matrix" values="${doutone}" />')},{name:"seaweed",defaults:{saturate:0,doutone:g(-.1,.95,-.45,.05,-.1,.95)},template:a.template('<feColorMatrix type="saturate" values=${saturate} result="grayscale"/>                 <feColorMatrix type="matrix" values="${doutone}" />')},{name:"soledad",defaults:{brightness:d(1.1),contrast:c(.9),saturate:.8,color1:f(252,232,211),color2:f(252,159,26),alpha1:h(.15),alpha2:h(.23)},template:a.template('<feComponentTransfer  result="brightness">${brightness}</feComponentTransfer>                 <feComponentTransfer  in="brightness" result="contrast">${contrast}</feComponentTransfer>                 <feColorMatrix  type="saturate" in="contrast" values=${saturate} result="saturate"/>                 <feColorMatrix in="SourceGraphic" type="matrix" values="${color1}" result="color1" />                 <feComponentTransfer  in="color1" result="color_alpha" >${alpha1}</feComponentTransfer>                 <feBlend  in="color_alpha" in2="saturate" mode="multiply" result="source" />                 <feColorMatrix in="SourceGraphic" type="matrix" values="${color2}" result="color2" />                 <feComponentTransfer  in="color2" result="color_alpha2" >${alpha2}</feComponentTransfer>                 <feBlend  in="color_alpha2" in2="source" mode="multiply" />')},{name:"sangria",defaults:{brightness:d(.95),contrast:c(1.35),saturate:.5,color1:f(199,18,226),alpha:h(.08)},template:a.template('<feComponentTransfer>${brightness}</feComponentTransfer>                 <feComponentTransfer>${contrast}</feComponentTransfer>                 <feColorMatrix type="saturate" values=${saturate} result="saturate"/>                 <feColorMatrix in="SourceGraphic" type="matrix" values="${color1}" result="color1" />                 <feComponentTransfer in="color1" result="color_alpha" >${alpha}</feComponentTransfer>                 <feBlend  in="color_alpha" in2="saturate" mode="multiply" result="source" />')}]}}),define("utils/svgFilters/svgFiltersGetters",["lodash"],function(a){"use strict";function b(b,c){var d=a.find(b.templates,{name:c});return d||{}}function c(c,d,e,f){var g=b(c,e),h={id:d,content:g.template(a.assign({},g.defaults,f||{}))};return c.masterTemplate(h)}function d(b,c){return!a.isEmpty(a.find(b.templates,{name:c}))}function e(b){return a.map(b.templates,"name")}function f(c,d){return a.clone(b(c,d).defaults||{})}return{getFilter:c,getFilterNames:e,getFilterDefaults:f,isFilterExists:d}}),define("utils/svgFilters/svgFilters",["utils/svgFilters/svgFiltersTemplates","utils/svgFilters/svgFiltersGetters"],function(a,b){"use strict";return{getFilter:b.getFilter.bind(null,a),getFilterNames:b.getFilterNames.bind(null,a),getFilterDefaults:b.getFilterDefaults.bind(null,a),isFilterExists:b.isFilterExists.bind(null,a)}}),define("utils/util/math",["lodash"],function(a){"use strict";function b(a,b,c,d,e){return(a-b)*((e-d)/(c-b))+d}function c(a){return"number"!=typeof a?NaN:(a%360+360)%360}function d(c){var d=a.unzip(c),e=d[0],f=d[1];return function(a){for(var c=0;c<e.length-2&&a>e[c+1];)c++;var d=b(a,e[c],e[c+1],f[c],f[c+1]);return d}}return{parseDegrees:c,interpolateSegmentsFunction:d}}),define("utils/socialAPI/providers/facebook",["zepto"],function(a){"use strict";function c(a){return{likesAndShares:a.total_count||0,comments:a.commentsbox_count||0}}var b="http://api.facebook.com/restserver.php?format=json&method=links.getStats&urls=";return function(d,e){a.ajax({url:b+encodeURIComponent(d),dataType:"json",success:function(a,b){if("success"===b&&a[0]){var d=c(a[0]);e(d.likesAndShares,d.comments)}else e(0,0)},error:function(){e(0,0)}})}}),define("utils/socialAPI/providers/vk",[],function(){"use strict";function b(a){window.VK=window._tempVK,delete window._tempVK,document.head.removeChild(a)}var a="http://vk.com/share.php?act=count&url=";return function(c,d){var e=document.createElement("script"),f=0;window._tempVK=window.VK,window.VK={Share:{count:function(a,b){f=b}}},e.setAttribute("type","text/javascript"),e.setAttribute("src",a+encodeURIComponent(c)),e.addEventListener("load",function(){d(f),b(e)}),e.addEventListener("error",function(){d(f),b(e)}),document.head.appendChild(e)}}),define("utils/socialAPI/providers/pinterest",["zepto"],function(a){"use strict";var b="http://widgets.pinterest.com/v1/urls/count.json?url=";return function(c,d){var e=0;window._tempReceiveCount=window.receiveCount,window.receiveCount=function(a){e=a.count},a.ajax({url:b+encodeURIComponent(c),dataType:"script",complete:function(){d(e),window.receiveCount=window._tempReceiveCount,delete window._tempReceiveCount}})}}),define("utils/socialAPI/socialAPI",["utils/socialAPI/providers/facebook","utils/socialAPI/providers/vk","utils/socialAPI/providers/pinterest"],function(a,b,c){"use strict";return{facebook:a,pinterest:c,vk:b}}),define("utils/util/functionUtils",["lodash"],function(a){"use strict";function b(b){return function(){var c=arguments,d=this;a.forEach(b,function(a){a.apply(d,c)})}}return{runMultiple:b}}),define("utils/siteUtils/modesUtils",["lodash","utils/siteUtils/siteConstants"],function(a,b){"use strict";return{getActiveComponentModeIds:function(c,d){var e=a.pluck(d,"modeId"),f=a.pick(c,e),g=f,h=a.find(d,{type:b.COMP_MODES_TYPES.DEFAULT});return a.isEmpty(f)&&h&&(g[h.modeId]=!0),g}}}),define("utils/siteUtils/fullToDisplayedJson",["lodash","utils/util/objectUtils","utils/util/dataUtils","utils/siteUtils/modesUtils","experiment"],function(a,b,c,d,e){"use strict";function f(b,c){var d=!0;if(b){var e=!b.isNotDisplayed,f=c&&!a.isUndefined(c.isNotDisplayed);d=f?!c.isNotDisplayed:e}return d}function g(b,c){return b=b||{},a.omit(b[c],function(a){return!a})}function h(b,c){return!a.isEmpty(c)&&a.every(b.modeIds,function(a){return c[a]})}function i(b,c){var d=e.isOpen("partialProperties"),f=a.transform(b,function(b,e){h(e,c)&&(d?a.assign(b,a.omit(e,"propertyQuery")):a.assign(b,e))},{});return delete f.modeIds,f}function j(a,b){var c=b&&a.mobileComponents?"mobileComponents":"children";return a[c]?c:"components"}function k(c,d,e){var g=j(d,e),h=d.modes,l=a.get(d,["modes","overrides"]),m=i(l||[],c,d);if(f(h,m)){var n=b.cloneDeep(a.omit(d,["modes",g]));return h&&(h.overrides&&(m=a.omit(m,"isNotDisplayed"),a.assign(n,m)),h.definitions&&a.set(n,["modes","definitions"],h.definitions)),a.isUndefined(d[g])||(n[g]=a(d[g]).map(function(a){return k(c,a,e)}).compact().value()),n}}function l(c,d,f){var g=b.cloneDeep(f),h=e.isOpen("partialProperties"),i=e.isOpen("partialDesigns");if(!a.isEmpty(d)&&c&&f)for(var j=[c];!a.isEmpty(j);){var k=j.pop(),l=k.modes||{},q=g.component_properties[k.propertyQuery],r=g.design_data[n(k.designQuery)];if(p(l.overrides,q,r,f,d),h&&k.propertyQuery&&(g.component_properties[k.propertyQuery]=q,m(g,f,"component_properties",k.propertyQuery)),i&&k.designQuery){var s=n(k.designQuery);g.design_data[s]=r,m(g,f,"design_data",s)}j=j.concat(o(k))}return g}function m(b,c,d,e){var f=c[d][e];a.forEach(f,function(e){if(a.isString(e)&&"#"===e[0]){var f=n(e),g=c[d][f];g&&(b[d][f]=g,m(b,c,d,f))}})}function n(a){return a?a.replace("#",""):""}function o(a){var b=[];return a.structure?b=b.concat(a.structure):a.children?b=b.concat(a.children):a.components&&(b=b.concat(a.components)),b}function p(b,c,d,f,g){if(b&&b.length>0)for(var i=e.isOpen("partialProperties"),j=e.isOpen("partialDesigns"),k=0;k<b.length;k++){var l=b[k];i&&l.propertyQuery&&h(l,g)&&(c=a.merge(c,f.component_properties[l.propertyQuery])),j&&l.designQuery&&h(l,g)&&(d=a.merge(d,f.design_data[n(l.designQuery)]))}}function q(c,d,e){var f=v(c,e,d),g=b.cloneDeep(a.omit(c,"structure","data"));return g.structure=k(f,c.structure,e),g.data=l(c.structure,f,c.data),g}function r(b,c,d){c=c||{};var e={};return a.forEach(b,function(a,b){e[b]=q(a,c,d)}),e}function s(b){return!a.isUndefined(b.structure)}function t(b){return"SITE_STRUCTURE"===a.get(b,"id")&&"Document"===a.get(b,"type")}function u(b){return!a.isUndefined(b.componentType)}function v(b,c,d){var e=b.structure.id,f=g(d,e);return b?a.assign({},f,w(c,f,b.structure)):{}}function w(b,e,f){var g=a.get(f,"modes.definitions"),h=d.getActiveComponentModeIds(e,g),i=c.getChildrenData(f,b);return a.transform(i,function(c,d){a.assign(c,w(b,e,d))},h)}return{getDisplayedJson:function(a,b,c,d){var e={};if(a)if(u(a)||t(a)){if(!c)throw new Error("Full page is needed to create displayed json for non page component - for default modes collection");var f=v(c,d,b);e.structure=k(f,a,d),e.data=l(a,f,c.data)}else e=s(a)?q(a,b,d):r(a,b,d);return e}}}),define("utils/util/structureDimensions",["lodash","utils/util/layoutUtils"],function(a,b){"use strict";function c(b){var c={};return c[b.id]=a.pick(b.layout,["x","y","width","height"]),c}function d(c,e,f,g,h){var i=e[g],j=c.components||c.children;a.forEach(j,function(a){e[a.id]=b.getPositionAndSize(a.layout,i,f,h),d(a,e,f,c.id,h)})}function e(a,b,e){var f=c(a);return d(a,f,b,a.id,e),f}function f(e,f,g){var h=c(e),i=h[e.id];return a.forEach(e.mobileComponents,function(a){h[a.id]=b.getPositionAndSize(a.layout,i,f,g),d(a,h,f,a.id,g)}),h}function g(a,b,c,d){return d?f(a,b,c):e(a,b,c)}return{createDimensionsMap:g}}),define("utils/util/balataConsts",[],function(){"use strict";return{BALATA:"balata",MEDIA:"media",IMAGE:"image",BG_IMAGE:"bgimage",VIDEO:"video",OVERLAY:"overlay",ZOOMABLE_SELECTORS:[".bgImage",".bgVideo"]
}}),define("utils/util/mubalat",["lodash","utils/util/balataConsts"],function(a,b){"use strict";function d(b){var c=b.structure.behaviorQuery,d=b.siteData,e=d.dataTypes.BEHAVIORS,f=d.getFocusedRootId();return c?a.get(d.getDataByQuery(c,f,e),"items"):b.structure.behaviors}var c=b;return{createChildBalata:function(b,e){var f=a.get(e,"compData",b.props.compData),g=a.omit(e,"compData"),h="wysiwyg.viewer.components.background.Balata",i={skin:"skins.viewer.balata.balataBaseSkin",styleId:b.props.styleId+c.BALATA},j=d(b.props),k={ref:c.BALATA,id:b.props.id+c.BALATA,structureComponentId:b.props.id,behaviors:j,structure:{behaviors:j}};return a.merge(k,g),b.createChildComponent(f,h,i,k)}}}),define("utils/widgets/widgetModel",[],function(){"use strict";function a(a,b){return{parent:a.getParentId(b),compName:a.getCompName(b),type:a.getCompType(b),state:a.getCompState(b),data:a.getCompData(b),props:a.getCompProps(b),layout:a.getCompLayout(b),isDisplayed:a.isDisplayed(b),events:[]}}return{getCompModel:a}}),define("utils/integrations/fullStory",[],function(){"use strict";return{start:function(){window._fs_run_in_iframe=!0,window._fs_debug=!1,window._fs_host="www.fullstory.com",window._fs_org="MNX7",function(a,b,c,d,e,f,g,h){g=a[c]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b)},g.q=[],f=b.createElement(d),f.async=1,f.src="https://"+_fs_host+"/s/fs.js",h=b.getElementsByTagName(d)[0],h.parentNode.insertBefore(f,h),g.identify=function(a,b){g(e,{uid:a}),b&&g(e,b)},g.setUserVars=function(a){FS(e,a)},g.identifyAccount=function(a,b){f="account",b=b||{},b.acctId=a,FS(f,b)},g.clearUserCookie=function(a,c){for(a=b.domain;;){if(b.cookie="fs_uid=;domain="+a+";path=/;expires="+new Date(0),c=a.indexOf("."),0>c)break;a=a.slice(c+1)}}}(window,document,"FS","script","user")}}}),define("utils/util/socialShareHandler",["lodash","utils/util/urlUtils","utils/util/ajaxLibrary"],function(a,b,c){"use strict";function k(b,c){var d=b.split("#"),e=a.includes(b,"?")?"&":"?";return d[0]+=e+c,d.join("#")}function l(a,b){var c=a,d=c.split("#!");return d.length>1&&(d[1]=decodeURIComponent(d[1]),c=d.join("#!")),b&&(c=c.replace("#!","/#!")),encodeURIComponent(c)}function m(b){return b?encodeURIComponent(a.unescape(b)):""}function n(b){return b?encodeURIComponent(a.unescape(b)):""}function o(a){return a?(a=a.replace(/#/g,encodeURIComponent("#"))," "+a):""}function p(a,c){var d=a||"";return a&&!b.isExternalUrl(a)&&(d=c.getMediaFullStaticUrl(a)),d=encodeURIComponent(d)}function q(a){var b=d;return b+=l(a.url)}function r(a,b){var c=e;return c+=l(a.url),c+="&Title="+m(a.title),c+="&ImageURL="+p(a.imageUrl,b)}function s(a,b){var c=f;return c+=l(a.url),c+="&media="+p(a.imageUrl,b),c+="&description="+m(a.title)}function t(a){var b=g;return b+=l(a.url),b+="&text="+m(a.title)+o(a.hashTags)+encodeURIComponent("\n")}function u(a){var b=h;return b+=l(a.url),b+="&title="+m(a.title),b+="&description="+n(a.description)}function v(a){var b=i;return b+=m(a.title),b+=" - "+l(a.url)}function w(a){var b="mailto:?";return b+="&subject="+m(a.title),b+="&body="+n(a.description)}function x(a,b){var c={google:q,fancy:r,pinterest:s,twitter:t,facebook:u,whatsapp:v,email:w};return c[a.service](a,b)||""}function y(a,b){var c=x(a,b.getSiteData());return a.addDeepLinkParam&&(c=k(c,"deeplink_referrer=socialB_"+a.service)),"email"===a.service?void(window.location.href=c):void b.openPopup(c,"wixapps_share","width=635,height=346,scrollbars=no,status=no,toolbar=no,menubar=no,location=no")}function z(a,b,d,e){c.ajax({url:j,type:"POST",contentType:"application/json",data:'{"longUrl": "'+a+'"}',timeout:b||0,async:!1,success:function(a){d(a.id)},error:e})}var d="https://plus.google.com/share?url=",e="http://www.fancy.com/fancyit/fancy?ItemURL=",f="http://pinterest.com/pin/create/button/?url=",g="https://twitter.com/intent/tweet?url=",h="http://www.facebook.com/sharer.php?u=",i="whatsapp://send?text=",j="https://www.googleapis.com/urlshortener/v1/url?key=AIzaSyDjvIfgLnQJsOxcV01kJae48WSynmXmZ2I";return{handleShareRequest:y,shortenURL:z}}),define("utils/media/media",["utils/util/urlUtils"],function(a){"use strict";return{getMediaUrl:function(b,c){return a.joinURL(b.scriptsDomainUrl,"services","santa-resources","resources","viewer",c)}}}),define("utils",["utils/logger/logger","utils/log/log","utils/util/deprecatedSiteModelMigrater","utils/util/filterHtmlString","utils/util/htmlParser","utils/util/htmlTransformer","utils/util/textSecurityFixer","utils/util/throttleUtils","utils/util/keyboardUtils","utils/util/classNames","utils/util/cookieUtils","utils/util/imageUtils","utils/dataFixer/dataFixer","utils/util/tween","utils/util/urlUtils","utils/util/store2","utils/util/mobileViewportFixer","utils/util/dataUtils","utils/util/dateTimeUtils","utils/util/validationUtils","utils/util/ajaxLibrary","utils/util/menuUtils","utils/util/cssUtils","utils/util/linkRenderer","utils/siteUtils/wixUrlParser","utils/siteUtils/wixUserApi","utils/siteUtils/MobileDeviceAnalyzer","utils/siteUtils/browserDetection","utils/siteUtils/SiteData","utils/siteUtils/pageRequests","utils/siteUtils/siteConstants","utils/siteUtils/languages","utils/util/hashUtils","utils/util/textTransforms","utils/util/guidUtils","utils/util/stringUtils","utils/util/countryCodes","utils/util/mediaZoomCalculations","utils/util/objectUtils","utils/util/objectDiffUtil","utils/util/animationFrame","utils/util/scrollAnchorsUtils","utils/util/domMeasurements","utils/util/storage","utils/util/style","utils/util/matrixCalculations","utils/util/verticalMenuCalculations","utils/util/matrixScalingCalculations","utils/util/galleriesCommonLayout","utils/util/requestsUtil","utils/util/fixBackgroundData","utils/util/boundingLayout","utils/util/nonPageItemZoom","utils/util/colorParser","utils/util/reactComponentUtils","utils/imageService/imageTransformDataFixers","utils/mixins/timersMixins","utils/util/appPartMediaInnerViewNameUtils","utils/translations/contactFormTranslations","utils/translations/subscribeFormTranslations","utils/mixins/postMessageCompMixin","utils/dataFixer/helpers/anchorCyclesHelper","utils/util/dockUtils","utils/util/layoutUtils","utils/util/viewportUtils","utils/util/containerBackgroundUtils","utils/svgFilters/svgFilters","utils/util/math","utils/socialAPI/socialAPI","utils/util/functionUtils","utils/siteUtils/constants","utils/siteUtils/fullToDisplayedJson","utils/siteUtils/modesUtils","utils/util/structureDimensions","utils/logger/performance","utils/logger/newrelic","utils/util/balataConsts","utils/util/mubalat","utils/util/blogAppPartNames","utils/widgets/widgetModel","utils/integrations/fullStory","imageClientApi","utils/util/socialShareHandler","utils/media/media"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da){"use strict";var Ea={logger:a,log:b,deprecatedSiteModelMigrater:c,htmlTransformer:f,textSecurityFixer:g,htmlParser:e,throttleUtils:h,keyboardUtils:i,classNames:j,cookieUtils:k,imageUtils:l,dataFixer:m,tween:n,urlUtils:o,Store:p,mobileViewportFixer:q,dataUtils:r,dateTimeUtils:s,validationUtils:t,ajaxLibrary:u,menuUtils:v,cssUtils:w,linkRenderer:x,wixUrlParser:y,wixUserApi:z,MobileDeviceAnalyzer:A,browserDetection:B,SiteData:C,pageRequests:D,hashUtils:G,textTransforms:H,guidUtils:I,stringUtils:J,countryCodes:K,mediaZoomCalculations:L,objectUtils:M,objectDiffUtil:N,animationFrame:O,scrollAnchors:P,domMeasurements:Q,storage:R,style:S,matrixCalculations:T,matrixScalingCalculations:V,galleriesCommonLayout:W,requestsUtil:X,migrateBgDataItem:Y.migrateBgDataItem,migrateBgString:Y.migrateBgString,imageTransformDataFixers:ba,timerMixins:ca,boundingLayout:Z,siteConstants:E,languages:F,verticalMenuCalculations:U,nonPageItemZoom:$,appPartMediaInnerViewNameUtils:da,translations:{contactFormTranslations:ea,subscribeFormTranslations:fa},anchorCyclesHelper:ha,postMessageCompMixin:ga,colorParser:_,reactComponentUtils:aa,dockUtils:ia,layout:ja,viewportUtils:ka,containerBackgroundUtils:la,svgFilters:ma,math:na,socialAPI:oa,functionUtils:pa,constants:qa,siteRenderPrivateStuff:{fullToDisplayedJson:ra},modes:sa,structureDimensions:ta,performance:ua,newrelic:va,balataConsts:wa,mubalat:xa,blogAppPartNames:ya,widgetModel:za,integrations:{fullStory:Aa},filterHtmlString:d,imageTransform:Ba,socialShareHandler:Ca,media:Da};return Ea});