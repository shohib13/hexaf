!function(a,b){"use strict";"object"==typeof exports?module.exports=b(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],b):a.URI=b(a.punycode,a.IPv6,a.SecondLevelDomains,a)}(this,function(a,b,c,d){"use strict";function e(a,b){return this instanceof e?(void 0===a&&(a="undefined"!=typeof location?location.href+"":""),this.href(a),void 0!==b?this.absoluteTo(b):this):new e(a,b)}function f(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function g(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function h(a){return"Array"===g(a)}function i(a,b){var c,d,e={};if(h(b))for(c=0,d=b.length;d>c;c++)e[b[c]]=!0;else e[b]=!0;for(c=0,d=a.length;d>c;c++)void 0!==e[a[c]]&&(a.splice(c,1),d--,c--);return a}function j(a,b){var c,d;if(h(b)){for(c=0,d=b.length;d>c;c++)if(!j(a,b[c]))return!1;return!0}var e=g(b);for(c=0,d=a.length;d>c;c++)if("RegExp"===e){if("string"==typeof a[c]&&a[c].match(b))return!0}else if(a[c]===b)return!0;return!1}function k(a,b){if(!h(a)||!h(b))return!1;if(a.length!==b.length)return!1;a.sort(),b.sort();for(var c=0,d=a.length;d>c;c++)if(a[c]!==b[c])return!1;return!0}function l(a){return escape(a)}function m(a){return encodeURIComponent(a).replace(/[!'()*]/g,l).replace(/\*/g,"%2A")}var n=d&&d.URI;e.version="1.13.1";var o=e.prototype,p=Object.prototype.hasOwnProperty;e._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:e.duplicateQueryParameters,escapeQuerySpace:e.escapeQuerySpace}},e.duplicateQueryParameters=!1,e.escapeQuerySpace=!0,e.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,e.idn_expression=/[^a-z0-9\.-]/i,e.punycode_expression=/(xn--)/i,e.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,e.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,e.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},e.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},e.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,e.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},e.getDomAttribute=function(a){if(a&&a.nodeName){var b=a.nodeName.toLowerCase();if("input"!==b||"image"===a.type)return e.domAttributes[b]}},e.encode=m,e.decode=decodeURIComponent,e.iso8859=function(){e.encode=escape,e.decode=unescape},e.unicode=function(){e.encode=m,e.decode=decodeURIComponent},e.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},e.encodeQuery=function(a,b){var c=e.encode(a+"");return void 0===b&&(b=e.escapeQuerySpace),b?c.replace(/%20/g,"+"):c},e.decodeQuery=function(a,b){a+="",void 0===b&&(b=e.escapeQuerySpace);try{return e.decode(b?a.replace(/\+/g,"%20"):a)}catch(c){return a}},e.recodePath=function(a){for(var b=(a+"").split("/"),c=0,d=b.length;d>c;c++)b[c]=e.encodePathSegment(e.decode(b[c]));return b.join("/")},e.decodePath=function(a){for(var b=(a+"").split("/"),c=0,d=b.length;d>c;c++)b[c]=e.decodePathSegment(b[c]);return b.join("/")};var q,r={encode:"encode",decode:"decode"},s=function(a,b){return function(c){return e[b](c+"").replace(e.characters[a][b].expression,function(c){return e.characters[a][b].map[c]})}};for(q in r)e[q+"PathSegment"]=s("pathname",r[q]);e.encodeReserved=s("reserved","encode"),e.parse=function(a,b){var c;return b||(b={}),c=a.indexOf("#"),c>-1&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c)),c=a.indexOf("?"),c>-1&&(b.query=a.substring(c+1)||null,a=a.substring(0,c)),"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=e.parseAuthority(a,b)):(c=a.indexOf(":"),c>-1&&(b.protocol=a.substring(0,c)||null,b.protocol&&!b.protocol.match(e.protocol_expression)?b.protocol=void 0:"file"===b.protocol?a=a.substring(c+3):"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=e.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0))),b.path=a,b},e.parseHost=function(a,b){var c,d,e=a.indexOf("/");return-1===e&&(e=a.length),"["===a.charAt(0)?(c=a.indexOf("]"),b.hostname=a.substring(1,c)||null,b.port=a.substring(c+2,e)||null,"/"===b.port&&(b.port=null)):a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,e)||null,b.port=null):(d=a.substring(0,e).split(":"),b.hostname=d[0]||null,b.port=d[1]||null),b.hostname&&"/"!==a.substring(e).charAt(0)&&(e++,a="/"+a),a.substring(e)||"/"},e.parseAuthority=function(a,b){return a=e.parseUserinfo(a,b),e.parseHost(a,b)},e.parseUserinfo=function(a,b){var c,d=a.indexOf("/"),f=d>-1?a.lastIndexOf("@",d):a.indexOf("@");return f>-1&&(-1===d||d>f)?(c=a.substring(0,f).split(":"),b.username=c[0]?e.decode(c[0]):null,c.shift(),b.password=c[0]?e.decode(c.join(":")):null,a=a.substring(f+1)):(b.username=null,b.password=null),a},e.parseQuery=function(a,b){if(!a)return{};if(a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!a)return{};for(var c,d,f,g={},h=a.split("&"),i=h.length,j=0;i>j;j++)c=h[j].split("="),d=e.decodeQuery(c.shift(),b),f=c.length?e.decodeQuery(c.join("="),b):null,g[d]?("string"==typeof g[d]&&(g[d]=[g[d]]),g[d].push(f)):g[d]=f;return g},e.build=function(a){var b="";return a.protocol&&(b+=a.protocol+":"),a.urn||!b&&!a.hostname||(b+="//"),b+=e.buildAuthority(a)||"","string"==typeof a.path&&("/"!==a.path.charAt(0)&&"string"==typeof a.hostname&&(b+="/"),b+=a.path),"string"==typeof a.query&&a.query&&(b+="?"+a.query),"string"==typeof a.fragment&&a.fragment&&(b+="#"+a.fragment),b},e.buildHost=function(a){var b="";return a.hostname?(b+=e.ip6_expression.test(a.hostname)?"["+a.hostname+"]":a.hostname,a.port&&(b+=":"+a.port),b):""},e.buildAuthority=function(a){return e.buildUserinfo(a)+e.buildHost(a)},e.buildUserinfo=function(a){var b="";return a.username&&(b+=e.encode(a.username),a.password&&(b+=":"+e.encode(a.password)),b+="@"),b},e.buildQuery=function(a,b,c){var d,f,g,i,j="";for(f in a)if(p.call(a,f)&&f)if(h(a[f]))for(d={},g=0,i=a[f].length;i>g;g++)void 0!==a[f][g]&&void 0===d[a[f][g]+""]&&(j+="&"+e.buildQueryParameter(f,a[f][g],c),b!==!0&&(d[a[f][g]+""]=!0));else void 0!==a[f]&&(j+="&"+e.buildQueryParameter(f,a[f],c));return j.substring(1)},e.buildQueryParameter=function(a,b,c){return e.encodeQuery(a,c)+(null!==b?"="+e.encodeQuery(b,c):"")},e.addQuery=function(a,b,c){if("object"==typeof b)for(var d in b)p.call(b,d)&&e.addQuery(a,d,b[d]);else{if("string"!=typeof b)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===a[b])return void(a[b]=c);"string"==typeof a[b]&&(a[b]=[a[b]]),h(c)||(c=[c]),a[b]=a[b].concat(c)}},e.removeQuery=function(a,b,c){var d,f,g;if(h(b))for(d=0,f=b.length;f>d;d++)a[b[d]]=void 0;else if("object"==typeof b)for(g in b)p.call(b,g)&&e.removeQuery(a,g,b[g]);else{if("string"!=typeof b)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==c?a[b]===c?a[b]=void 0:h(a[b])&&(a[b]=i(a[b],c)):a[b]=void 0}},e.hasQuery=function(a,b,c,d){if("object"==typeof b){for(var f in b)if(p.call(b,f)&&!e.hasQuery(a,f,b[f]))return!1;return!0}if("string"!=typeof b)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(g(c)){case"Undefined":return b in a;case"Boolean":var i=Boolean(h(a[b])?a[b].length:a[b]);return c===i;case"Function":return!!c(a[b],b,a);case"Array":if(!h(a[b]))return!1;var l=d?j:k;return l(a[b],c);case"RegExp":return h(a[b])?d?j(a[b],c):!1:Boolean(a[b]&&a[b].match(c));case"Number":c=String(c);case"String":return h(a[b])?d?j(a[b],c):!1:a[b]===c;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},e.commonPath=function(a,b){var c,d=Math.min(a.length,b.length);for(c=0;d>c;c++)if(a.charAt(c)!==b.charAt(c)){c--;break}return 1>c?a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"":("/"===a.charAt(c)&&"/"===b.charAt(c)||(c=a.substring(0,c).lastIndexOf("/")),a.substring(0,c+1))},e.withinString=function(a,b,c){c||(c={});var d=c.start||e.findUri.start,f=c.end||e.findUri.end,g=c.trim||e.findUri.trim,h=/[a-z0-9-]=["']?$/i;for(d.lastIndex=0;;){var i=d.exec(a);if(!i)break;var j=i.index;if(c.ignoreHtml){var k=a.slice(Math.max(j-3,0),j);if(k&&h.test(k))continue}var l=j+a.slice(j).search(f),m=a.slice(j,l).replace(g,"");if(!c.ignore||!c.ignore.test(m)){l=j+m.length;var n=b(m,j,l,a);a=a.slice(0,j)+n+a.slice(l),d.lastIndex=j+n.length}}return d.lastIndex=0,a},e.ensureValidHostname=function(b){if(b.match(e.invalid_hostname_characters)){if(!a)throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(a.toASCII(b).match(e.invalid_hostname_characters))throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-]')}},e.noConflict=function(a){if(a){var b={URI:this.noConflict()};return d.URITemplate&&"function"==typeof d.URITemplate.noConflict&&(b.URITemplate=d.URITemplate.noConflict()),d.IPv6&&"function"==typeof d.IPv6.noConflict&&(b.IPv6=d.IPv6.noConflict()),d.SecondLevelDomains&&"function"==typeof d.SecondLevelDomains.noConflict&&(b.SecondLevelDomains=d.SecondLevelDomains.noConflict()),b}return d.URI===this&&(d.URI=n),this},o.build=function(a){return a===!0?this._deferred_build=!0:(void 0===a||this._deferred_build)&&(this._string=e.build(this._parts),this._deferred_build=!1),this},o.clone=function(){return new e(this)},o.valueOf=o.toString=function(){return this.build(!1)._string},r={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},s=function(a){return function(b,c){return void 0===b?this._parts[a]||"":(this._parts[a]=b||null,this.build(!c),this)}};for(q in r)o[q]=s(r[q]);r={query:"?",fragment:"#"},s=function(a,b){return function(c,d){return void 0===c?this._parts[a]||"":(null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1))),this._parts[a]=c,this.build(!d),this)}};for(q in r)o[q]=s(q,r[q]);r={search:["?","query"],hash:["#","fragment"]},s=function(a,b){return function(c,d){var e=this[a](c,d);return"string"==typeof e&&e.length?b+e:e}};for(q in r)o[q]=s(r[q][1],r[q][0]);o.pathname=function(a,b){if(void 0===a||a===!0){var c=this._parts.path||(this._parts.hostname?"/":"");return a?e.decodePath(c):c}return this._parts.path=a?e.recodePath(a):"/",this.build(!b),this},o.path=o.pathname,o.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="",this._parts=e._parts();var d=a instanceof e,f="object"==typeof a&&(a.hostname||a.path||a.pathname);if(a.nodeName){var g=e.getDomAttribute(a);a=a[g]||"",f=!1}if(!d&&f&&void 0!==a.pathname&&(a=a.toString()),"string"==typeof a)this._parts=e.parse(a,this._parts);else{if(!d&&!f)throw new TypeError("invalid input");var h=d?a._parts:a;for(c in h)p.call(this._parts,c)&&(this._parts[c]=h[c])}return this.build(!b),this},o.is=function(a){var b=!1,d=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!this._parts.urn;switch(this._parts.hostname&&(k=!1,d=e.ip4_expression.test(this._parts.hostname),f=e.ip6_expression.test(this._parts.hostname),b=d||f,g=!b,h=g&&c&&c.has(this._parts.hostname),i=g&&e.idn_expression.test(this._parts.hostname),j=g&&e.punycode_expression.test(this._parts.hostname)),a.toLowerCase()){case"relative":return k;case"absolute":return!k;case"domain":case"name":return g;case"sld":return h;case"ip":return b;case"ip4":case"ipv4":case"inet4":return d;case"ip6":case"ipv6":case"inet6":return f;case"idn":return i;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return j}return null};var t=o.protocol,u=o.port,v=o.hostname;o.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(e.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return t.call(this,a,b)},o.scheme=o.protocol,o.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');return u.call(this,a,b)},o.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={};e.parseHost(a,c),a=c.hostname}return v.call(this,a,b)},o.host=function(a,b){return this._parts.urn?void 0===a?"":this:void 0===a?this._parts.hostname?e.buildHost(this._parts):"":(e.parseHost(a,this._parts),this.build(!b),this)},o.authority=function(a,b){return this._parts.urn?void 0===a?"":this:void 0===a?this._parts.hostname?e.buildAuthority(this._parts):"":(e.parseAuthority(a,this._parts),this.build(!b),this)},o.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var c=e.buildUserinfo(this._parts);return c.substring(0,c.length-1)}return"@"!==a[a.length-1]&&(a+="@"),e.parseUserinfo(a,this._parts),this.build(!b),this},o.resource=function(a,b){var c;return void 0===a?this.path()+this.search()+this.hash():(c=e.parse(a),this._parts.path=c.path,this._parts.query=c.query,this._parts.fragment=c.fragment,this.build(!b),this)},o.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,c)||""}var d=this._parts.hostname.length-this.domain().length,g=this._parts.hostname.substring(0,d),h=new RegExp("^"+f(g));return a&&"."!==a.charAt(a.length-1)&&(a+="."),a&&e.ensureValidHostname(a),this._parts.hostname=this._parts.hostname.replace(h,a),this.build(!b),this},o.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.match(/\./g);if(c&&c.length<2)return this._parts.hostname;var d=this._parts.hostname.length-this.tld(b).length-1;return d=this._parts.hostname.lastIndexOf(".",d-1)+1,this._parts.hostname.substring(d)||""}if(!a)throw new TypeError("cannot set domain empty");if(e.ensureValidHostname(a),!this._parts.hostname||this.is("IP"))this._parts.hostname=a;else{var g=new RegExp(f(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!b),this},o.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.lastIndexOf("."),e=this._parts.hostname.substring(d+1);return b!==!0&&c&&c.list[e.toLowerCase()]?c.get(this._parts.hostname)||e:e}var g;if(!a)throw new TypeError("cannot set TLD empty");if(a.match(/[^a-zA-Z0-9-]/)){if(!c||!c.is(a))throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');g=new RegExp(f(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,a)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");g=new RegExp(f(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!b),this},o.directory=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var c=this._parts.path.length-this.filename().length-1,d=this._parts.path.substring(0,c)||(this._parts.hostname?"/":"");return a?e.decodePath(d):d}var g=this._parts.path.length-this.filename().length,h=this._parts.path.substring(0,g),i=new RegExp("^"+f(h));return this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a)),a&&"/"!==a.charAt(a.length-1)&&(a+="/"),a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a),this.build(!b),this},o.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path||"/"===this._parts.path)return"";var c=this._parts.path.lastIndexOf("/"),d=this._parts.path.substring(c+1);return a?e.decodePathSegment(d):d}var g=!1;"/"===a.charAt(0)&&(a=a.substring(1)),a.match(/\.?\//)&&(g=!0);var h=new RegExp(f(this.filename())+"$");return a=e.recodePath(a),this._parts.path=this._parts.path.replace(h,a),g?this.normalizePath(b):this.build(!b),this},o.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path||"/"===this._parts.path)return"";var c,d,g=this.filename(),h=g.lastIndexOf(".");return-1===h?"":(c=g.substring(h+1),d=/^[a-z0-9%]+$/i.test(c)?c:"",a?e.decodePathSegment(d):d)}"."===a.charAt(0)&&(a=a.substring(1));var i,j=this.suffix();if(j)i=a?new RegExp(f(j)+"$"):new RegExp(f("."+j)+"$");else{if(!a)return this;this._parts.path+="."+e.recodePath(a)}return i&&(a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a)),this.build(!b),this},o.segment=function(a,b,c){var d=this._parts.urn?":":"/",e=this.path(),f="/"===e.substring(0,1),g=e.split(d);if(void 0!==a&&"number"!=typeof a&&(c=b,b=a,a=void 0),void 0!==a&&"number"!=typeof a)throw new Error('Bad segment "'+a+'", must be 0-based integer');if(f&&g.shift(),0>a&&(a=Math.max(g.length+a,0)),void 0===b)return void 0===a?g:g[a];if(null===a||void 0===g[a])if(h(b)){g=[];for(var i=0,j=b.length;j>i;i++)(b[i].length||g.length&&g[g.length-1].length)&&(g.length&&!g[g.length-1].length&&g.pop(),g.push(b[i]))}else(b||"string"==typeof b)&&(""===g[g.length-1]?g[g.length-1]=b:g.push(b));else b||"string"==typeof b&&b.length?g[a]=b:g.splice(a,1);return f&&g.unshift(""),this.path(g.join(d),c)},o.segmentCoded=function(a,b,c){var d,f,g;if("number"!=typeof a&&(c=b,b=a,a=void 0),void 0===b){if(d=this.segment(a,b,c),h(d))for(f=0,g=d.length;g>f;f++)d[f]=e.decode(d[f]);else d=void 0!==d?e.decode(d):void 0;return d}if(h(b))for(f=0,g=b.length;g>f;f++)b[f]=e.decode(b[f]);else b="string"==typeof b?e.encode(b):b;return this.segment(a,b,c)};var w=o.query;return o.query=function(a,b){if(a===!0)return e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof a){var c=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace),d=a.call(this,c);return this._parts.query=e.buildQuery(d||c,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this}return void 0!==a&&"string"!=typeof a?(this._parts.query=e.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):w.call(this,a,b)},o.setQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof a)for(var f in a)p.call(a,f)&&(d[f]=a[f]);else{if("string"!=typeof a)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");d[a]=void 0!==b?b:null}return this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},o.addQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.addQuery(d,a,void 0===b?null:b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},o.removeQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.removeQuery(d,a,b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},o.hasQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.hasQuery(d,a,b,c)},o.setSearch=o.setQuery,o.addSearch=o.addQuery,o.removeSearch=o.removeQuery,o.hasSearch=o.hasQuery,o.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},o.normalizeProtocol=function(a){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a)),this},o.normalizeHostname=function(c){return this._parts.hostname&&(this.is("IDN")&&a?this._parts.hostname=a.toASCII(this._parts.hostname):this.is("IPv6")&&b&&(this._parts.hostname=b.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!c)),this},o.normalizePort=function(a){return"string"==typeof this._parts.protocol&&this._parts.port===e.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a)),this},o.normalizePath=function(a){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var b,c,d,f=this._parts.path,g="";for("/"!==f.charAt(0)&&(b=!0,f="/"+f),f=f.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),b&&(g=f.substring(1).match(/^(\.\.\/)+/)||"",g&&(g=g[0]));;){if(c=f.indexOf("/.."),-1===c)break;0!==c?(d=f.substring(0,c).lastIndexOf("/"),-1===d&&(d=c),f=f.substring(0,d)+f.substring(c+3)):f=f.substring(3)}return b&&this.is("relative")&&(f=g+f.substring(1)),f=e.recodePath(f),this._parts.path=f,this.build(!a),this},o.normalizePathname=o.normalizePath,o.normalizeQuery=function(a){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(e.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a)),this},o.normalizeFragment=function(a){return this._parts.fragment||(this._parts.fragment=null,this.build(!a)),this},o.normalizeSearch=o.normalizeQuery,o.normalizeHash=o.normalizeFragment,o.iso8859=function(){var a=e.encode,b=e.decode;return e.encode=escape,e.decode=decodeURIComponent,this.normalize(),e.encode=a,e.decode=b,this},o.unicode=function(){var a=e.encode,b=e.decode;return e.encode=m,e.decode=unescape,this.normalize(),e.encode=a,e.decode=b,this},o.readable=function(){var b=this.clone();b.username("").password("").normalize();var c="";if(b._parts.protocol&&(c+=b._parts.protocol+"://"),b._parts.hostname&&(b.is("punycode")&&a?(c+=a.toUnicode(b._parts.hostname),b._parts.port&&(c+=":"+b._parts.port)):c+=b.host()),b._parts.hostname&&b._parts.path&&"/"!==b._parts.path.charAt(0)&&(c+="/"),c+=b.path(!0),b._parts.query){for(var d="",f=0,g=b._parts.query.split("&"),h=g.length;h>f;f++){var i=(g[f]||"").split("=");d+="&"+e.decodeQuery(i[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==i[1]&&(d+="="+e.decodeQuery(i[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}c+="?"+d.substring(1)}return c+=e.decodeQuery(b.hash(),!0)},o.absoluteTo=function(a){var b,c,d,f=this.clone(),g=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a instanceof e||(a=new e(a)),f._parts.protocol||(f._parts.protocol=a._parts.protocol),this._parts.hostname)return f;for(c=0;d=g[c];c++)f._parts[d]=a._parts[d];return f._parts.path?".."===f._parts.path.substring(-2)&&(f._parts.path+="/"):(f._parts.path=a._parts.path,f._parts.query||(f._parts.query=a._parts.query)),"/"!==f.path().charAt(0)&&(b=a.directory(),f._parts.path=(b?b+"/":"")+f._parts.path,f.normalizePath()),f.build(),f},o.relativeTo=function(a){var b,c,d,f,g,h=this.clone().normalize();if(h._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a=new e(a).normalize(),b=h._parts,c=a._parts,f=h.path(),g=a.path(),"/"!==f.charAt(0))throw new Error("URI is already relative");if("/"!==g.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(b.protocol===c.protocol&&(b.protocol=null),b.username!==c.username||b.password!==c.password)return h.build();if(null!==b.protocol||null!==b.username||null!==b.password)return h.build();if(b.hostname!==c.hostname||b.port!==c.port)return h.build();if(b.hostname=null,b.port=null,f===g)return b.path="",h.build();if(d=e.commonPath(h.path(),a.path()),!d)return h.build();var i=c.path.substring(d.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return b.path=i+b.path.substring(d.length),h.build()},o.equals=function(a){var b,c,d,f=this.clone(),g=new e(a),i={},j={},l={};if(f.normalize(),g.normalize(),f.toString()===g.toString())return!0;if(b=f.query(),c=g.query(),f.query(""),g.query(""),f.toString()!==g.toString())return!1;if(b.length!==c.length)return!1;i=e.parseQuery(b,this._parts.escapeQuerySpace),j=e.parseQuery(c,this._parts.escapeQuerySpace);for(d in i)if(p.call(i,d)){if(h(i[d])){if(!k(i[d],j[d]))return!1}else if(i[d]!==j[d])return!1;l[d]=!0}for(d in j)if(p.call(j,d)&&!l[d])return!1;return!0},o.duplicateQueryParameters=function(a){return this._parts.duplicateQueryParameters=!!a,this},o.escapeQuerySpace=function(a){return this._parts.escapeQuerySpace=!!a,this},e});var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};angular.module("nr-ng-client",[]).run(["nrNgClient","nrNgUiRouter",function(a,b){}]);var relic;!function(a){var b=function(){function a(){this.newrelic=window.newrelic}return a.prototype.tag=function(a,b){this.newrelic&&this.newrelic.setCustomAttribute(a,b)},a.prototype.addPageAction=function(a,b){this.newrelic&&this.newrelic.addPageAction(a,b)},a.prototype.reportError=function(a,b){if(this.newrelic)try{throw"string"==typeof a?new Error(a):a}catch(c){this.newrelic.noticeError(c),"function"==typeof this.newrelic.addPageAction&&this.newrelic.addPageAction("error",{href:window.location.href,message:c.message,stack:c.stack,cause:b||""})}},a.prototype.reportFinishLoading=function(){this.newrelic&&this.newrelic.finished()},a}();a.NrNgClient=b;var c=function(a){function c(){a.apply(this,arguments),this.config={reportError:!0,reportFinish:!0}}return __extends(c,a),c.prototype.reportFinishedEnabled=function(a){this.config.reportFinish=a},c.prototype.reportErrorsEnabled=function(a){this.config.reportError=a},c.prototype.decorateExceptionHandler=function(a){var b=this;this.newrelic&&this.config.reportError&&a.decorator("$exceptionHandler",["$delegate",function(a){return function(c,d){b.reportError(c,d),a(c,d)}}])},c.prototype.$get=function(a,c){var d=this;return this.config.reportFinish&&c(function(){a.notifyWhenNoOutstandingRequests(function(){d.reportFinishLoading()})},0,!1),new b},c.prototype.$get.$inject=["$browser","$timeout"],c}(b);a.NrNgClientProvider=c,angular.module("nr-ng-client").provider("nrNgClient",c).config(["$provide","nrNgClientProvider",function(a,b){b.decorateExceptionHandler(a)}])}(relic||(relic={}));var relic;if(function(a){var b="$stateChangeStart",c="$viewContentLoaded",d=function(){function a(a,b){this.$state=a,this.addStateToTrace=b}return a.prototype.reportStateDataLoaded=function(){this.$state&&this.addStateToTrace(this.$state.current.url)},a}();a.NrNgUiRouter=d;var e=function(){function a(){this.newrelic=window.newrelic,this.config={reportStateChange:!0,threshold:300},this.routsData={start:0,inTransition:!1}}return a.prototype.stateChangedReportEnabled=function(a){this.config.reportStateChange=a},a.prototype.threshold=function(a){this.config.threshold=a},a.prototype.registerStateChangeEvents=function(a,d,e){var f=this;a.$on(b,function(a,b,c,d){d&&d.name&&(f.routsData.start=Date.now(),f.routsData.inTransition=!0)}),this.config.reportStateChange&&a.$on(c,function(){f.routsData.inTransition&&d.notifyWhenNoOutstandingRequests(function(){f.addStateToTrace(e.current.url)})})},a.prototype.addStateToTrace=function(a){this.routsData.inTransition=!1,this.newrelic&&Date.now()-this.routsData.start>=this.config.threshold&&(this.newrelic.addToTrace({name:"RENDER_STATE"+a,start:this.routsData.start,end:Date.now()}),this.newrelic.addPageAction("RENDER_STATE"+a,{duration:(Date.now()-this.routsData.start)/1e3}))},a.prototype.getStateService=function(a){var b,c="$state";try{var d=a.has(c);d&&(b=a.get(c))}catch(e){}return b},a.prototype.$get=function(a,b,c){var e=this,f=this.getStateService(c);return f&&this.registerStateChangeEvents(a,b,f),new d(f,function(a){return e.addStateToTrace(a)})},a.prototype.$get.$inject=["$rootScope","$browser","$injector"],a}();a.NrNgUiRouterProvider=e,angular.module("nr-ng-client").provider("nrNgUiRouter",e)}(relic||(relic={})),angular.version.minor<5){var hooked=angular.module;angular.module=function(){function a(a){if(angular.isString(a)){var b=c.exec(a);return b&&b[3]}}var b=hooked.apply(this,arguments),c=/^(\S+)(\s+as\s+(\w+))?$/;return b.component||(b.component=function(c,d){function e(b){function c(a){return angular.isFunction(a)||angular.isArray(a)?function(c,d){return b.invoke(a,this,{$element:c,$attrs:d})}:a}var e=d.template||d.templateUrl?d.template:"";return{controller:d.controller||function(){},controllerAs:a(d.controller)||d.controllerAs||"$ctrl",template:c(e),templateUrl:c(d.templateUrl),transclude:d.transclude,scope:d.bindings||{},bindToController:!0,restrict:d.restrict||"E"}}return e.$inject=["$injector"],b.directive(c,e)}),b}}!function(){var a;try{a=angular.module("ngRoute")}catch(b){}a&&a.config(["$routeProvider",function(a){function b(a){if(a.resolve&&!a.controller){var b={};return b.controllerAs="$resolve",b.controller=function(){var b=this,c=arguments;Object.keys(a.resolve).forEach(function(a,d){return b[a]=c[d]})},b.controller.$inject=Object.keys(a.resolve),angular.extend(b,a)}return a}var c=a.when;a.when=function(){return arguments[1]=b(arguments[1]),c.apply(this,arguments)}}])}();var PermissionsDefinition=function(){function a(a){this.permissions=a.permissions,this.isOwner=a.isOwner,this.$$ownerId=a.ownerId,this.$$roles=a.roles,this.siteToken=a.siteToken||"user-unknown"}return a}(),PermissionsDefinitionBuilder=function(){function a(){this.roles=[],this.permissions=[],this.siteToken="user-unknown"}return a.prototype.withPermissions=function(a){return this.permissions=a,this},a.prototype.withIsOwner=function(a){return this.isOwner=a,this},a.prototype.withOwnerId=function(a){return this.ownerId=a,this},a.prototype.withSiteToken=function(a){return this.siteToken=a,this},a.prototype.withRoles=function(a){return this.roles=a,this},a.prototype.build=function(){return new PermissionsDefinition({permissions:this.permissions,isOwner:this.isOwner,roles:this.roles,ownerId:this.ownerId,siteToken:this.siteToken})},a}();angular.module("wixAngularExperiments",[]),angular.module("wixAngularPermissionsConstants",[]),angular.module("wixAngularPermissions",["wixAngularPermissionsConstants"]),
angular.module("wixAngularBackwardCompatibility",["wixAngularAppInternal","wixAngularExperiments"]),angular.module("wixAngularStorage",["wixAngularAppInternal"]),angular.module("wixAngularStorageHub",["wixAngularStorage"]),angular.module("wixAngularAppInternal",["nr-ng-client"]),angular.module("wixAngularInterceptor",["wixAngularAppInternal"]).config(["$httpProvider","wixAngularTopologyProvider",function(a,b){a.interceptors.push("wixAngularInterceptor"),b.getStaticsUrl()||b.setStaticsUrl(angular.element(document).find("base").attr("href"))}]),angular.module("wixAngularTranslateCompile",["pascalprecht.translate"]),angular.module("wixAngularConstants",[]),angular.module("wixAngular",["wixAngularAppInternal","wixAngularTranslateCompile","wixAngularStorage","wixAngularExperiments","wixAngularInterceptor","wixAngularBackwardCompatibility","wixAngularPermissions","wixAngularConstants"]),angular.module("wixAngularStorage").constant("ANGULAR_STORAGE_PREFIX","wixAngularStorage").constant("KEY_SEPARATOR","|").constant("DEFAULT_AGE_IN_SEC",3600).constant("CLEANING_INTERVAL",6e5).constant("CLEAN_EPSILON",100).constant("MAX_KEY_LENGTH",100).constant("MAX_VALUE_SIZE_IN_BYTES",4096).constant("MAX_AGE_IN_SEC",172800).constant("MAX_STORAGE_SIZE_IN_BYTES",1048576).constant("DATA_TYPE","data").constant("ADHOC_TYPE","adhoc").constant("REMOTE_TYPE","remote").constant("wixAngularStorageErrors",{LOGGED_OUT:1,NOT_FOUND:2,RUNTIME_EXCEPTION:3,SERVER_ERROR:4,QUOTA_EXCEEDED:5}),angular.module("wixAngularConstants").constant("letterUnicode","A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ").constant("numberUnicode","0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൦-൵๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹０-９").constant("dashPunctuationUnicode","-֊־᐀᠆‐-―⸗⸚⸺⸻〜〰゠︱︲﹘﹣－");var WixRoles=function(){function a(){this.OWNER="owner",this.CONTRIBUTOR="contributor",this.WIX_STAFF="wixStaff"}return a}();angular.module("wixAngularPermissionsConstants").constant("wixRoles",new WixRoles),function(){function a(a,b){function c(){return{siteId:d.siteId,noCache:d.noCache}}var d=this,e=function(a){d.data=a},f=function(){d.data=null};this.cache={set:function(b,d){a.set(b,d,c())},setWithGUID:function(b){a.setWithGUID(b).then(function(a){d.key=a})},get:function(b){a.get(b,c()).then(e,f)},remove:function(b){a.remove(b,c()).then(f)}},this.remote={set:function(a,d){b.set(a,d,c())},get:function(a){b.get(a,c()).then(e,f)},remove:function(a){b.remove(a,c()).then(f)}}}a.$inject=["wixCache","wixStorage"],angular.module("wixAngularAppInternal").controller("WixAngularStorageController",a)}(),function(){function a(a,b,c){return{restrict:"A",replace:!0,link:function(d,e,f){function g(){var g=f.translateValues?c(f.translateValues)(d):{},h=a(f.wixTranslateCompile,g);e.html(h),b(e.contents())(d)}g(),d.$watch(function(){return f.wixTranslateCompile},g)}}}a.$inject=["$translate","$compile","$parse"],angular.module("wixAngularTranslateCompile").directive("wixTranslateCompile",a)}(),function(){function a(a){return{priority:99,link:function(b,c,d){d.$observe("relativeHref",function(b){b&&d.$set("href",a.staticsUrl+b)})}}}a.$inject=["wixAngularTopology"],angular.module("wixAngularAppInternal").directive("relativeHref",a)}(),function(){function a(a){return{priority:99,link:function(b,d,e){e.$observe("relativeSrc",function(b){b&&e.$set("src",c(b)?a.staticsUrl+b:b)})}}}function b(a){return{priority:9999,link:function(b,d,e){e.$observe("ngSrc",function(b){c(b)&&e.$set("src",a.staticsUrl+b)})}}}function c(a){return a&&(0===a.indexOf("images/")||0===a.indexOf("bower_components/"))}a.$inject=["wixAngularTopology"],b.$inject=["wixAngularTopology"],angular.module("wixAngularAppInternal").directive("relativeSrc",a).directive("ngSrc",b)}(),function(){function a(a,b){if("function"==typeof a)return{pre:b,post:a};var c=a.pre;return a.pre=function(){return b.apply(void 0,arguments),c.apply(void 0,arguments)},a}function b(b,c,d,e,f){var g=c[0],h=angular.copy(g);return h.compile=function(){var c=g.compile.apply(g,arguments);return a(c,function(a,c,g){g[e]=function(){var a=g[d];return f.eval(b,a,g.wixPermissionContext)}})},h}function c(a,c,d,e,f){return a.invoke(b,this,{manager:c,directiveName:d,ngDirective:e,ngAttributeName:f})}b.$inject=["manager","ngDirective","directiveName","ngAttributeName","wixManagerEval"],angular.module("wixAngularExperiments").directive("wixExperimentIf",["$injector","experimentManager","ngIfDirective",function(a,b,d){return c(a,b,"wixExperimentIf",d,"ngIf")}]),angular.module("wixAngularPermissions").directive("wixPermissionIf",["$injector","permissionsManager","ngIfDirective",function(a,b,d){return c(a,b,"wixPermissionIf",d,"ngIf")}]),angular.module("wixAngularExperiments").directive("wixExperimentDisabled",["$injector","experimentManager","ngDisabledDirective",function(a,b,d){return c(a,b,"wixExperimentDisabled",d,"ngDisabled")}]),angular.module("wixAngularPermissions").directive("wixPermissionDisabled",["$injector","permissionsManager","ngDisabledDirective",function(a,b,d){return c(a,b,"wixPermissionDisabled",d,"ngDisabled")}])}(),function(){function a(a,b,c,d,e){return{restrict:"A",link:function(f,g,h){var i=d(h[c])(f),j=h[b];if(i){var k=i[a.get(e(j))];k&&g.addClass(k)}}}}function b(b,c,d,e){return b.invoke(a,this,{manager:c,directiveName:d,valuesToCheck:e})}a.$inject=["manager","directiveName","valuesToCheck","$parse","wixConstValue"],angular.module("wixAngularExperiments").directive("wixExperimentClass",["$injector","experimentManager",function(a,c){return b(a,c,"wixExperimentClass","experimentValues")}]),angular.module("wixAngularPermissions").directive("wixPermissionClass",["$injector","permissionsManager",function(a,c){return b(a,c,"wixPermissionClass","permissionValues")}])}(),function(){function a(a,b,c){var d=a,e=b,f=c,g="(["+e+d+f+"_+/!#$%&'*=?^`{}|~])",h=g+"(["+e+d+f+"._+/!#$%&'*=?^`{}|~])*"+g,i="[0-9a-zA-Z]+([-.][0-9a-zA-Z]+)*([0-9a-zA-Z]*[.])[a-zA-Z]{2,63}",j=new RegExp("^("+g+"|"+h+")@"+i+"$");return{require:"ngModel",restrict:"A",link:function(a,b,c,d){d.$parsers.unshift(function(a){return!a||j.test(a)?(d.$setValidity("wixMailValidator",!0),a):void d.$setValidity("wixMailValidator",!1)})}}}a.$inject=["letterUnicode","numberUnicode","dashPunctuationUnicode"],angular.module("wixAngularAppInternal").directive("wixMailValidator",a)}(),function(){angular.module("wixAngularAppInternal").factory("wixConstValue",["$injector",function(a){return function(b){var c=a.has(b)?a.get(b):b;return c}}])}(),function(){function a(a,b,c,d,e,f){function g(b){return a.reject(b)}function h(){l||j===b.userGUID||c.$emit(d.userSwitch,b.userGUID,j),j=b.userGUID,l=!1}function i(a,b){return a?(m[b]=m[b]||i(),m[b]):Math.floor(9e4*Math.random())+1e4}var j,k={},l=!0,m={};return k.request=function(a){return h(),a.url.match(/\.(?:html|svg)$/)?a.url.match(/(:|^)\/\//)||a.cache&&a.cache.get&&a.cache.get(a.url)||(a.url=e.calcPartialsUrl(e.staticsUrl)+a.url.replace(/^\//,"")):0===a.url.indexOf("/_api/")&&(a.url=e.fixOrigin(a.url),"GET"===a.method&&f.has("experimentManager")&&f.get("experimentManager").isExperimentEnabled("specs.wos.CachBustingAPI")&&(a.url=URI(a.url).addSearch("cb339",i(a.cache,a.url)).toString()),e.instance&&!a.headers["X-Wix-Instance"]&&(a.headers["X-Wix-Instance"]=e.instance)),a},k.response=function(a){if(a.data){if(a.data.success===!1)return a.status=500,g(a);if(a.data.success===!0&&void 0!==a.data.payload)if(angular.isObject(a.data.payload)&&!angular.isArray(a.data.payload)){var b=a.data.payload;delete a.data.payload,delete a.data.success,delete a.data.errorCode,delete a.data.errorDescription,a.data=angular.extend(a.data,b)}else a.data=a.data.payload}return a},k.responseError=function(a){return g(a)},k}function b(a){a.decorator("$httpBackend",["$delegate",function(a){return["expect","when"].forEach(function(b){var c=a[b];a[b]=function(a,b){if("string"==typeof b){var d=b;arguments[1]={test:function(a){return URI(a).removeSearch("cb339").equals(d)},toString:function(){return d}}}return c.apply(this,arguments)}}),a}])}a.$inject=["$q","wixCookies","$rootScope","wixAngularEvents","wixAngularTopology","$injector"],b.$inject=["$provide"],angular.module("wixAngularAppInternal").factory("wixAngularInterceptor",a).constant("wixAngularEvents",{userSwitch:"userSwitch"});try{angular.module("ngMock").config(b)}catch(c){}try{angular.module("ngMockE2E").config(b)}catch(c){}}(),function(){function a(a,b,c){this.getStaticsUrl=a.getStaticsUrl,this.setStaticsUrl=a.setStaticsUrl;var d=b.isExperimentEnabled.bind(b);this.setExperiments=b.setExperiments.bind(b),this.isExperimentEnabled=d,this.debugEnabled=function(a){c.reportFinishedEnabled(!a),c.reportErrorsEnabled(!a)},this.$get=["wixAngularTopology","experimentManager",function(a,b){var c={};return c.experiments=b.$$getExperimentsObj(),c.isExperimentEnabled=d,c.fixOrigin=a.fixOrigin,c.staticsUrl=a.staticsUrl,c.partialsUrl=a.partialsUrl,c}],this.$get.$inject=["wixAngularTopology","experimentManager"]}a.$inject=["wixAngularTopologyProvider","experimentManagerProvider","nrNgClientProvider"],angular.module("wixAngularBackwardCompatibility").provider("wixAngular",a)}(),function(){function a(a,b,c,d,e,f,g,h,i){function j(){return a.reject(d.RUNTIME_EXCEPTION)}function k(e,f){function g(){return e}var k=b.getCacheKey(e,f.options);return c.set(k,f).then(g,function(e){return e===d.RUNTIME_EXCEPTION?j():f.options.type===h?a.reject():c.clear(b.getRecordSize(k,f)+i).then(function(){return c.set(k,f).then(g,j)},function(){return a.reject(d.QUOTA_EXCEEDED)})})}var l={};return l.set=function(a,c,d){b.validateKey(a),b.validateData(c),b.validateExpiration(d);var g={createdAt:Date.now(),data:c,options:angular.extend({expiration:e,type:f},d)};return k(a,g)},l.setWithGUID=function(a){var c=b.generateRandomKey();return this.set(c,a,{expiration:null,type:g})},l.get=function(e,f){return c.get(b.getCacheKey(e,f)).then(function(c){return c&&!b.isExpired(c)?c.data:a.reject(d.NOT_FOUND)},j)},l.remove=function(a,d){return c.del(b.getCacheKey(a,d))["catch"](j)},b.isUserLoggedIn()||(l.set=l.get=l.remove=function(){return a.reject(d.LOGGED_OUT)}),l}a.$inject=["$q","recordUtils","cleanableStorage","wixAngularStorageErrors","DEFAULT_AGE_IN_SEC","DATA_TYPE","ADHOC_TYPE","REMOTE_TYPE","CLEAN_EPSILON"],angular.module("wixAngularStorage").factory("wixCache",a)}(),function(){function a(a){function b(a){var b=a?a.split("|"):[];return{guid:b[6],userName:b[0]}}function c(a){return a.split(";").map(function(a){return a.trim()}).reduce(function(a,b){var c=b.split("=");return a[c[0]]=c[1],a},{})}function d(){var d=a()||"";return d!==f&&(f=d,e=b(c(d).wixClient)),e}var e,f;return{get userGUID(){return d().guid},get userName(){return d().userName}}}a.$inject=["cookieStr"],angular.module("wixAngularAppInternal").factory("wixCookies",a).factory("cookieStr",["$document",function(a){return function(){return a[0]&&a[0].cookie||""}}])}(),function(){function a(a,b,c,d,e,f){function g(a){return localStorage[a]&&JSON.parse(localStorage[a])}function h(a){var b=g(a);if(b){var d=c.getRecordSize(a,b);return delete localStorage[a],d}return 0}function i(a){return a.reduce(function(a,b){return a+=h(b)},0)}function j(){return Object.keys(localStorage).filter(c.hasPrefix)}function k(){return j().reduce(function(a,b){return a+c.getRecordSize(b,g(b))},0)}function l(){var a=function(a,b){return a.createdAt-b.createdAt},b=function(a){return a.key};r=[],s=[],j().forEach(function(a){var b=g(a),c=b.options.type===d?r:s;c.push({key:a,createdAt:b.createdAt})}),r.sort(a),s.sort(a),r=r.map(b),s=s.map(b)}function m(){return i(j().filter(function(a){return!c.belongsToCurrentUser(a)}))}function n(){return i(j().filter(function(a){var b=g(a);return c.isExpired(b)}))}function o(){var a=0===s.length?r:s,b=a.shift();return h(b)}function p(a){var b=a||0,c=0;c+=m(),c+=n();var d=k(),e=0;for(l();d-e>f;){var g=o();c+=g,e+=g}if(b-c>d-e)return!1;for(;b>c;)c+=o();return!0}function q(a){var c=b.defer();try{var d,e=a(function(){d=!0,c.resolve()},function(){d=!0,c.reject()});d||c.resolve(e)}catch(f){c.reject()}return c.promise}var r=[],s=[];return p(),a(function(){p()},e),{set:function(a,b){return q(function(){localStorage[a]=JSON.stringify(b)})},get:function(a){return q(function(){return g(a)})},del:function(a){return q(function(){delete localStorage[a]})},clear:function(a){return q(function(b,c){p(a)?b():c()})}}}a.$inject=["$interval","$q","recordUtils","DATA_TYPE","CLEANING_INTERVAL","MAX_STORAGE_SIZE_IN_BYTES"],angular.module("wixAngularStorage").factory("cleanableStorage",a)}(),function(){function a(a,b,c,d,e,f,g,h){function i(a,b,c){return c.noCache?void 0:d.set(a,b,angular.extend({},c,{type:g,expiration:h}))}function j(c,d){var g=d.siteId?"getVolatilePrefForSite":"getVolatilePrefForKey",h=["/_api/wix-user-preferences-webapp",g,f,d.siteId,c].filter(angular.identity).join("/");return b.get(h).then(function(b){return null===b.data[c]?a.reject(e.NOT_FOUND):(i(c,b.data[c],d),b.data[c])},function(b){return 404===b.status?(i(c,null,d),a.reject(e.NOT_FOUND)):a.reject(e.SERVER_ERROR)})}function k(b,c){return d.get(b,c).then(function(b){return null===b?a.reject(e.NOT_FOUND):b},function(){return j(b,c)})}var l={};return l.set=function(a,d,e){var g=e||{};c.validateKey(a),c.validateData(d),c.validateExpiration(g);var h={nameSpace:f,key:a,blob:d};return g.siteId&&(h.siteId=g.siteId),g.expiration&&(h.TTLInDays=Math.ceil(g.expiration/86400)),b.post("/_api/wix-user-preferences-webapp/set",h).then(function(){return i(a,d,g),a})},l.get=function(a,b){var c=b||{};return c.noCache?j(a,c):k(a,c)},l.remove=function(a,b){return l.set(a,null,b)},c.isUserLoggedIn()||(l.set=l.get=l.remove=function(){return a.reject(e.LOGGED_OUT)}),l}a.$inject=["$q","$http","recordUtils","wixCache","wixAngularStorageErrors","ANGULAR_STORAGE_PREFIX","REMOTE_TYPE","DEFAULT_AGE_IN_SEC"],angular.module("wixAngularStorage").factory("wixStorage",a)}(),function(){function a(a,b,c,d,e,f){function g(a){return encodeURI(a).match(/%..|./g).length}function h(a){return a&&!!a.expiration}var i={};return i.isUserLoggedIn=function(){return void 0!==a.userGUID},i.validateKey=function(a){if("string"!=typeof a||a.length>d)throw new Error("Key length should be no more than "+d+" chars")},i.validateData=function(a){var b=JSON.stringify(a);if(g(b)>e)throw new Error("The size of passed data exceeds the allowed "+e/1024+" KB")},i.validateExpiration=function(a){if(h(a)&&("number"!=typeof a.expiration||a.expiration>f))throw new Error("Expiration should be a number and cannot increase "+f+" seconds")},i.isExpired=function(a){return h(a.options)?a.createdAt+1e3*a.options.expiration<=Date.now():!1},i.getRecordSize=function(a,b){return g(a)+g(JSON.stringify(b))},i.getCacheKey=function(d,e){var f=e||{};return[b,a.userGUID,f.siteId,d].filter(angular.identity).join(c)},i.generateRandomKey=function(){return Math.random().toString(36).slice(2)},i.hasPrefix=function(a){return 0===a.indexOf(b)},i.belongsToCurrentUser=function(b){return i.isUserLoggedIn()?b.split(c)[1]===a.userGUID:!1},i}a.$inject=["wixCookies","ANGULAR_STORAGE_PREFIX","KEY_SEPARATOR","MAX_KEY_LENGTH","MAX_VALUE_SIZE_IN_BYTES","MAX_AGE_IN_SEC"],angular.module("wixAngularStorage").factory("recordUtils",a)}(),function(){function a(a,b){var c,d="";this.getStaticsUrl=function(){return d},this.setStaticsUrl=function(c){d=c&&c.replace(/\/?$/,"/").replace(/^\/\//,location.protocol+"//"),a.resourceUrlWhitelist([d+"**","self"]),b.tag("staticUrl",d)},this.setInstance=function(a){c=a},this.$get=["$window","$document","$location",function(a,b,e){function f(){return/\.wixpress\.com$/.test(a.location.hostname)}function g(a){return a.replace(/^([^\/]*\/\/+)?[^\/]*/,h)}var h=b.find&&b.find("base").attr("href")?a.location.protocol+"//"+a.location.host:"",i={};return i.fixOrigin=g,i.calcPartialsUrl=function(a,b){return!b&&e.protocol&&"https"===e.protocol()?a:a?g(a.replace("/services/","/_partials/")):""},i.staticsUrl=d?d:"",i.partialsUrl=d?g(d.replace("/services/","/_partials/")):"",i.isStaging=f,i.instance=c,i}],this.$get.$inject=["$window","$document","$location"]}a.$inject=["$sceDelegateProvider","nrNgClientProvider"],angular.module("wixAngularAppInternal").provider("wixAngularTopology",a)}(),window.jsonpExperiemts={},window.loadExperimentScopeSync=function(a){var b="//www.wix.com/_api/wix-laboratory-server/laboratory/conductAllInScope?scope="+a+"&accept=jsonp&callback=setExperimentsSync";document.write('<script src="'+b+'"></script>'),window.setExperimentsSync=function(a,b){angular.extend(window.jsonpExperiemts,b)}};var ExperimentManager=function(){function a(a,b){this.provider=a,this.$http=b,this.petriUrlPrefix="/_api/wix-laboratory-server/laboratory/",this.getExperimentValue=a.getExperimentValue.bind(a),this.isExperimentEnabled=a.isExperimentEnabled.bind(a)}return a.$inject=["provider","$http"],a.prototype.get=function(a){return this.getExperimentValue(a)},a.prototype.contains=function(a){return this.isExperimentEnabled(a)},a.prototype.loadScope=function(a){var b=this;return this.$$queryPetri({scope:a}).then(function(a){return b.provider.setExperiments(a),a})},a.prototype.loadExperiment=function(a,b){var c=this;return this.$$queryPetri({name:a,fallback:b}).then(function(b){var d={};return d[a]=b,c.provider.setExperiments(d),b})},a.prototype.$$queryPetri=function(a){return this.$http.get(this.getPetriUrl(a),{params:this.getQueryParams(a),cache:!0}).then(function(a){return a.data})},a.prototype.$$getExperimentsObj=function(){return this.provider.experiments},a.prototype.getPetriUrl=function(a){return this.petriUrlPrefix+(a.scope?"conductAllInScope/":"conductExperiment/")},a.prototype.getQueryParams=function(a){return a.scope?{scope:a.scope}:{key:a.name,fallback:a.fallback}},a}(),ExperimentManagerProvider=function(){function a(){this.experiments=angular.copy(window.jsonpExperiemts)}return a.prototype.clearExperiments=function(){this.experiments={}},a.prototype.isExperimentEnabled=function(a){return"true"===this.experiments[a]},a.prototype.setExperiments=function(a){angular.extend(this.experiments,a)},a.prototype.getExperimentValue=function(a){return this.experiments[a]},a.prototype.$get=function(a){return a.instantiate(ExperimentManager,{provider:this})},a.prototype.$get.$inject=["$injector"],a}();angular.module("wixAngularExperiments").provider("experimentManager",ExperimentManagerProvider).run(["$rootScope","experimentManager",function(a,b){a.experimentManager=b}]),window.beforeEach&&window.beforeEach(function(){angular.module("experimentManagerMock").config(["experimentManagerProvider",function(a){a.clearExperiments()}])}),angular.module("experimentManagerMock",[]).config(["$provide",function(a){a.decorator("experimentManager",["$delegate","$q",function(a,b){function c(a,b){-1===b.indexOf(a)&&b.push(a)}function d(a){void 0===f(a)?c(a,i):c(a,j)}function e(a){var c=b.defer();return a.scope?c.resolve(h[a.scope]||{}):c.resolve(Object.keys(h).reduce(function(b,c){return b||h[c][a.name]},void 0)||a.fallback),c.promise}var f=a.getExperimentValue.bind(a),g=a.isExperimentEnabled.bind(a),h={},i=[],j=[];return a.getExperimentValue=function(a){return d(a),f(a)},a.isExperimentEnabled=function(a){return d(a),g(a)},a.$$queryPetri=function(a){return b.when(a).then(e)},a.setScopeExperiments=function(a,b){h[a]=b},a.verifyNoUnexpectedExperiments=function(){if(i.length)throw"unexpected experiments: "+i.join(", ")},a.verifyNoUnusedExperiments=function(){var b=Object.keys(a.$$getExperimentsObj()).filter(function(a){return-1===j.indexOf(a)});if(b.length)throw"unused experiments: "+b.join(", ")},a}])}]);var PermissionsManager=function(){function a(a,b){var c=this;this.provider=a,this.wixRoles=b,this.defaultContextKey="default-context",this.defaultContextGetter=function(){return c.defaultContextKey},this.contextGetter=this.defaultContextGetter,this.permissionsContextMap={},this.permissionsContextMap[this.defaultContextKey]=this.provider.permissionsDefinition}return a.$inject=["provider","wixRoles"],a.prototype.contains=function(a,b){var c=b||this.contextGetter(),d=this.permissionsContextMap[c];return d?this.hasPermission(d,a):!1},a.prototype.get=function(a){return this.contains(a).toString()},a.prototype.loadScope=function(a){throw new Error("This method is not implemented.")},a.prototype.assignPermissionsMap=function(a){angular.extend(this.permissionsContextMap,a)},a.prototype.setContextGetter=function(a){this.contextGetter=a},a.prototype.resetContextGetter=function(){this.contextGetter=this.defaultContextGetter},a.prototype.$$getOwnerId=function(){return this.getCurrentPermissionsDefinition().$$ownerId},a.prototype.getSiteToken=function(){return this.getCurrentPermissionsDefinition().siteToken},a.prototype.$$getRoles=function(){return this.getCurrentPermissionsDefinition().$$roles},a.prototype.$$isOwner=function(){return this.getCurrentPermissionsDefinition().isOwner},a.prototype.isWixStaff=function(a){return-1!==a.indexOf(this.wixRoles.WIX_STAFF)},a.prototype.getCurrentPermissionsDefinition=function(){return this.permissionsContextMap[this.contextGetter()]},a.prototype.hasPermission=function(a,b){var c=this.isWixStaff(a.$$roles),d=-1!==a.permissions.indexOf(b);return a.isOwner||c||d},a}(),PermissionsManagerProvider=function(){function a(){this.permissionsDefinition=new PermissionsDefinition({permissions:[],isOwner:!1,ownerId:void 0,roles:[]})}return a.prototype.setAuthorizationInfo=function(a){this.permissionsDefinition=new PermissionsDefinition(a)},a.prototype.setPermissions=function(a){this.permissionsDefinition=a},a.prototype.$get=function(a){return a.instantiate(PermissionsManager,{provider:this})},a.prototype.$get.$inject=["$injector"],a}();angular.module("wixAngularPermissions").provider("permissionsManager",PermissionsManagerProvider);var IsPermitted=function(){function a(a,b){this.permissionsManager=a,this.wixManagerEval=b}return a.$inject=["permissionsManager","wixManagerEval"],a.prototype.filter=function(a,b,c,d){var e=this.wixManagerEval.eval(this.permissionsManager,b,d);return e?a:c},a}();angular.module("wixAngularPermissions").filter("isPermitted",["$injector",function(a){var b=a.instantiate(IsPermitted);return b.filter.bind(b)}]);var WixManagerEval=function(){function a(a){this.wixConstValue=a}return a.$inject=["wixConstValue"],a.prototype.eval=function(a,b,c){var d=/^(\!*)([^!].*)/.exec(b),e=d[1],f=d[2],g=a.contains(this.wixConstValue(f),c);return e.length%2?!g:g},a}();angular.module("wixAngularAppInternal").service("wixManagerEval",WixManagerEval),angular.module("wixAngularAppInternal").value("angularVersion",angular.version).factory("cookieReaderFacade",["$injector","$browser","angularVersion",function(a,b,c){return c.minor>3?a.get("$$cookieReader"):function(){return b.cookies()}}]),function(){function a(a){return function(b,c,d,e){function f(){i=this,h=arguments;var f=function(){g=null,d||(j=b.apply(i,h))},k=d&&!g;return g&&a.cancel(g),g=a(f,c,e),k&&(j=b.apply(i,h)),j}var g,h,i,j;return f.cancel=function(){a.cancel(g),g=null},f}}a.$inject=["$timeout"],angular.module("wixAngularAppInternal").service("wixDebounce",a)}();var WixHeightWatcherModule;!function(a){a.HEIGHT_CHANGED_EVENT="wix-height-changed-event"}(WixHeightWatcherModule||(WixHeightWatcherModule={}));var WixHeightWatcher=function(){function a(a,b,c,d){var e=this;this.wixDebounce=a,this.$document=b,this.$rootScope=c,this.$timeout=d,this.height=0,this.checkHeight=this.wixDebounce(this.checkHeight,50,!1,!1),this.$rootScope.$watch(function(){return e.checkHeight()})}return a.$inject=["wixDebounce","$document","$rootScope","$timeout"],a.prototype.reportHeight=function(a){var b=this;this.$rootScope.$apply(function(){return b.$rootScope.$emit(WixHeightWatcherModule.HEIGHT_CHANGED_EVENT,a)})},a.prototype.checkHeight=function(){var a=this.$document,b=a[0].body,c=a[0].documentElement,d=Math.max(b.offsetHeight,c.offsetHeight);this.height!==d&&(this.height=d,this.reportHeight(d))},a.prototype.subscribe=function(a){return this.$rootScope.$on(WixHeightWatcherModule.HEIGHT_CHANGED_EVENT,function(b,c){a(c)})},a}();angular.module("wixAngularAppInternal").service("wixHeightWatcher",WixHeightWatcher);var WixTpaHeightChangedDirectiveCtrl=function(){function a(a,b,c){var d=b.subscribe(function(a){return c.Wix.setHeight(a)});a.$on("$destroy",function(){return d()})}return a.$inject=["$scope","wixHeightWatcher","$window"],a}();angular.module("wixAngularAppInternal").directive("wixTpaHeightChanged",function(){return{restrict:"A",controller:WixTpaHeightChangedDirectiveCtrl,controllerAs:"wixTpaHeightChangedDirectiveCtrl",bindToController:!0}});var WixHeightChangedCtrl=function(){function a(a,b,c){var d=c.subscribe(function(c){a.$eval(b.wixHeightChanged,{height:c})});a.$on("$destroy",function(){return d()})}return a.$inject=["$scope","$attrs","wixHeightWatcher"],a}();angular.module("wixAngularAppInternal").directive("wixHeightChanged",function(){return{controller:WixHeightChangedCtrl,controllerAs:"wixHeightChangedCtrl",bindToController:!0,restrict:"A"}}),angular.module("wixAngularAppInternal").run(["$injector","$locale","$log","$window",function(a,b,c,d){var e=a.has("preferredLanguage")&&a.get("preferredLanguage"),f=b.id.slice(0,2);if(e&&e!==f){var g="Translation language ("+e+") does not match locale ("+f+")";c.error(g),d.NREUM&&d.NREUM.noticeError(new Error(g))}}]),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=window.Slick||{};b=function(){function b(b,d){var e,f,g=this;if(g.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(b),appendDots:a(b),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(a,b){return'<button type="button" data-role="none">'+(b+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,onSetPosition:null,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},g.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},a.extend(g,g.initials),g.activeBreakpoint=null,g.animType=null,g.animProp=null,g.breakpoints=[],g.breakpointSettings=[],g.cssTransitions=!1,g.paused=!1,g.positionProp=null,g.respondTo=null,g.shouldClick=!0,g.$slider=a(b),g.$slidesCache=null,g.transformType=null,g.transitionType=null,g.windowWidth=0,g.windowTimer=null,g.options=a.extend({},g.defaults,d),g.currentSlide=g.options.initialSlide,g.originalSettings=g.options,e=g.options.responsive||null,e&&e.length>-1){g.respondTo=g.options.respondTo||"window";for(f in e)e.hasOwnProperty(f)&&(g.breakpoints.push(e[f].breakpoint),g.breakpointSettings[e[f].breakpoint]=e[f].settings);g.breakpoints.sort(function(a,b){return b-a})}g.autoPlay=a.proxy(g.autoPlay,g),g.autoPlayClear=a.proxy(g.autoPlayClear,g),g.changeSlide=a.proxy(g.changeSlide,g),g.clickHandler=a.proxy(g.clickHandler,g),g.selectHandler=a.proxy(g.selectHandler,g),g.setPosition=a.proxy(g.setPosition,g),g.swipeHandler=a.proxy(g.swipeHandler,g),g.dragHandler=a.proxy(g.dragHandler,g),g.keyHandler=a.proxy(g.keyHandler,g),g.autoPlayIterator=a.proxy(g.autoPlayIterator,g),g.instanceUid=c++,g.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,g.init(),g.checkResponsive()}var c=0;return b}(),b.prototype.addSlide=function(b,c,d){var e=this;if("boolean"==typeof c)d=c,c=null;else if(0>c||c>=e.slideCount)return!1;e.unload(),"number"==typeof c?0===c&&0===e.$slides.length?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):d===!0?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateSlide=function(b,c){var d={},e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var f=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:f},e.options.speed)}e.options.rtl===!0&&e.options.vertical===!1&&(b=-b),e.transformsEnabled===!1?e.options.vertical===!1?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):e.cssTransitions===!1?a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){e.options.vertical===!1?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}}):(e.applyTransition(),e.options.vertical===!1?d[e.animType]="translate3d("+b+"px, 0px, 0px)":d[e.animType]="translate3d(0px,"+b+"px, 0px)",e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.asNavFor=function(b){var c=this,d=null!=c.options.asNavFor?a(c.options.asNavFor).getSlick():null;null!=d&&d.slideHandler(b,!0)},b.prototype.applyTransition=function(a){var b=this,c={};b.options.fade===!1?c[b.transitionType]=b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:c[b.transitionType]="opacity "+b.options.speed+"ms "+b.options.cssEase,b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer),a.slideCount>a.options.slidesToShow&&a.paused!==!0&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this;a.options.infinite===!1?1===a.direction?(a.currentSlide+1===a.slideCount-1&&(a.direction=0),a.slideHandler(a.currentSlide+a.options.slidesToScroll)):(a.currentSlide-1===0&&(a.direction=1),a.slideHandler(a.currentSlide-a.options.slidesToScroll)):a.slideHandler(a.currentSlide+a.options.slidesToScroll)},b.prototype.buildArrows=function(){var b=this;b.options.arrows===!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow=a(b.options.prevArrow),b.$nextArrow=a(b.options.nextArrow),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.appendTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),b.options.infinite!==!0&&b.$prevArrow.addClass("slick-disabled"));
},b.prototype.buildDots=function(){var b,c,d=this;if(d.options.dots===!0&&d.slideCount>d.options.slidesToShow){for(c='<ul class="'+d.options.dotsClass+'">',b=0;b<=d.getDotCount();b+=1)c+="<li>"+d.options.customPaging.call(this,d,b)+"</li>";c+="</ul>",d.$dots=a(c).appendTo(d.options.appendDots),d.$dots.find("li").first().addClass("slick-active")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(b.options.slide+":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("index",b)}),b.$slidesCache=b.$slides,b.$slider.addClass("slick-slider"),b.$slideTrack=0===b.slideCount?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0),b.options.centerMode===!0&&(b.options.slidesToScroll=1),a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.options.accessibility===!0&&b.$list.prop("tabIndex",0),b.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),b.options.draggable===!0&&b.$list.addClass("draggable")},b.prototype.checkResponsive=function(){var b,c,d,e=this,f=e.$slider.width(),g=window.innerWidth||a(window).width();if("window"===e.respondTo?d=g:"slider"===e.respondTo?d=f:"min"===e.respondTo&&(d=Math.min(g,f)),e.originalSettings.responsive&&e.originalSettings.responsive.length>-1&&null!==e.originalSettings.responsive){c=null;for(b in e.breakpoints)e.breakpoints.hasOwnProperty(b)&&d<e.breakpoints[b]&&(c=e.breakpoints[b]);null!==c?null!==e.activeBreakpoint?c!==e.activeBreakpoint&&(e.activeBreakpoint=c,e.options=a.extend({},e.originalSettings,e.breakpointSettings[c]),e.refresh()):(e.activeBreakpoint=c,e.options=a.extend({},e.originalSettings,e.breakpointSettings[c]),e.refresh()):null!==e.activeBreakpoint&&(e.activeBreakpoint=null,e.options=e.originalSettings,e.refresh())}},b.prototype.changeSlide=function(b,c){var d,e,f,g,h,i=this,j=a(b.target);switch(j.is("a")&&b.preventDefault(),f=i.slideCount%i.options.slidesToScroll!==0,d=f?0:(i.slideCount-i.currentSlide)%i.options.slidesToScroll,b.data.message){case"previous":e=0===d?i.options.slidesToScroll:i.options.slidesToShow-d,i.slideCount>i.options.slidesToShow&&i.slideHandler(i.currentSlide-e,!1,c);break;case"next":e=0===d?i.options.slidesToScroll:d,i.slideCount>i.options.slidesToShow&&i.slideHandler(i.currentSlide+e,!1,c);break;case"index":var k=0===b.data.index?0:b.data.index||a(b.target).parent().index()*i.options.slidesToScroll;if(g=i.getNavigableIndexes(),h=0,g[k]&&g[k]===k)if(k>g[g.length-1])k=g[g.length-1];else for(var l in g){if(k<g[l]){k=h;break}h=g[l]}i.slideHandler(k,!1,c);default:return}},b.prototype.clickHandler=function(a){var b=this;b.shouldClick===!1&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(){var b=this;b.autoPlayClear(),b.touchObject={},a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&"object"!=typeof b.options.prevArrow&&b.$prevArrow.remove(),b.$nextArrow&&"object"!=typeof b.options.nextArrow&&b.$nextArrow.remove(),b.$slides.parent().hasClass("slick-track")&&b.$slides.unwrap().unwrap(),b.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),b.$slider.removeClass("slick-slider"),b.$slider.removeClass("slick-initialized"),b.$list.off(".slick"),a(window).off(".slick-"+b.instanceUid),a(document).off(".slick-"+b.instanceUid)},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b,c){var d=this;d.cssTransitions===!1?(d.$slides.eq(b).css({zIndex:1e3}),d.$slides.eq(b).animate({opacity:1},d.options.speed,d.options.easing,c),d.$slides.eq(a).animate({opacity:0},d.options.speed,d.options.easing)):(d.applyTransition(b),d.applyTransition(a),d.$slides.eq(b).css({opacity:1,zIndex:1e3}),d.$slides.eq(a).css({opacity:0}),c&&setTimeout(function(){d.disableTransition(b),d.disableTransition(a),c.call()},d.options.speed))},b.prototype.filterSlides=function(a){var b=this;null!==a&&(b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.getCurrent=function(){var a=this;return a.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(a.options.infinite===!0)d=Math.ceil(a.slideCount/a.options.slidesToScroll);else for(;b<a.slideCount;)++d,b=c+a.options.slidesToShow,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d-1},b.prototype.getLeft=function(a){var b,c,d,e=this,f=0;return e.slideOffset=0,c=e.$slides.first().outerHeight(),e.options.infinite===!0?(e.slideCount>e.options.slidesToShow&&(e.slideOffset=e.slideWidth*e.options.slidesToShow*-1,f=c*e.options.slidesToShow*-1),e.slideCount%e.options.slidesToScroll!==0&&a+e.options.slidesToScroll>e.slideCount&&e.slideCount>e.options.slidesToShow&&(a>e.slideCount?(e.slideOffset=(e.options.slidesToShow-(a-e.slideCount))*e.slideWidth*-1,f=(e.options.slidesToShow-(a-e.slideCount))*c*-1):(e.slideOffset=e.slideCount%e.options.slidesToScroll*e.slideWidth*-1,f=e.slideCount%e.options.slidesToScroll*c*-1))):a+e.options.slidesToShow>e.slideCount&&(e.slideOffset=(a+e.options.slidesToShow-e.slideCount)*e.slideWidth,f=(a+e.options.slidesToShow-e.slideCount)*c),e.slideCount<=e.options.slidesToShow&&(e.slideOffset=0,f=0),e.options.centerMode===!0&&e.options.infinite===!0?e.slideOffset+=e.slideWidth*Math.floor(e.options.slidesToShow/2)-e.slideWidth:e.options.centerMode===!0&&(e.slideOffset=0,e.slideOffset+=e.slideWidth*Math.floor(e.options.slidesToShow/2)),b=e.options.vertical===!1?a*e.slideWidth*-1+e.slideOffset:a*c*-1+f,e.options.variableWidth===!0&&(d=e.slideCount<=e.options.slidesToShow||e.options.infinite===!1?e.$slideTrack.children(".slick-slide").eq(a):e.$slideTrack.children(".slick-slide").eq(a+e.options.slidesToShow),b=d[0]?-1*d[0].offsetLeft:0,e.options.centerMode===!0&&(d=e.options.infinite===!1?e.$slideTrack.children(".slick-slide").eq(a):e.$slideTrack.children(".slick-slide").eq(a+e.options.slidesToShow+1),b=d[0]?-1*d[0].offsetLeft:0,b+=(e.$list.width()-d.outerWidth())/2)),b},b.prototype.getNavigableIndexes=function(){for(var a=this,b=0,c=0,d=[];b<a.slideCount;)d.push(b),b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d},b.prototype.getSlideCount=function(){var b,c=this;if(c.options.swipeToSlide===!0){var d=null;return c.$slideTrack.find(".slick-slide").each(function(b,e){return e.offsetLeft+a(e).outerWidth()/2>-1*c.swipeLeft?(d=e,!1):void 0}),b=Math.abs(a(d).attr("index")-c.currentSlide)}return c.options.slidesToScroll},b.prototype.init=function(){var b=this;a(b.$slider).hasClass("slick-initialized")||(a(b.$slider).addClass("slick-initialized"),b.buildOut(),b.setProps(),b.startLoad(),b.loadSlider(),b.initializeEvents(),b.updateArrows(),b.updateDots()),null!==b.options.onInit&&b.options.onInit.call(this,b)},b.prototype.initArrowEvents=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.on("click.slick",{message:"next"},a.changeSlide))},b.prototype.initDotEvents=function(){var b=this;b.options.dots===!0&&b.slideCount>b.options.slidesToShow&&a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),b.options.dots===!0&&b.options.pauseOnDotsHover===!0&&b.options.autoplay===!0&&a("li",b.$dots).on("mouseenter.slick",function(){b.paused=!0,b.autoPlayClear()}).on("mouseleave.slick",function(){b.paused=!1,b.autoPlay()})},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),b.options.pauseOnHover===!0&&b.options.autoplay===!0&&(b.$list.on("mouseenter.slick",function(){b.paused=!0,b.autoPlayClear()}),b.$list.on("mouseleave.slick",function(){b.paused=!1,b.autoPlay()})),b.options.accessibility===!0&&b.$list.on("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.options.slide,b.$slideTrack).on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,function(){b.checkResponsive(),b.setPosition()}),a(window).on("resize.slick.slick-"+b.instanceUid,function(){a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.setPosition()},50))}),a("*[draggable!=true]",b.$slideTrack).on("dragstart",function(a){a.preventDefault()}),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).on("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.initUI=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.show(),a.options.autoplay===!0&&a.autoPlay()},b.prototype.keyHandler=function(a){var b=this;37===a.keyCode&&b.options.accessibility===!0?b.changeSlide({data:{message:"previous"}}):39===a.keyCode&&b.options.accessibility===!0&&b.changeSlide({data:{message:"next"}})},b.prototype.lazyLoad=function(){function b(b){a("img[data-lazy]",b).each(function(){var b=a(this),c=a(this).attr("data-lazy");b.load(function(){b.animate({opacity:1},200)}).css({opacity:0}).attr("src",c).removeAttr("data-lazy").removeClass("slick-loading")})}var c,d,e,f,g=this;g.options.centerMode===!0?g.options.infinite===!0?(e=g.currentSlide+(g.options.slidesToShow/2+1),f=e+g.options.slidesToShow+2):(e=Math.max(0,g.currentSlide-(g.options.slidesToShow/2+1)),f=2+(g.options.slidesToShow/2+1)+g.currentSlide):(e=g.options.infinite?g.options.slidesToShow+g.currentSlide:g.currentSlide,f=e+g.options.slidesToShow,g.options.fade===!0&&(e>0&&e--,f<=g.slideCount&&f++)),c=g.$slider.find(".slick-slide").slice(e,f),b(c),g.slideCount<=g.options.slidesToShow?(d=g.$slider.find(".slick-slide"),b(d)):g.currentSlide>=g.slideCount-g.options.slidesToShow?(d=g.$slider.find(".slick-cloned").slice(0,g.options.slidesToShow),b(d)):0===g.currentSlide&&(d=g.$slider.find(".slick-cloned").slice(-1*g.options.slidesToShow),b(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),"progressive"===a.options.lazyLoad&&a.progressiveLazyLoad()},b.prototype.postSlide=function(a){var b=this;null!==b.options.onAfterChange&&b.options.onAfterChange.call(this,b,a),b.animating=!1,b.setPosition(),b.swipeLeft=null,b.options.autoplay===!0&&b.paused===!1&&b.autoPlay()},b.prototype.progressiveLazyLoad=function(){var b,c,d=this;b=a("img[data-lazy]",d.$slider).length,b>0&&(c=a("img[data-lazy]",d.$slider).first(),c.attr("src",c.attr("data-lazy")).removeClass("slick-loading").load(function(){c.removeAttr("data-lazy"),d.progressiveLazyLoad()}).error(function(){c.removeAttr("data-lazy"),d.progressiveLazyLoad()}))},b.prototype.refresh=function(){var b=this,c=b.currentSlide;b.destroy(),a.extend(b,b.initials),b.init(),b.changeSlide({data:{message:"index",index:c}},!0)},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&0!==b.currentSlide&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.options.focusOnSelect===!0&&a(b.options.slide,b.$slideTrack).on("click.slick",b.selectHandler),b.setSlideClasses(0),b.setPosition(),null!==b.options.onReInit&&b.options.onReInit.call(this,b)},b.prototype.removeSlide=function(a,b,c){var d=this;return"boolean"==typeof a?(b=a,a=b===!0?0:d.slideCount-1):a=b===!0?--a:a,d.slideCount<1||0>a||a>d.slideCount-1?!1:(d.unload(),c===!0?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,void d.reinit())},b.prototype.setCSS=function(a){var b,c,d=this,e={};d.options.rtl===!0&&(a=-a),b="left"==d.positionProp?a+"px":"0px",c="top"==d.positionProp?a+"px":"0px",e[d.positionProp]=a,d.transformsEnabled===!1?d.$slideTrack.css(e):(e={},d.cssTransitions===!1?(e[d.animType]="translate("+b+", "+c+")",d.$slideTrack.css(e)):(e[d.animType]="translate3d("+b+", "+c+", 0px)",d.$slideTrack.css(e)))},b.prototype.setDimensions=function(){var b=this;if(b.options.vertical===!1?b.options.centerMode===!0&&b.$list.css({padding:"0px "+b.options.centerPadding}):(b.$list.height(b.$slides.first().outerHeight(!0)*b.options.slidesToShow),b.options.centerMode===!0&&b.$list.css({padding:b.options.centerPadding+" 0px"})),b.listWidth=b.$list.width(),b.listHeight=b.$list.height(),b.options.vertical===!1&&b.options.variableWidth===!1)b.slideWidth=Math.ceil(b.listWidth/b.options.slidesToShow),b.$slideTrack.width(Math.ceil(b.slideWidth*b.$slideTrack.children(".slick-slide").length));else if(b.options.variableWidth===!0){var c=0;b.slideWidth=Math.ceil(b.listWidth/b.options.slidesToShow),b.$slideTrack.children(".slick-slide").each(function(){c+=Math.ceil(a(this).outerWidth(!0))}),b.$slideTrack.width(Math.ceil(c)+1)}else b.slideWidth=Math.ceil(b.listWidth),b.$slideTrack.height(Math.ceil(b.$slides.first().outerHeight(!0)*b.$slideTrack.children(".slick-slide").length));var d=b.$slides.first().outerWidth(!0)-b.$slides.first().width();b.options.variableWidth===!1&&b.$slideTrack.children(".slick-slide").width(b.slideWidth-d)},b.prototype.setFade=function(){var b,c=this;c.$slides.each(function(d,e){b=c.slideWidth*d*-1,c.options.rtl===!0?a(e).css({position:"relative",right:b,top:0,zIndex:800,opacity:0}):a(e).css({position:"relative",left:b,top:0,zIndex:800,opacity:0})}),c.$slides.eq(c.currentSlide).css({zIndex:900,opacity:1})},b.prototype.setHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),a.options.fade===!1?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),null!==a.options.onSetPosition&&a.options.onSetPosition.call(this,a)},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=a.options.vertical===!0?"top":"left","top"===a.positionProp?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),void 0===b.WebkitTransition&&void 0===b.MozTransition&&void 0===b.msTransition||a.options.useCSS===!0&&(a.cssTransitions=!0),void 0!==b.OTransform&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.MozTransform&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",void 0===b.perspectiveProperty&&void 0===b.MozPerspective&&(a.animType=!1)),void 0!==b.webkitTransform&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.msTransform&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",void 0===b.msTransform&&(a.animType=!1)),void 0!==b.transform&&a.animType!==!1&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=null!==a.animType&&a.animType!==!1},b.prototype.setSlideClasses=function(a){var b,c,d,e,f=this;f.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),c=f.$slider.find(".slick-slide"),f.options.centerMode===!0?(b=Math.floor(f.options.slidesToShow/2),f.options.infinite===!0&&(a>=b&&a<=f.slideCount-1-b?f.$slides.slice(a-b,a+b+1).addClass("slick-active"):(d=f.options.slidesToShow+a,c.slice(d-b+1,d+b+2).addClass("slick-active")),0===a?c.eq(c.length-1-f.options.slidesToShow).addClass("slick-center"):a===f.slideCount-1&&c.eq(f.options.slidesToShow).addClass("slick-center")),f.$slides.eq(a).addClass("slick-center")):a>=0&&a<=f.slideCount-f.options.slidesToShow?f.$slides.slice(a,a+f.options.slidesToShow).addClass("slick-active"):c.length<=f.options.slidesToShow?c.addClass("slick-active"):(e=f.slideCount%f.options.slidesToShow,d=f.options.infinite===!0?f.options.slidesToShow+a:a,f.options.slidesToShow==f.options.slidesToScroll&&f.slideCount-a<f.options.slidesToShow?c.slice(d-(f.options.slidesToShow-e),d+e).addClass("slick-active"):c.slice(d,d+f.options.slidesToShow).addClass("slick-active")),"ondemand"===f.options.lazyLoad&&f.lazyLoad()},b.prototype.setupInfinite=function(){var b,c,d,e=this;if(e.options.fade===!0&&(e.options.centerMode=!1),e.options.infinite===!0&&e.options.fade===!1&&(c=null,e.slideCount>e.options.slidesToShow)){for(d=e.options.centerMode===!0?e.options.slidesToShow+1:e.options.slidesToShow,b=e.slideCount;b>e.slideCount-d;b-=1)c=b-1,a(e.$slides[c]).clone(!0).attr("id","").attr("index",c-e.slideCount).prependTo(e.$slideTrack).addClass("slick-cloned");for(b=0;d>b;b+=1)c=b,a(e.$slides[c]).clone(!0).attr("id","").attr("index",c+e.slideCount).appendTo(e.$slideTrack).addClass("slick-cloned");e.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},b.prototype.selectHandler=function(b){var c=this,d=parseInt(a(b.target).parents(".slick-slide").attr("index"));return d||(d=0),c.slideCount<=c.options.slidesToShow?(c.$slider.find(".slick-slide").removeClass("slick-active"),c.$slides.eq(d).addClass("slick-active"),c.options.centerMode===!0&&(c.$slider.find(".slick-slide").removeClass("slick-center"),c.$slides.eq(d).addClass("slick-center")),void c.asNavFor(d)):void c.slideHandler(d)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,h=null,i=this;return b=b||!1,i.animating===!0&&i.options.waitForAnimate===!0||i.options.fade===!0&&i.currentSlide===a||i.slideCount<=i.options.slidesToShow?void 0:(b===!1&&i.asNavFor(a),d=a,h=i.getLeft(d),g=i.getLeft(i.currentSlide),i.currentLeft=null===i.swipeLeft?g:i.swipeLeft,i.options.infinite===!1&&i.options.centerMode===!1&&(0>a||a>i.getDotCount()*i.options.slidesToScroll)?void(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d))):i.options.infinite===!1&&i.options.centerMode===!0&&(0>a||a>i.slideCount-i.options.slidesToScroll)?void(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d))):(i.options.autoplay===!0&&clearInterval(i.autoPlayTimer),e=0>d?i.slideCount%i.options.slidesToScroll!==0?i.slideCount-i.slideCount%i.options.slidesToScroll:i.slideCount+d:d>=i.slideCount?i.slideCount%i.options.slidesToScroll!==0?0:d-i.slideCount:d,i.animating=!0,null!==i.options.onBeforeChange&&a!==i.currentSlide&&i.options.onBeforeChange.call(this,i,i.currentSlide,e),f=i.currentSlide,i.currentSlide=e,i.setSlideClasses(i.currentSlide),i.updateDots(),i.updateArrows(),i.options.fade===!0?void(c!==!0?i.fadeSlide(f,e,function(){i.postSlide(e)}):i.postSlide(e)):void(c!==!0?i.animateSlide(h,function(){i.postSlide(e)}):i.postSlide(e))))},b.prototype.startLoad=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),0>d&&(d=360-Math.abs(d)),45>=d&&d>=0?e.options.rtl===!1?"left":"right":360>=d&&d>=315?e.options.rtl===!1?"left":"right":d>=135&&225>=d?e.options.rtl===!1?"right":"left":"vertical"},b.prototype.swipeEnd=function(a){var b=this;if(b.dragging=!1,b.shouldClick=!(b.touchObject.swipeLength>10),void 0===b.touchObject.curX)return!1;if(b.touchObject.swipeLength>=b.touchObject.minSwipe)switch(b.swipeDirection()){case"left":b.slideHandler(b.currentSlide+b.getSlideCount()),b.currentDirection=0,b.touchObject={};break;case"right":b.slideHandler(b.currentSlide-b.getSlideCount()),b.currentDirection=1,b.touchObject={}}else b.touchObject.startX!==b.touchObject.curX&&(b.slideHandler(b.currentSlide),b.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(!(b.options.swipe===!1||"ontouchend"in document&&b.options.swipe===!1||b.options.draggable===!1&&-1!==a.type.indexOf("mouse")))switch(b.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var b,c,d,e,f=this;return e=void 0!==a.originalEvent?a.originalEvent.touches:null,!f.dragging||e&&1!==e.length?!1:(b=f.getLeft(f.currentSlide),f.touchObject.curX=void 0!==e?e[0].pageX:a.clientX,f.touchObject.curY=void 0!==e?e[0].pageY:a.clientY,f.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(f.touchObject.curX-f.touchObject.startX,2))),c=f.swipeDirection(),"vertical"!==c?(void 0!==a.originalEvent&&f.touchObject.swipeLength>4&&a.preventDefault(),d=(f.options.rtl===!1?1:-1)*(f.touchObject.curX>f.touchObject.startX?1:-1),f.options.vertical===!1?f.swipeLeft=b+f.touchObject.swipeLength*d:f.swipeLeft=b+f.touchObject.swipeLength*(f.$list.height()/f.listWidth)*d,f.options.fade===!0||f.options.touchMove===!1?!1:f.animating===!0?(f.swipeLeft=null,!1):void f.setCSS(f.swipeLeft)):void 0)},b.prototype.swipeStart=function(a){var b,c=this;return 1!==c.touchObject.fingerCount||c.slideCount<=c.options.slidesToShow?(c.touchObject={},!1):(void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(b=a.originalEvent.touches[0]),c.touchObject.startX=c.touchObject.curX=void 0!==b?b.pageX:a.clientX,c.touchObject.startY=c.touchObject.curY=void 0!==b?b.pageY:a.clientY,void(c.dragging=!0))},b.prototype.unfilterSlides=function(){var a=this;null!==a.$slidesCache&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&"object"!=typeof b.options.prevArrow&&b.$prevArrow.remove(),b.$nextArrow&&"object"!=typeof b.options.nextArrow&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},b.prototype.updateArrows=function(){var a,b=this;a=Math.floor(b.options.slidesToShow/2),b.options.arrows===!0&&b.options.infinite!==!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow.removeClass("slick-disabled"),b.$nextArrow.removeClass("slick-disabled"),0===b.currentSlide?(b.$prevArrow.addClass("slick-disabled"),b.$nextArrow.removeClass("slick-disabled")):b.currentSlide>=b.slideCount-b.options.slidesToShow&&b.options.centerMode===!1?(b.$nextArrow.addClass("slick-disabled"),b.$prevArrow.removeClass("slick-disabled")):b.currentSlide>b.slideCount-b.options.slidesToShow+a&&b.options.centerMode===!0&&(b.$nextArrow.addClass("slick-disabled"),b.$prevArrow.removeClass("slick-disabled")))},b.prototype.updateDots=function(){var a=this;null!==a.$dots&&(a.$dots.find("li").removeClass("slick-active"),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active"))},a.fn.slick=function(a){var c=this;return c.each(function(c,d){d.slick=new b(d,a)})},a.fn.slickAdd=function(a,b,c){var d=this;return d.each(function(d,e){e.slick.addSlide(a,b,c)})},a.fn.slickCurrentSlide=function(){var a=this;return a.get(0).slick.getCurrent()},a.fn.slickFilter=function(a){var b=this;return b.each(function(b,c){c.slick.filterSlides(a)})},a.fn.slickGoTo=function(a,b){var c=this;return c.each(function(c,d){d.slick.changeSlide({data:{message:"index",index:parseInt(a)}},b)})},a.fn.slickNext=function(){var a=this;return a.each(function(a,b){b.slick.changeSlide({data:{message:"next"}})})},a.fn.slickPause=function(){var a=this;return a.each(function(a,b){b.slick.autoPlayClear(),b.slick.paused=!0})},a.fn.slickPlay=function(){var a=this;return a.each(function(a,b){b.slick.paused=!1,b.slick.autoPlay()})},a.fn.slickPrev=function(){var a=this;return a.each(function(a,b){b.slick.changeSlide({data:{message:"previous"}})})},a.fn.slickRemove=function(a,b){var c=this;return c.each(function(c,d){d.slick.removeSlide(a,b)})},a.fn.slickRemoveAll=function(){var a=this;return a.each(function(a,b){b.slick.removeSlide(null,null,!0)})},a.fn.slickGetOption=function(a){var b=this;return b.get(0).slick.options[a]},a.fn.slickSetOption=function(a,b,c){var d=this;return d.each(function(d,e){e.slick.options[a]=b,c===!0&&(e.slick.unload(),e.slick.reinit())})},a.fn.slickUnfilter=function(){var a=this;return a.each(function(a,b){b.slick.unfilterSlides()})},a.fn.unslick=function(){var a=this;return a.each(function(a,b){b.slick&&b.slick.destroy()})},a.fn.getSlick=function(){var a=null,b=this;return b.each(function(b,c){a=c.slick}),a}}),angular.module("slick",[]).directive("slick",["$timeout",function(a){return{restrict:"AEC",scope:{initOnload:"@",data:"=",currentIndex:"=",accessibility:"@",adaptiveHeight:"@",arrows:"@",asNavFor:"@",appendArrows:"@",appendDots:"@",autoplay:"@",autoplaySpeed:"@",centerMode:"@",centerPadding:"@",cssEase:"@",customPaging:"&",dots:"@",draggable:"@",easing:"@",fade:"@",focusOnSelect:"@",infinite:"@",initialSlide:"@",lazyLoad:"@",onBeforeChange:"&",onAfterChange:"&",onInit:"&",onReInit:"&",onSetPosition:"&",pauseOnHover:"@",pauseOnDotsHover:"@",responsive:"=",rtl:"@",slide:"@",slidesToShow:"@",slidesToScroll:"@",speed:"@",swipe:"@",swipeToSlide:"@",touchMove:"@",touchThreshold:"@",useCSS:"@",variableWidth:"@",vertical:"@",prevArrow:"@",nextArrow:"@"},link:function(b,c,d){var e,f,g;return e=function(){return a(function(){var a;return a=$(c),a.unslick(),a.find(".slick-list").remove(),a})},f=function(){return a(function(){var a,e;return e=$(c),null!=b.currentIndex&&(a=b.currentIndex),e.slick({accessibility:"false"!==b.accessibility,adaptiveHeight:"true"===b.adaptiveHeight,arrows:"false"!==b.arrows,asNavFor:b.asNavFor?b.asNavFor:void 0,appendArrows:b.appendArrows?$(b.appendArrows):$(c),appendDots:b.appendDots?$(b.appendDots):$(c),autoplay:"true"===b.autoplay,autoplaySpeed:null!=b.autoplaySpeed?parseInt(b.autoplaySpeed,10):3e3,centerMode:"true"===b.centerMode,centerPadding:b.centerPadding||"50px",cssEase:b.cssEase||"ease",customPaging:d.customPaging?b.customPaging:void 0,dots:"true"===b.dots,draggable:"false"!==b.draggable,easing:b.easing||"linear",fade:"true"===b.fade,focusOnSelect:"true"===b.focusOnSelect,infinite:"false"!==b.infinite,initialSlide:b.initialSlide||0,lazyLoad:b.lazyLoad||"ondemand",onBeforeChange:d.onBeforeChange?b.onBeforeChange:void 0,onAfterChange:function(c,e){return d.onAfterChange&&b.onAfterChange(),null!=a?b.$apply(function(){return a=e,b.currentIndex=e}):void 0},onInit:function(c){return d.onInit&&b.onInit(),null!=a?c.slideHandler(a):void 0},onReInit:d.onReInit?b.onReInit:void 0,onSetPosition:d.onSetPosition?b.onSetPosition:void 0,pauseOnHover:"false"!==b.pauseOnHover,responsive:b.responsive||void 0,rtl:"true"===b.rtl,slide:b.slide||"div",slidesToShow:null!=b.slidesToShow?parseInt(b.slidesToShow,10):1,slidesToScroll:null!=b.slidesToScroll?parseInt(b.slidesToScroll,10):1,speed:null!=b.speed?parseInt(b.speed,10):300,swipe:"false"!==b.swipe,swipeToSlide:"true"===b.swipeToSlide,touchMove:"false"!==b.touchMove,touchThreshold:b.touchThreshold?parseInt(b.touchThreshold,10):5,useCSS:"false"!==b.useCSS,variableWidth:"true"===b.variableWidth,vertical:"true"===b.vertical,prevArrow:b.prevArrow?$(b.prevArrow):void 0,nextArrow:b.nextArrow?$(b.nextArrow):void 0}),b.$watch("currentIndex",function(b,c){return null!=a&&null!=b&&b!==a?e.slickGoTo(b):void 0})})},b.initOnload?(g=!1,b.$watch("data",function(a,b){return null!=a?(g&&e(),f(),g=!0):void 0})):f()}}}]),function(){"use strict";var a={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(b){var c=b.which;switch(c){case a.COMMAND:case a.SHIFT:case a.CTRL:case a.ALT:return!0}return!!b.metaKey},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a},isVerticalMovement:function(b){return~[a.UP,a.DOWN].indexOf(b)},isHorizontalMovement:function(b){return~[a.LEFT,a.RIGHT,a.BACKSPACE,a.DELETE].indexOf(b)},toSeparator:function(b){var c={ENTER:"\n",TAB:"	",SPACE:" "}[b];return c?c:a[b]?void 0:b}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(a){return angular.element(this[0].querySelectorAll(a))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(a){for(var b=this[0],c=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector;b;){if(c.bind(b)(a))return b;b=b.parentElement}return!1});var b=0,c=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return b++},appendToBody:!1}).service("uiSelectMinErr",function(){var a=angular.$$minErr("ui.select");return function(){var b=a.apply(this,arguments),c=b.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(c)}}).directive("uisTranscludeAppend",function(){return{link:function(a,b,c,d,e){e(a,function(a){b.append(a)})}}}).filter("highlight",function(){function a(a){return(""+a).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c&&b?(""+b).replace(new RegExp(a(c),"gi"),'<span class="ui-select-highlight">$&</span>'):b}}).factory("uisOffset",["$document","$window",function(a,b){return function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}}}]);c.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(a,b,c,d,e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(b){
b.addClass("ui-select-choices");var c=b.parent().attr("theme")||a.theme;return c+"/choices.tpl.html"},compile:function(f,g){if(!g.repeat)throw c("repeat","Expected 'repeat' expression.");return function(f,g,h,i,j){var k=h.groupBy,l=h.groupFilter;if(i.parseRepeatAttr(h.repeat,k,l),i.disableChoiceExpression=h.uiDisableChoice,i.onHighlightCallback=h.onHighlight,i.dropdownPosition=h.position?h.position.toLowerCase():a.dropdownPosition,k){var m=g.querySelectorAll(".ui-select-choices-group");if(1!==m.length)throw c("rows","Expected 1 .ui-select-choices-group but got '{0}'.",m.length);m.attr("ng-repeat",b.getGroupNgRepeatExpression())}var n=g.querySelectorAll(".ui-select-choices-row");if(1!==n.length)throw c("rows","Expected 1 .ui-select-choices-row but got '{0}'.",n.length);n.attr("ng-repeat",i.parserResult.repeatExpression(k)).attr("ng-if","$select.open"),e.document.addEventListener&&n.attr("ng-mouseenter","$select.setActiveItem("+i.parserResult.itemName+")").attr("ng-click","$select.select("+i.parserResult.itemName+",$select.skipFocusser,$event)");var o=g.querySelectorAll(".ui-select-choices-row-inner");if(1!==o.length)throw c("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",o.length);o.attr("uis-transclude-append",""),e.document.addEventListener||o.attr("ng-mouseenter","$select.setActiveItem("+i.parserResult.itemName+")").attr("ng-click","$select.select("+i.parserResult.itemName+",$select.skipFocusser,$event)"),d(g,j)(f),f.$watch("$select.search",function(a){a&&!i.open&&i.multiple&&i.activate(!1,!0),i.activeIndex=i.tagging.isActivated?-1:0,!h.minimumInputLength||i.search.length>=h.minimumInputLength?i.refresh(h.refresh):i.items=[]}),h.$observe("refreshDelay",function(){var b=f.$eval(h.refreshDelay);i.refreshDelay=void 0!==b?b:a.refreshDelay})}}}}]),c.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(b,c,d,e,f,g,h,i,j,k){function l(a,b,c){if(a.findIndex)return a.findIndex(b,c);for(var d,e=Object(a),f=e.length>>>0,g=0;f>g;g++)if(d=e[g],b.call(c,d,g,e))return g;return-1}function m(){(q.resetSearchInput||void 0===q.resetSearchInput&&h.resetSearchInput)&&(q.search=r,q.selected&&q.items.length&&!q.multiple&&(q.activeIndex=l(q.items,function(a){return angular.equals(this,a)},q.selected)))}function n(a,b){var c,d,e=[];for(c=0;c<b.length;c++)for(d=0;d<a.length;d++)a[d].name==[b[c]]&&e.push(a[d]);return e}function o(b){var c=!0;switch(b){case a.DOWN:!q.open&&q.multiple?q.activate(!1,!0):q.activeIndex<q.items.length-1&&q.activeIndex++;break;case a.UP:!q.open&&q.multiple?q.activate(!1,!0):(q.activeIndex>0||0===q.search.length&&q.tagging.isActivated&&q.activeIndex>-1)&&q.activeIndex--;break;case a.TAB:q.multiple&&!q.open||q.select(q.items[q.activeIndex],!0);break;case a.ENTER:q.open&&(q.tagging.isActivated||q.activeIndex>=0)?q.select(q.items[q.activeIndex],q.skipFocusser):q.activate(!1,!0);break;case a.ESC:q.close();break;default:c=!1}return c}function p(){var a=c.querySelectorAll(".ui-select-choices-content"),b=a.querySelectorAll(".ui-select-choices-row");if(b.length<1)throw g("choices","Expected multiple .ui-select-choices-row but got '{0}'.",b.length);if(!(q.activeIndex<0)){var d=b[q.activeIndex],e=d.offsetTop+d.clientHeight-a[0].scrollTop,f=a[0].offsetHeight;e>f?a[0].scrollTop+=e-f:e<d.clientHeight&&(q.isGrouped&&0===q.activeIndex?a[0].scrollTop=0:a[0].scrollTop-=d.clientHeight-e)}}var q=this,r="";if(q.placeholder=h.placeholder,q.searchEnabled=h.searchEnabled,q.sortable=h.sortable,q.refreshDelay=h.refreshDelay,q.paste=h.paste,q.removeSelected=!1,q.closeOnSelect=!0,q.skipFocusser=!1,q.search=r,q.activeIndex=0,q.items=[],q.open=!1,q.focus=!1,q.disabled=!1,q.selected=void 0,q.dropdownPosition="auto",q.focusser=void 0,q.resetSearchInput=!0,q.multiple=void 0,q.disableChoiceExpression=void 0,q.tagging={isActivated:!1,fct:void 0},q.taggingTokens={isActivated:!1,tokens:void 0},q.lockChoiceExpression=void 0,q.clickTriggeredSelect=!1,q.$filter=e,q.$animate=function(){try{return j.get("$animate")}catch(a){return null}}(),q.searchInput=c.querySelectorAll("input.ui-select-search"),1!==q.searchInput.length)throw g("searchInput","Expected 1 input.ui-select-search but got '{0}'.",q.searchInput.length);q.isEmpty=function(){return angular.isUndefined(q.selected)||null===q.selected||""===q.selected||q.multiple&&0===q.selected.length},q.activate=function(a,e){if(!q.disabled&&!q.open){e||m(),b.$broadcast("uis:activate"),q.open=!0,q.activeIndex=q.activeIndex>=q.items.length?0:q.activeIndex,-1===q.activeIndex&&q.taggingLabel!==!1&&(q.activeIndex=0);var f=c.querySelectorAll(".ui-select-choices-content");q.$animate&&q.$animate.on&&q.$animate.enabled(f[0])?q.$animate.on("enter",f[0],function(b,c){"close"===c&&d(function(){q.focusSearchInput(a)})}):d(function(){q.focusSearchInput(a),!q.tagging.isActivated&&q.items.length>1&&p()})}},q.focusSearchInput=function(a){q.search=a||q.search,q.searchInput[0].focus()},q.findGroupByName=function(a){return q.groups&&q.groups.filter(function(b){return b.name===a})[0]},q.parseRepeatAttr=function(a,c,d){function e(a){var e=b.$eval(c);if(q.groups=[],angular.forEach(a,function(a){var b=angular.isFunction(e)?e(a):a[e],c=q.findGroupByName(b);c?c.items.push(a):q.groups.push({name:b,items:[a]})}),d){var f=b.$eval(d);angular.isFunction(f)?q.groups=f(q.groups):angular.isArray(f)&&(q.groups=n(q.groups,f))}q.items=[],q.groups.forEach(function(a){q.items=q.items.concat(a.items)})}function h(a){q.items=a}q.setItemsFn=c?e:h,q.parserResult=f.parse(a),q.isGrouped=!!c,q.itemProperty=q.parserResult.itemName;var j=q.parserResult.source,k=function(){var a=j(b);b.$uisSource=Object.keys(a).map(function(b){var c={};return c[q.parserResult.keyName]=b,c.value=a[b],c})};q.parserResult.keyName&&(k(),q.parserResult.source=i("$uisSource"+q.parserResult.filters),b.$watch(j,function(a,b){a!==b&&k()},!0)),q.refreshItems=function(a){a=a||q.parserResult.source(b);var c=q.selected;if(q.isEmpty()||angular.isArray(c)&&!c.length||!q.removeSelected)q.setItemsFn(a);else if(void 0!==a){var d=a.filter(function(a){return c.every(function(b){return!angular.equals(a,b)})});q.setItemsFn(d)}"auto"!==q.dropdownPosition&&"up"!==q.dropdownPosition||b.calculateDropdownPos()},b.$watchCollection(q.parserResult.source,function(a){if(void 0===a||null===a)q.items=[];else{if(!angular.isArray(a))throw g("items","Expected an array but got '{0}'.",a);q.refreshItems(a),q.ngModel.$modelValue=null}})};var s;q.refresh=function(a){void 0!==a&&(s&&d.cancel(s),s=d(function(){b.$eval(a)},q.refreshDelay))},q.isActive=function(a){if(!q.open)return!1;var b=q.items.indexOf(a[q.itemProperty]),c=b==q.activeIndex;return!c||0>b&&q.taggingLabel!==!1||0>b&&q.taggingLabel===!1?!1:(c&&!angular.isUndefined(q.onHighlightCallback)&&a.$eval(q.onHighlightCallback),c)},q.isDisabled=function(a){if(q.open){var b,c=q.items.indexOf(a[q.itemProperty]),d=!1;return c>=0&&!angular.isUndefined(q.disableChoiceExpression)&&(b=q.items[c],d=!!a.$eval(q.disableChoiceExpression),b._uiSelectChoiceDisabled=d),d}},q.select=function(a,c,e){if(void 0===a||!a._uiSelectChoiceDisabled){if(!q.items&&!q.search&&!q.tagging.isActivated)return;if(!a||!a._uiSelectChoiceDisabled){if(q.tagging.isActivated){if(q.taggingLabel===!1)if(q.activeIndex<0){if(a=void 0!==q.tagging.fct?q.tagging.fct(q.search):q.search,!a||angular.equals(q.items[0],a))return}else a=q.items[q.activeIndex];else if(0===q.activeIndex){if(void 0===a)return;if(void 0!==q.tagging.fct&&"string"==typeof a){if(a=q.tagging.fct(a),!a)return}else"string"==typeof a&&(a=a.replace(q.taggingLabel,"").trim())}if(q.selected&&angular.isArray(q.selected)&&q.selected.filter(function(b){return angular.equals(b,a)}).length>0)return void q.close(c)}b.$broadcast("uis:select",a);var f={};f[q.parserResult.itemName]=a,d(function(){q.onSelectCallback(b,{$item:a,$model:q.parserResult.modelMapper(b,f)})}),q.closeOnSelect&&q.close(c),e&&"click"===e.type&&(q.clickTriggeredSelect=!0)}}},q.close=function(a){q.open&&(q.ngModel&&q.ngModel.$setTouched&&q.ngModel.$setTouched(),m(),q.open=!1,b.$broadcast("uis:close",a))},q.setFocus=function(){q.focus||q.focusInput[0].focus()},q.clear=function(a){q.select(void 0),a.stopPropagation(),d(function(){q.focusser[0].focus()},0,!1)},q.toggle=function(a){q.open?(q.close(),a.preventDefault(),a.stopPropagation()):q.activate()},q.isLocked=function(a,b){var c,d=q.selected[b];return d&&!angular.isUndefined(q.lockChoiceExpression)&&(c=!!a.$eval(q.lockChoiceExpression),d._uiSelectChoiceLocked=c),c};var t=null;q.sizeSearchInput=function(){var a=q.searchInput[0],c=q.searchInput.parent().parent()[0],e=function(){return c.clientWidth*!!a.offsetParent},f=function(b){if(0===b)return!1;var c=b-a.offsetLeft-10;return 50>c&&(c=b),q.searchInput.css("width",c+"px"),!0};q.searchInput.css("width","10px"),d(function(){null!==t||f(e())||(t=b.$watch(e,function(a){f(a)&&(t(),t=null)}))})},q.searchInput.on("keydown",function(c){var e=c.which;~[a.ENTER,a.ESC].indexOf(e)&&(c.preventDefault(),c.stopPropagation()),b.$apply(function(){var b=!1;if((q.items.length>0||q.tagging.isActivated)&&(o(e),q.taggingTokens.isActivated)){for(var f=0;f<q.taggingTokens.tokens.length;f++)q.taggingTokens.tokens[f]===a.MAP[c.keyCode]&&q.search.length>0&&(b=!0);b&&d(function(){q.searchInput.triggerHandler("tagged");var b=q.search.replace(a.MAP[c.keyCode],"").trim();q.tagging.fct&&(b=q.tagging.fct(b)),b&&q.select(b,!0)})}}),a.isVerticalMovement(e)&&q.items.length>0&&p(),e!==a.ENTER&&e!==a.ESC||(c.preventDefault(),c.stopPropagation())}),q.searchInput.on("paste",function(b){var c;if(c=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(b.originalEvent||b).clipboardData.getData("text/plain"),c=q.search+c,c&&c.length>0)if(q.taggingTokens.isActivated){var d=a.toSeparator(q.taggingTokens.tokens[0]),e=c.split(d||q.taggingTokens.tokens[0]);if(e&&e.length>0){var f=q.search;angular.forEach(e,function(a){var b=q.tagging.fct?q.tagging.fct(a):a;b&&q.select(b,!0)}),q.search=f||r,b.preventDefault(),b.stopPropagation()}}else q.paste&&(q.paste(c),q.search=r,b.preventDefault(),b.stopPropagation())}),q.searchInput.on("tagged",function(){d(function(){m()})}),b.$on("$destroy",function(){q.searchInput.off("keyup keydown tagged blur paste")}),angular.element(k).bind("resize",function(){q.sizeSearchInput()})}]),c.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(a,b,c,d,e,f,g){return{restrict:"EA",templateUrl:function(a,c){var d=c.theme||b.theme;return d+(angular.isDefined(c.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(e,h){var i=/{(.*)}\s*{(.*)}/.exec(h.ngClass);if(i){var j="{"+i[1]+", "+i[2]+"}";h.ngClass=j,e.attr("ng-class",j)}return angular.isDefined(h.multiple)?e.append("<ui-select-multiple/>").removeAttr("multiple"):e.append("<ui-select-single/>"),h.inputId&&(e.querySelectorAll("input.ui-select-search")[0].id=h.inputId),function(e,h,i,j,k){function l(a){if(o.open){var b=!1;if(b=window.jQuery?window.jQuery.contains(h[0],a.target):h[0].contains(a.target),!b&&!o.clickTriggeredSelect){var c;if(o.skipFocusser)c=!0;else{var d=["input","button","textarea","select"],f=angular.element(a.target).controller("uiSelect");c=f&&f!==o,c||(c=~d.indexOf(a.target.tagName.toLowerCase()))}o.close(c),e.$digest()}o.clickTriggeredSelect=!1}}function m(){var b=d(h);r=angular.element('<div class="ui-select-placeholder"></div>'),r[0].style.width=b.width+"px",r[0].style.height=b.height+"px",h.after(r),s=h[0].style.width,a.find("body").append(h),h[0].style.position="absolute",h[0].style.left=b.left+"px",h[0].style.top=b.top+"px",h[0].style.width=b.width+"px"}function n(){null!==r&&(r.replaceWith(h),r=null,h[0].style.position="",h[0].style.left="",h[0].style.top="",h[0].style.width=s,o.setFocus())}var o=j[0],p=j[1];o.generatedId=b.generateId(),o.baseTitle=i.title||"Select box",o.focusserTitle=o.baseTitle+" focus",o.focusserId="focusser-"+o.generatedId,o.closeOnSelect=function(){return angular.isDefined(i.closeOnSelect)?f(i.closeOnSelect)():b.closeOnSelect}(),e.$watch("skipFocusser",function(){var a=e.$eval(i.skipFocusser);o.skipFocusser=void 0!==a?a:b.skipFocusser}),o.onSelectCallback=f(i.onSelect),o.onRemoveCallback=f(i.onRemove),o.limit=angular.isDefined(i.limit)?parseInt(i.limit,10):void 0,o.ngModel=p,o.choiceGrouped=function(a){return o.isGrouped&&a&&a.name},i.tabindex&&i.$observe("tabindex",function(a){o.focusInput.attr("tabindex",a),h.removeAttr("tabindex")}),e.$watch("searchEnabled",function(){var a=e.$eval(i.searchEnabled);o.searchEnabled=void 0!==a?a:b.searchEnabled}),e.$watch("sortable",function(){var a=e.$eval(i.sortable);o.sortable=void 0!==a?a:b.sortable}),i.$observe("disabled",function(){o.disabled=void 0!==i.disabled?i.disabled:!1}),i.$observe("resetSearchInput",function(){var a=e.$eval(i.resetSearchInput);o.resetSearchInput=void 0!==a?a:!0}),i.$observe("paste",function(){o.paste=e.$eval(i.paste)}),i.$observe("tagging",function(){if(void 0!==i.tagging){var a=e.$eval(i.tagging);o.tagging={isActivated:!0,fct:a!==!0?a:void 0}}else o.tagging={isActivated:!1,fct:void 0}}),i.$observe("taggingLabel",function(){void 0!==i.tagging&&("false"===i.taggingLabel?o.taggingLabel=!1:o.taggingLabel=void 0!==i.taggingLabel?i.taggingLabel:"(new)")}),i.$observe("taggingTokens",function(){if(void 0!==i.tagging){var a=void 0!==i.taggingTokens?i.taggingTokens.split("|"):[",","ENTER"];o.taggingTokens={isActivated:!0,tokens:a}}}),angular.isDefined(i.autofocus)&&g(function(){o.setFocus()}),angular.isDefined(i.focusOn)&&e.$on(i.focusOn,function(){g(function(){o.setFocus()})}),a.on("click",l),e.$on("$destroy",function(){a.off("click",l)}),k(e,function(a){var b=angular.element("<div>").append(a),d=b.querySelectorAll(".ui-select-match");if(d.removeAttr("ui-select-match"),d.removeAttr("data-ui-select-match"),1!==d.length)throw c("transcluded","Expected 1 .ui-select-match but got '{0}'.",d.length);h.querySelectorAll(".ui-select-match").replaceWith(d);var e=b.querySelectorAll(".ui-select-choices");if(e.removeAttr("ui-select-choices"),e.removeAttr("data-ui-select-choices"),1!==e.length)throw c("transcluded","Expected 1 .ui-select-choices but got '{0}'.",e.length);h.querySelectorAll(".ui-select-choices").replaceWith(e)});var q=e.$eval(i.appendToBody);(void 0!==q?q:b.appendToBody)&&(e.$watch("$select.open",function(a){a?m():n()}),e.$on("$destroy",function(){n()}));var r=null,s="",t=null,u="direction-up";e.$watch("$select.open",function(){"auto"!==o.dropdownPosition&&"up"!==o.dropdownPosition||e.calculateDropdownPos()});var v=function(a,b){a=a||d(h),b=b||d(t),t[0].style.position="absolute",t[0].style.top=-1*b.height+"px",h.addClass(u)},w=function(a,b){h.removeClass(u),a=a||d(h),b=b||d(t),t[0].style.position="",t[0].style.top=""};e.calculateDropdownPos=function(){if(o.open){if(t=angular.element(h).querySelectorAll(".ui-select-dropdown"),0===t.length)return;t[0].style.opacity=0,g(function(){if("up"===o.dropdownPosition)v();else{h.removeClass(u);var b=d(h),c=d(t),e=a[0].documentElement.scrollTop||a[0].body.scrollTop;b.top+b.height+c.height>e+a[0].documentElement.clientHeight?v(b,c):w(b,c)}t[0].style.opacity=1})}else{if(null===t||0===t.length)return;t[0].style.position="",t[0].style.top="",h.removeClass(u)}}}}}}]),c.directive("uiSelectMatch",["uiSelectConfig",function(a){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(b){b.addClass("ui-select-match");var c=b.parent().attr("theme")||a.theme,d=b.parent().attr("multiple");return c+(d?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(b,c,d,e){function f(a){e.allowClear=angular.isDefined(a)?""===a?!0:"true"===a.toLowerCase():!1}e.lockChoiceExpression=d.uiLockChoice,d.$observe("placeholder",function(b){e.placeholder=void 0!==b?b:a.placeholder}),d.$observe("allowClear",f),f(d.allowClear),e.multiple&&e.sizeSearchInput()}}}]),c.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(b,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(a,b){var c,d=this,e=a.$select;angular.isUndefined(e.selected)&&(e.selected=[]),a.$evalAsync(function(){c=a.ngModel}),d.activeMatchIndex=-1,d.updateModel=function(){c.$setViewValue(Date.now()),d.refreshComponent()},d.refreshComponent=function(){e.refreshItems(),e.sizeSearchInput()},d.removeChoice=function(c){var f=e.selected[c];if(!f._uiSelectChoiceLocked){var g={};g[e.parserResult.itemName]=f,e.selected.splice(c,1),d.activeMatchIndex=-1,e.sizeSearchInput(),b(function(){e.onRemoveCallback(a,{$item:f,$model:e.parserResult.modelMapper(a,g)})}),d.updateModel()}},d.getPlaceholder=function(){return e.selected&&e.selected.length?void 0:e.placeholder}}],controllerAs:"$selectMultiple",link:function(d,e,f,g){function h(a){return angular.isNumber(a.selectionStart)?a.selectionStart:a.value.length}function i(b){function c(){switch(b){case a.LEFT:return~n.activeMatchIndex?k:g;case a.RIGHT:return~n.activeMatchIndex&&i!==g?j:(l.activate(),!1);case a.BACKSPACE:return~n.activeMatchIndex?(n.removeChoice(i),k):g;case a.DELETE:return~n.activeMatchIndex?(n.removeChoice(n.activeMatchIndex),i):!1}}var d=h(l.searchInput[0]),e=l.selected.length,f=0,g=e-1,i=n.activeMatchIndex,j=n.activeMatchIndex+1,k=n.activeMatchIndex-1,m=i;return d>0||l.search.length&&b==a.RIGHT?!1:(l.close(),m=c(),l.selected.length&&m!==!1?n.activeMatchIndex=Math.min(g,Math.max(f,m)):n.activeMatchIndex=-1,!0)}function j(a){if(void 0===a||void 0===l.search)return!1;var b=a.filter(function(a){return void 0===l.search.toUpperCase()||void 0===a?!1:a.toUpperCase()===l.search.toUpperCase()}).length>0;return b}function k(a,b){var c=-1;if(angular.isArray(a))for(var d=angular.copy(a),e=0;e<d.length;e++)if(void 0===l.tagging.fct)d[e]+" "+l.taggingLabel===b&&(c=e);else{var f=d[e];angular.isObject(f)&&(f.isTag=!0),angular.equals(f,b)&&(c=e)}return c}var l=g[0],m=d.ngModel=g[1],n=d.$selectMultiple;l.multiple=!0,l.removeSelected=!0,l.focusInput=l.searchInput,m.$isEmpty=function(a){return!a||0===a.length},m.$parsers.unshift(function(){for(var a,b={},c=[],e=l.selected.length-1;e>=0;e--)b={},b[l.parserResult.itemName]=l.selected[e],a=l.parserResult.modelMapper(d,b),c.unshift(a);return c}),m.$formatters.unshift(function(a){var b,c=l.parserResult.source(d,{$select:{search:""}}),e={};if(!c)return a;var f=[],g=function(a,c){if(a&&a.length){for(var g=a.length-1;g>=0;g--){if(e[l.parserResult.itemName]=a[g],b=l.parserResult.modelMapper(d,e),l.parserResult.trackByExp){var h=/(\w*)\./.exec(l.parserResult.trackByExp),i=/\.([^\s]+)/.exec(l.parserResult.trackByExp);if(h&&h.length>0&&h[1]==l.parserResult.itemName&&i&&i.length>0&&b[i[1]]==c[i[1]])return f.unshift(a[g]),!0}if(angular.equals(b,c))return f.unshift(a[g]),!0}return!1}};if(!a)return f;for(var h=a.length-1;h>=0;h--)g(l.selected,a[h])||g(c,a[h])||f.unshift(a[h]);return f}),d.$watchCollection(function(){return m.$modelValue},function(a,b){b!=a&&(m.$modelValue=null,n.refreshComponent())}),m.$render=function(){if(!angular.isArray(m.$viewValue)){if(!angular.isUndefined(m.$viewValue)&&null!==m.$viewValue)throw b("multiarr","Expected model value to be array but got '{0}'",m.$viewValue);l.selected=[]}l.selected=m.$viewValue,n.refreshComponent(),d.$evalAsync()},d.$on("uis:select",function(a,b){l.selected.length>=l.limit||(l.selected.push(b),n.updateModel())}),d.$on("uis:activate",function(){n.activeMatchIndex=-1}),d.$watch("$select.disabled",function(a,b){b&&!a&&l.sizeSearchInput()}),l.searchInput.on("keydown",function(b){var c=b.which;d.$apply(function(){var d=!1;a.isHorizontalMovement(c)&&(d=i(c)),d&&c!=a.TAB&&(b.preventDefault(),b.stopPropagation())})}),l.searchInput.on("keyup",function(b){if(a.isVerticalMovement(b.which)||d.$evalAsync(function(){l.activeIndex=l.taggingLabel===!1?-1:0}),l.tagging.isActivated&&l.search.length>0){if(b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||a.isVerticalMovement(b.which))return;if(l.activeIndex=l.taggingLabel===!1?-1:0,l.taggingLabel===!1)return;var c,e,f,g,h=angular.copy(l.items),i=angular.copy(l.items),m=!1,n=-1;if(void 0!==l.tagging.fct){if(f=l.$filter("filter")(h,{isTag:!0}),f.length>0&&(g=f[0]),h.length>0&&g&&(m=!0,h=h.slice(1,h.length),i=i.slice(1,i.length)),c=l.tagging.fct(l.search),i.some(function(a){return angular.equals(a,l.tagging.fct(l.search))})||l.selected.some(function(a){return angular.equals(a,c)}))return void d.$evalAsync(function(){l.activeIndex=0,l.items=h});c.isTag=!0}else{if(f=l.$filter("filter")(h,function(a){return a.match(l.taggingLabel)}),f.length>0&&(g=f[0]),e=h[0],void 0!==e&&h.length>0&&g&&(m=!0,h=h.slice(1,h.length),i=i.slice(1,i.length)),c=l.search+" "+l.taggingLabel,k(l.selected,l.search)>-1)return;if(j(i.concat(l.selected)))return void(m&&(h=i,d.$evalAsync(function(){l.activeIndex=0,l.items=h})));if(j(i))return void(m&&(l.items=i.slice(1,i.length)))}m&&(n=k(l.selected,c)),n>-1?h=h.slice(n+1,h.length-1):(h=[],h.push(c),h=h.concat(i)),d.$evalAsync(function(){l.activeIndex=0,l.items=h})}}),l.searchInput.on("blur",function(){c(function(){n.activeMatchIndex=-1})})}}}]),c.directive("uiSelectSingle",["$timeout","$compile",function(b,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(d,e,f,g){var h=g[0],i=g[1];i.$parsers.unshift(function(a){var b,c={};return c[h.parserResult.itemName]=a,b=h.parserResult.modelMapper(d,c)}),i.$formatters.unshift(function(a){var b,c=h.parserResult.source(d,{$select:{search:""}}),e={};if(c){var f=function(c){return e[h.parserResult.itemName]=c,b=h.parserResult.modelMapper(d,e),b==a};if(h.selected&&f(h.selected))return h.selected;for(var g=c.length-1;g>=0;g--)if(f(c[g]))return c[g]}return a}),d.$watch("$select.selected",function(a){i.$viewValue!==a&&i.$setViewValue(a)}),i.$render=function(){h.selected=i.$viewValue},d.$on("uis:select",function(a,b){h.selected=b}),d.$on("uis:close",function(a,c){b(function(){h.focusser.prop("disabled",!1),c||h.focusser[0].focus()},0,!1)}),d.$on("uis:activate",function(){j.prop("disabled",!0)});var j=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");c(j)(d),h.focusser=j,h.focusInput=j,e.parent().append(j),j.bind("focus",function(){d.$evalAsync(function(){h.focus=!0})}),j.bind("blur",function(){d.$evalAsync(function(){h.focus=!1})}),j.bind("keydown",function(b){return b.which===a.BACKSPACE?(b.preventDefault(),b.stopPropagation(),h.select(void 0),void d.$apply()):void(b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||(b.which!=a.DOWN&&b.which!=a.UP&&b.which!=a.ENTER&&b.which!=a.SPACE||(b.preventDefault(),b.stopPropagation(),h.activate()),d.$digest()))}),j.bind("keyup input",function(b){b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||b.which==a.ENTER||b.which===a.BACKSPACE||(h.activate(j.val()),j.val(""),d.$digest())})}}}]),c.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(a,b,c){return{require:"^^uiSelect",link:function(b,d,e,f){if(null===b[e.uiSelectSort])throw c("sort","Expected a list to sort");var g=angular.extend({axis:"horizontal"},b.$eval(e.uiSelectSortOptions)),h=g.axis,i="dragging",j="dropping",k="dropping-before",l="dropping-after";b.$watch(function(){return f.sortable},function(a){a?d.attr("draggable",!0):d.removeAttr("draggable")}),d.on("dragstart",function(a){d.addClass(i),(a.dataTransfer||a.originalEvent.dataTransfer).setData("text",b.$index.toString())}),d.on("dragend",function(){d.removeClass(i)});var m,n=function(a,b){this.splice(b,0,this.splice(a,1)[0])},o=function(a){a.preventDefault();var b="vertical"===h?a.offsetY||a.layerY||(a.originalEvent?a.originalEvent.offsetY:0):a.offsetX||a.layerX||(a.originalEvent?a.originalEvent.offsetX:0);b<this["vertical"===h?"offsetHeight":"offsetWidth"]/2?(d.removeClass(l),d.addClass(k)):(d.removeClass(k),d.addClass(l))},p=function(b){b.preventDefault();var c=parseInt((b.dataTransfer||b.originalEvent.dataTransfer).getData("text"),10);a.cancel(m),m=a(function(){q(c)},20)},q=function(a){var c=b.$eval(e.uiSelectSort),f=c[a],g=null;g=d.hasClass(k)?a<b.$index?b.$index-1:b.$index:a<b.$index?b.$index:b.$index+1,n.apply(c,[a,g]),b.$apply(function(){b.$emit("uiSelectSort:change",{array:c,item:f,from:a,to:g})}),d.removeClass(j),d.removeClass(k),d.removeClass(l),d.off("drop",p)};d.on("dragenter",function(){d.hasClass(i)||(d.addClass(j),d.on("dragover",o),d.on("drop",p))}),d.on("dragleave",function(a){a.target==d&&(d.removeClass(j),d.removeClass(k),d.removeClass(l),d.off("dragover",o),d.off("drop",p))})}}}]),c.service("uisRepeatParser",["uiSelectMinErr","$parse",function(a,b){var c=this;c.parse=function(c){var d;if(d=c.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!d)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",c);var e=d[5],f="";if(d[3]){e=d[5].replace(/(^\()|(\)$)/g,"");var g=d[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);g&&g[1].trim()&&(f=g[1],e=e.replace(f,""))}return{itemName:d[4]||d[2],keyName:d[3],source:b(e),filters:f,trackByExp:d[6],modelMapper:b(d[1]||d[4]||d[2]),repeatExpression:function(a){var b=this.itemName+" in "+(a?"$group.items":"$select.items");return this.trackByExp&&(b+=" track by "+this.trackByExp),b}}},c.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function(a){a.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),a.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),a.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),a.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),a.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),a.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),a.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),a.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),a.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),
a.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),a.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),a.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),a.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),angular.module("debounce",[]).service("debounce",["$timeout",function(a){return function(b,c,d){function e(){h=this,g=arguments;var e=function(){f=null,d||(i=b.apply(h,g))},j=d&&!f;return f&&a.cancel(f),f=a(e,c),j&&(i=b.apply(h,g)),i}var f,g,h,i;return e.cancel=function(){a.cancel(f),f=null},e}}]).directive("debounce",["debounce","$parse",function(a,b){return{require:"ngModel",priority:999,link:function(c,d,e,f){var g,h,i=b(e.debounce)(c),j=!!b(e.immediate)(c),k=f.$render.bind(f),l=a(function(a){h=!0,f.$setViewValue(a),h=!1},parseInt(i,10),j);f.$render=function(){k(),l.cancel(),g=this.$viewValue},f.$parsers.unshift(function(a){return h?(g=a,a):(l(f.$viewValue),g)})}}}]),function(){"use strict";var a=1===angular.version.major&&0===angular.version.minor;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(b,c,d){var e=".rangeSlider",f={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},g=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},h=g.start+e,i=g.move+e,j=g.end+e,k=g.over+e,l=g.out+e,m=function(a){try{return[a.clientX||a.originalEvent.clientX||a.originalEvent.touches[0].clientX,a.clientY||a.originalEvent.clientY||a.originalEvent.touches[0].clientY]}catch(b){return["x","y"]}},n=function(a){return 0>a?0:a>100?100:a},o=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},p={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@",getterSetter:"@"};return a&&(p.disabled="=",p.modelMin="=",p.modelMax="="),{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value-runner">','<div class="ngrs-value ngrs-value-min" ng-show="showValues"><div>{{filteredModelMin}}</div></div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues"><div>{{filteredModelMax}}</div></div>',"</div>","</div>"].join(""),scope:p,link:function(a,g,p,q){function r(b){return a.getterSetter?arguments.length?a.modelMin(b):a.modelMin():arguments.length?a.modelMin=b:a.modelMin}function s(b){return a.getterSetter?arguments.length?a.modelMax(b):a.modelMax():arguments.length?a.modelMax=b:a.modelMax}function t(a){"min"===a?(angular.element(B[0]).css("display","none"),angular.element(B[1]).css("display","block")):"max"===a?(angular.element(B[0]).css("display","block"),angular.element(B[1]).css("display","none")):(angular.element(B[0]).css("display","block"),angular.element(B[1]).css("display","block"))}function u(a){a?A.addClass("ngrs-disabled"):A.removeClass("ngrs-disabled")}function v(){a.min>a.max&&y("min must be less than or equal to max"),angular.isDefined(a.min)&&angular.isDefined(a.max)&&(o(a.min)||y("min must be a number"),o(a.max)||y("max must be a number"),I=a.max-a.min,H=[a.min,a.max],w())}function w(){if(r()>s()&&(z("modelMin must be less than or equal to modelMax"),r(s())),(angular.isDefined(r())||"min"===a.pinHandle)&&(angular.isDefined(s())||"max"===a.pinHandle)){o(r())||("min"!==a.pinHandle&&z("modelMin must be a number"),r(a.min)),o(s())||("max"!==a.pinHandle&&z("modelMax must be a number"),s(a.max));var b,d,e=n((r()-a.min)/I*100),f=n((s()-a.min)/I*100);if(a.attachHandleValues&&(b=e,d=f),r(Math.max(a.min,r())),s(Math.min(a.max,s())),a.filter&&a.filterOptions)a.filteredModelMin=c(a.filter)(r(),a.filterOptions),a.filteredModelMax=c(a.filter)(s(),a.filterOptions);else if(a.filter){var g,h,i=a.filter.split(":"),j=a.filter.split(":")[0],k=i.slice().slice(1);k=k.map(function(a){return o(a)?+a:'"'==a[0]&&'"'==a[a.length-1]||"'"==a[0]&&"'"==a[a.length-1]?a.slice(1,-1):void 0}),g=k.slice(),h=k.slice(),g.unshift(r()),h.unshift(s()),a.filteredModelMin=c(j).apply(null,g),a.filteredModelMax=c(j).apply(null,h)}else a.filteredModelMin=r(),a.filteredModelMax=s();a.min===a.max&&r()==s()?(angular.element(B[0]).css(E,"0%"),angular.element(B[1]).css(E,"100%"),a.attachHandleValues&&(angular.element(C[0]).css(E,"0%"),angular.element(C[1]).css(E,"100%")),angular.element(D).css(E,"0%").css(F,"0%")):(angular.element(B[0]).css(E,e+"%"),angular.element(B[1]).css(E,f+"%"),a.attachHandleValues&&(angular.element(C[0]).css(E,b+"%"),angular.element(C[1]).css(E,d+"%"),angular.element(C[1]).css(F,"auto")),angular.element(D).css(E,e+"%").css(F,100-f+"%"),e>95&&angular.element(B[0]).css("z-index",3))}}function x(c){var d=B[c];d.bind(h+"X",function(f){var g=(0===c?"ngrs-handle-min":"ngrs-handle-max")+"-down",h=(0===c?r():s())-a.min,k=h/I*100,l=m(f),o=l,p=!1;angular.isFunction(a.onHandleDown)&&a.onHandleDown(),angular.element("body").bind("selectstart"+e,function(){return!1}),a.disabled||(J=!0,d.addClass("ngrs-down"),A.addClass("ngrs-focus "+g),angular.element("body").addClass("ngrs-touching"),b.bind(i,function(b){b.preventDefault();var e,f,g=m(b),h=a.step/I*100,i=((0===c?s():r())-a.min)/I*100;"x"!==g[0]&&(g[0]-=l[0],g[1]-=l[1],e=[o[0]!==g[0],o[1]!==g[1]],f=k+100*g[G]/(G?A.height():A.width()),f=n(f),a.preventEqualMinMax&&(0===h&&(h=1/I*100),0===c?i-=h:1===c&&(i+=h)),0===c?f=f>i?i:f:1===c&&(f=i>f?i:f),a.step>0&&100>f&&f>0&&(f=Math.round(f/h)*h),f>95&&0===c?d.css("z-index",3):d.css("z-index",""),e[G]&&f!=p&&(0===c?r(parseFloat(parseFloat(f*I/100+a.min).toFixed(a.decimalPlaces))):1===c&&s(parseFloat(parseFloat(f*I/100+a.min).toFixed(a.decimalPlaces))),a.$apply(),p=f),o=g)}).bind(j,function(){angular.isFunction(a.onHandleUp)&&a.onHandleUp(),b.off(i),b.off(j),angular.element("body").removeClass("ngrs-touching"),J=!1,d.removeClass("ngrs-down"),d.removeClass("ngrs-over"),A.removeClass("ngrs-focus "+g)}))}).on(k,function(){d.addClass("ngrs-over")}).on(l,function(){J||d.removeClass("ngrs-over")})}function y(b){throw a.disabled=!0,new Error("RangeSlider: "+b)}function z(a){d.warn(a)}var A=angular.element(g),B=[g.find(".ngrs-handle-min"),g.find(".ngrs-handle-max")],C=[g.find(".ngrs-value-min"),g.find(".ngrs-value-max")],D=g.find(".ngrs-join"),E="left",F="right",G=0,H=[0,0],I=0,J=!1;a.filteredModelMin=r(),a.filteredModelMax=s(),p.$observe("disabled",function(b){angular.isDefined(b)||(a.disabled=f.disabled),a.$watch("disabled",u)}),p.$observe("orientation",function(b){angular.isDefined(b)||(a.orientation=f.orientation);for(var c,d=a.orientation.split(" "),e=0,g=d.length;g>e;e++)d[e]="ngrs-"+d[e];c=d.join(" "),A.addClass(c),"vertical"!==a.orientation&&"vertical left"!==a.orientation&&"vertical right"!==a.orientation||(E="top",F="bottom",G=1)}),p.$observe("step",function(b){angular.isDefined(b)||(a.step=f.step)}),p.$observe("decimalPlaces",function(b){angular.isDefined(b)||(a.decimalPlaces=f.decimalPlaces)}),p.$observe("showValues",function(b){angular.isDefined(b)?"false"===b?a.showValues=!1:a.showValues=!0:a.showValues=f.showValues}),p.$observe("pinHandle",function(b){angular.isDefined(b)&&("min"===b||"max"===b)?a.pinHandle=b:a.pinHandle=null,a.$watch("pinHandle",t)}),p.$observe("preventEqualMinMax",function(b){angular.isDefined(b)?"false"===b?a.preventEqualMinMax=!1:a.preventEqualMinMax=!0:a.preventEqualMinMax=f.preventEqualMinMax}),p.$observe("attachHandleValues",function(b){angular.isDefined(b)?"true"===b||""===b?(a.attachHandleValues=!0,g.find(".ngrs-value-runner").addClass("ngrs-attached-handles")):a.attachHandleValues=!1:a.attachHandleValues=f.attachHandleValues}),a.$watch("min",v),a.$watch("max",v),a.$watch(function(){return r()},w),a.$watch(function(){return s()},w),a.$on("$destroy",function(){A.off(e),angular.element("body").off(e),b.off(e);for(var a=0,c=B.length;c>a;a++)B[a].off(e),B[a].off(e+"X")}),A.bind("selectstart"+e,function(a){return!1}).bind("click",function(a){a.stopPropagation()}),x(0),x(1)}}}]),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()}();
//# sourceMappingURL=modules.js.map